var GS=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var _L=GS((Km,EA)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function Qm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Lp={exports:{}},sc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function $S(){if(vE)return sc;vE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,o,l){var d=null;if(l!==void 0&&(d=""+l),o.key!==void 0&&(d=""+o.key),"key"in o){l={};for(var p in o)p!=="key"&&(l[p]=o[p])}else l=o;return o=l.ref,{$$typeof:i,type:r,key:d,ref:o!==void 0?o:null,props:l}}return sc.Fragment=e,sc.jsx=t,sc.jsxs=t,sc}var yE;function KS(){return yE||(yE=1,Lp.exports=$S()),Lp.exports}var v=KS(),Vp={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function QS(){if(_E)return ze;_E=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,U={};function M(O,J,le){this.props=O,this.context=J,this.refs=U,this.updater=le||I}M.prototype.isReactComponent={},M.prototype.setState=function(O,J){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,J,"setState")},M.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function F(){}F.prototype=M.prototype;function Z(O,J,le){this.props=O,this.context=J,this.refs=U,this.updater=le||I}var G=Z.prototype=new F;G.constructor=Z,S(G,M.prototype),G.isPureReactComponent=!0;var ce=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},Te=Object.prototype.hasOwnProperty;function j(O,J,le,ie,pe,ke){return le=ke.ref,{$$typeof:i,type:O,key:J,ref:le!==void 0?le:null,props:ke}}function R(O,J){return j(O.type,J,void 0,void 0,void 0,O.props)}function C(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function P(O){var J={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return J[le]})}var L=/\/+/g;function z(O,J){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):J.toString(36)}function N(){}function ye(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(N,N):(O.status="pending",O.then(function(J){O.status==="pending"&&(O.status="fulfilled",O.value=J)},function(J){O.status==="pending"&&(O.status="rejected",O.reason=J)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function _e(O,J,le,ie,pe){var ke=typeof O;(ke==="undefined"||ke==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(ke){case"bigint":case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case i:case e:we=!0;break;case y:return we=O._init,_e(we(O._payload),J,le,ie,pe)}}if(we)return pe=pe(O),we=ie===""?"."+z(O,0):ie,ce(pe)?(le="",we!=null&&(le=we.replace(L,"$&/")+"/"),_e(pe,J,le,"",function(dn){return dn})):pe!=null&&(C(pe)&&(pe=R(pe,le+(pe.key==null||O&&O.key===pe.key?"":(""+pe.key).replace(L,"$&/")+"/")+we)),J.push(pe)),1;we=0;var wt=ie===""?".":ie+":";if(ce(O))for(var Je=0;Je<O.length;Je++)ie=O[Je],ke=wt+z(ie,Je),we+=_e(ie,J,le,ke,pe);else if(Je=T(O),typeof Je=="function")for(O=Je.call(O),Je=0;!(ie=O.next()).done;)ie=ie.value,ke=wt+z(ie,Je++),we+=_e(ie,J,le,ke,pe);else if(ke==="object"){if(typeof O.then=="function")return _e(ye(O),J,le,ie,pe);throw J=String(O),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return we}function Q(O,J,le){if(O==null)return O;var ie=[],pe=0;return _e(O,ie,"","",function(ke){return J.call(le,ke,pe++)}),ie}function re(O){if(O._status===-1){var J=O._result;J=J(),J.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=J)}if(O._status===1)return O._result.default;throw O._result}var he=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function se(){}return ze.Children={map:Q,forEach:function(O,J,le){Q(O,function(){J.apply(this,arguments)},le)},count:function(O){var J=0;return Q(O,function(){J++}),J},toArray:function(O){return Q(O,function(J){return J})||[]},only:function(O){if(!C(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},ze.Component=M,ze.Fragment=t,ze.Profiler=o,ze.PureComponent=Z,ze.StrictMode=r,ze.Suspense=f,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,ze.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ue.H.useMemoCache(O)}},ze.cache=function(O){return function(){return O.apply(null,arguments)}},ze.cloneElement=function(O,J,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ie=S({},O.props),pe=O.key,ke=void 0;if(J!=null)for(we in J.ref!==void 0&&(ke=void 0),J.key!==void 0&&(pe=""+J.key),J)!Te.call(J,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&J.ref===void 0||(ie[we]=J[we]);var we=arguments.length-2;if(we===1)ie.children=le;else if(1<we){for(var wt=Array(we),Je=0;Je<we;Je++)wt[Je]=arguments[Je+2];ie.children=wt}return j(O.type,pe,void 0,void 0,ke,ie)},ze.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},ze.createElement=function(O,J,le){var ie,pe={},ke=null;if(J!=null)for(ie in J.key!==void 0&&(ke=""+J.key),J)Te.call(J,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(pe[ie]=J[ie]);var we=arguments.length-2;if(we===1)pe.children=le;else if(1<we){for(var wt=Array(we),Je=0;Je<we;Je++)wt[Je]=arguments[Je+2];pe.children=wt}if(O&&O.defaultProps)for(ie in we=O.defaultProps,we)pe[ie]===void 0&&(pe[ie]=we[ie]);return j(O,ke,void 0,void 0,null,pe)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(O){return{$$typeof:p,render:O}},ze.isValidElement=C,ze.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:re}},ze.memo=function(O,J){return{$$typeof:m,type:O,compare:J===void 0?null:J}},ze.startTransition=function(O){var J=ue.T,le={};ue.T=le;try{var ie=O(),pe=ue.S;pe!==null&&pe(le,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(se,he)}catch(ke){he(ke)}finally{ue.T=J}},ze.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},ze.use=function(O){return ue.H.use(O)},ze.useActionState=function(O,J,le){return ue.H.useActionState(O,J,le)},ze.useCallback=function(O,J){return ue.H.useCallback(O,J)},ze.useContext=function(O){return ue.H.useContext(O)},ze.useDebugValue=function(){},ze.useDeferredValue=function(O,J){return ue.H.useDeferredValue(O,J)},ze.useEffect=function(O,J,le){var ie=ue.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(O,J)},ze.useId=function(){return ue.H.useId()},ze.useImperativeHandle=function(O,J,le){return ue.H.useImperativeHandle(O,J,le)},ze.useInsertionEffect=function(O,J){return ue.H.useInsertionEffect(O,J)},ze.useLayoutEffect=function(O,J){return ue.H.useLayoutEffect(O,J)},ze.useMemo=function(O,J){return ue.H.useMemo(O,J)},ze.useOptimistic=function(O,J){return ue.H.useOptimistic(O,J)},ze.useReducer=function(O,J,le){return ue.H.useReducer(O,J,le)},ze.useRef=function(O){return ue.H.useRef(O)},ze.useState=function(O){return ue.H.useState(O)},ze.useSyncExternalStore=function(O,J,le){return ue.H.useSyncExternalStore(O,J,le)},ze.useTransition=function(){return ue.H.useTransition()},ze.version="19.1.0",ze}var EE;function Ym(){return EE||(EE=1,Vp.exports=QS()),Vp.exports}var D=Ym();const Dt=Qm(D);var Up={exports:{}},oc={},zp={exports:{}},Bp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function YS(){return bE||(bE=1,function(i){function e(Q,re){var he=Q.length;Q.push(re);e:for(;0<he;){var se=he-1>>>1,O=Q[se];if(0<o(O,re))Q[se]=re,Q[he]=O,he=se;else break e}}function t(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var re=Q[0],he=Q.pop();if(he!==re){Q[0]=he;e:for(var se=0,O=Q.length,J=O>>>1;se<J;){var le=2*(se+1)-1,ie=Q[le],pe=le+1,ke=Q[pe];if(0>o(ie,he))pe<O&&0>o(ke,ie)?(Q[se]=ke,Q[pe]=he,se=pe):(Q[se]=ie,Q[le]=he,se=le);else if(pe<O&&0>o(ke,he))Q[se]=ke,Q[pe]=he,se=pe;else break e}}return re}function o(Q,re){var he=Q.sortIndex-re.sortIndex;return he!==0?he:Q.id-re.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var d=Date,p=d.now();i.unstable_now=function(){return d.now()-p}}var f=[],m=[],y=1,b=null,T=3,I=!1,S=!1,U=!1,M=!1,F=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function ce(Q){for(var re=t(m);re!==null;){if(re.callback===null)r(m);else if(re.startTime<=Q)r(m),re.sortIndex=re.expirationTime,e(f,re);else break;re=t(m)}}function ue(Q){if(U=!1,ce(Q),!S)if(t(f)!==null)S=!0,Te||(Te=!0,z());else{var re=t(m);re!==null&&_e(ue,re.startTime-Q)}}var Te=!1,j=-1,R=5,C=-1;function P(){return M?!0:!(i.unstable_now()-C<R)}function L(){if(M=!1,Te){var Q=i.unstable_now();C=Q;var re=!0;try{e:{S=!1,U&&(U=!1,Z(j),j=-1),I=!0;var he=T;try{t:{for(ce(Q),b=t(f);b!==null&&!(b.expirationTime>Q&&P());){var se=b.callback;if(typeof se=="function"){b.callback=null,T=b.priorityLevel;var O=se(b.expirationTime<=Q);if(Q=i.unstable_now(),typeof O=="function"){b.callback=O,ce(Q),re=!0;break t}b===t(f)&&r(f),ce(Q)}else r(f);b=t(f)}if(b!==null)re=!0;else{var J=t(m);J!==null&&_e(ue,J.startTime-Q),re=!1}}break e}finally{b=null,T=he,I=!1}re=void 0}}finally{re?z():Te=!1}}}var z;if(typeof G=="function")z=function(){G(L)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ye=N.port2;N.port1.onmessage=L,z=function(){ye.postMessage(null)}}else z=function(){F(L,0)};function _e(Q,re){j=F(function(){Q(i.unstable_now())},re)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(Q){switch(T){case 1:case 2:case 3:var re=3;break;default:re=T}var he=T;T=re;try{return Q()}finally{T=he}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(Q,re){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var he=T;T=Q;try{return re()}finally{T=he}},i.unstable_scheduleCallback=function(Q,re,he){var se=i.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?se+he:se):he=se,Q){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=he+O,Q={id:y++,callback:re,priorityLevel:Q,startTime:he,expirationTime:O,sortIndex:-1},he>se?(Q.sortIndex=he,e(m,Q),t(f)===null&&Q===t(m)&&(U?(Z(j),j=-1):U=!0,_e(ue,he-se))):(Q.sortIndex=O,e(f,Q),S||I||(S=!0,Te||(Te=!0,z()))),Q},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(Q){var re=T;return function(){var he=T;T=re;try{return Q.apply(this,arguments)}finally{T=he}}}}(Bp)),Bp}var wE;function XS(){return wE||(wE=1,zp.exports=YS()),zp.exports}var Fp={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function WS(){if(TE)return mn;TE=1;var i=Ym();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(f,m,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:f,containerInfo:m,implementation:y}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,mn.createPortal=function(f,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(f,m,null,y)},mn.flushSync=function(f){var m=d.T,y=r.p;try{if(d.T=null,r.p=2,f)return f()}finally{d.T=m,r.p=y,r.d.f()}},mn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},mn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},mn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var y=m.as,b=p(y,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,I=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:I}):y==="script"&&r.d.X(f,{crossOrigin:b,integrity:T,fetchPriority:I,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},mn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=p(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},mn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,b=p(y,m.crossOrigin);r.d.L(f,y,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},mn.preloadModule=function(f,m){if(typeof f=="string")if(m){var y=p(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},mn.requestFormReset=function(f){r.d.r(f)},mn.unstable_batchedUpdates=function(f,m){return f(m)},mn.useFormState=function(f,m,y){return d.H.useFormState(f,m,y)},mn.useFormStatus=function(){return d.H.useHostTransitionStatus()},mn.version="19.1.0",mn}var xE;function ZS(){if(xE)return Fp.exports;xE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Fp.exports=WS(),Fp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function JS(){if(AE)return oc;AE=1;var i=XS(),e=Ym(),t=ZS();function r(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var a=n,s=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(s=a.return),n=a.return;while(n)}return a.tag===3?s:null}function d(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function p(n){if(l(n)!==n)throw Error(r(188))}function f(n){var a=n.alternate;if(!a){if(a=l(n),a===null)throw Error(r(188));return a!==n?null:n}for(var s=n,c=a;;){var h=s.return;if(h===null)break;var g=h.alternate;if(g===null){if(c=h.return,c!==null){s=c;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===s)return p(h),n;if(g===c)return p(h),a;g=g.sibling}throw Error(r(188))}if(s.return!==c.return)s=h,c=g;else{for(var w=!1,x=h.child;x;){if(x===s){w=!0,s=h,c=g;break}if(x===c){w=!0,c=h,s=g;break}x=x.sibling}if(!w){for(x=g.child;x;){if(x===s){w=!0,s=g,c=h;break}if(x===c){w=!0,c=g,s=h;break}x=x.sibling}if(!w)throw Error(r(189))}}if(s.alternate!==c)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?n:a}function m(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=m(n),a!==null)return a;n=n.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),G=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=L&&n[L]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function ye(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case S:return"Fragment";case M:return"Profiler";case U:return"StrictMode";case ue:return"Suspense";case Te:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case I:return"Portal";case G:return(n.displayName||"Context")+".Provider";case Z:return(n._context.displayName||"Context")+".Consumer";case ce:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case j:return a=n.displayName||null,a!==null?a:ye(n.type)||"Memo";case R:a=n._payload,n=n._init;try{return ye(n(a))}catch{}}return null}var _e=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},se=[],O=-1;function J(n){return{current:n}}function le(n){0>O||(n.current=se[O],se[O]=null,O--)}function ie(n,a){O++,se[O]=n.current,n.current=a}var pe=J(null),ke=J(null),we=J(null),wt=J(null);function Je(n,a){switch(ie(we,a),ie(ke,n),ie(pe,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?G_(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=G_(a),n=$_(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}le(pe),ie(pe,n)}function dn(){le(pe),le(ke),le(we)}function Sn(n){n.memoizedState!==null&&ie(wt,n);var a=pe.current,s=$_(a,n.type);a!==s&&(ie(ke,n),ie(pe,s))}function jt(n){ke.current===n&&(le(pe),le(ke)),wt.current===n&&(le(wt),tc._currentValue=he)}var hn=Object.prototype.hasOwnProperty,ni=i.unstable_scheduleCallback,ii=i.unstable_cancelCallback,zi=i.unstable_shouldYield,ha=i.unstable_requestPaint,Rt=i.unstable_now,ai=i.unstable_getCurrentPriorityLevel,Fn=i.unstable_ImmediatePriority,Rn=i.unstable_UserBlockingPriority,qn=i.unstable_NormalPriority,wi=i.unstable_LowPriority,Ti=i.unstable_IdlePriority,fe=i.log,Se=i.unstable_setDisableYieldValue,Le=null,Ce=null;function it(n){if(typeof fe=="function"&&Se(n),Ce&&typeof Ce.setStrictMode=="function")try{Ce.setStrictMode(Le,n)}catch{}}var ht=Math.clz32?Math.clz32:In,fn=Math.log,Ka=Math.LN2;function In(n){return n>>>=0,n===0?32:31-(fn(n)/Ka|0)|0}var Hn=256,Cn=4194304;function Yt(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Gn(n,a,s){var c=n.pendingLanes;if(c===0)return 0;var h=0,g=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var x=c&134217727;return x!==0?(c=x&~g,c!==0?h=Yt(c):(w&=x,w!==0?h=Yt(w):s||(s=x&~n,s!==0&&(h=Yt(s))))):(x=c&~g,x!==0?h=Yt(x):w!==0?h=Yt(w):s||(s=c&~n,s!==0&&(h=Yt(s)))),h===0?0:a!==0&&a!==h&&(a&g)===0&&(g=h&-h,s=a&-a,g>=s||g===32&&(s&4194048)!==0)?a:h}function Nn(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function ri(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ge(){var n=Hn;return Hn<<=1,(Hn&4194048)===0&&(Hn=256),n}function oe(){var n=Cn;return Cn<<=1,(Cn&62914560)===0&&(Cn=4194304),n}function me(n){for(var a=[],s=0;31>s;s++)a.push(n);return a}function Re(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Oe(n,a,s,c,h,g){var w=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var x=n.entanglements,k=n.expirationTimes,$=n.hiddenUpdates;for(s=w&~s;0<s;){var W=31-ht(s),te=1<<W;x[W]=0,k[W]=-1;var K=$[W];if(K!==null)for($[W]=null,W=0;W<K.length;W++){var Y=K[W];Y!==null&&(Y.lane&=-536870913)}s&=~te}c!==0&&Ue(n,c,0),g!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=g&~(w&~a))}function Ue(n,a,s){n.pendingLanes|=a,n.suspendedLanes&=~a;var c=31-ht(a);n.entangledLanes|=a,n.entanglements[c]=n.entanglements[c]|1073741824|s&4194090}function rt(n,a){var s=n.entangledLanes|=a;for(n=n.entanglements;s;){var c=31-ht(s),h=1<<c;h&a|n[c]&a&&(n[c]|=a),s&=~h}}function Dn(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Qa(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ya(){var n=re.p;return n!==0?n:(n=window.event,n===void 0?32:dE(n.type))}function $c(n,a){var s=re.p;try{return re.p=n,a()}finally{re.p=s}}var yt=Math.random().toString(36).slice(2),qt="__reactFiber$"+yt,Lt="__reactProps$"+yt,si="__reactContainer$"+yt,sl="__reactEvents$"+yt,Uh="__reactListeners$"+yt,Xa="__reactHandles$"+yt,Kc="__reactResources$"+yt,qr="__reactMarker$"+yt;function Wa(n){delete n[qt],delete n[Lt],delete n[sl],delete n[Uh],delete n[Xa]}function fa(n){var a=n[qt];if(a)return a;for(var s=n.parentNode;s;){if(a=s[si]||s[qt]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(n=X_(n);n!==null;){if(s=n[qt])return s;n=X_(n)}return a}n=s,s=n.parentNode}return null}function Bi(n){if(n=n[qt]||n[si]){var a=n.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return n}return null}function Fi(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(r(33))}function bn(n){var a=n[Kc];return a||(a=n[Kc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ot(n){n[qr]=!0}var ol=new Set,Ls={};function xi(n,a){pa(n,a),pa(n+"Capture",a)}function pa(n,a){for(Ls[n]=a,n=0;n<a.length;n++)ol.add(a[n])}var Qc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yc={},Hr={};function Xc(n){return hn.call(Hr,n)?!0:hn.call(Yc,n)?!1:Qc.test(n)?Hr[n]=!0:(Yc[n]=!0,!1)}function Za(n,a,s){if(Xc(a))if(s===null)n.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+s)}}function qi(n,a,s){if(s===null)n.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+s)}}function nn(n,a,s,c){if(c===null)n.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(a,s,""+c)}}var Gr,Wc;function ma(n){if(Gr===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Gr=a&&a[1]||"",Wc=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gr+n+Wc}var Vs=!1;function Us(n,a){if(!n||Vs)return"";Vs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var K=Y}Reflect.construct(n,[],te)}else{try{te.call()}catch(Y){K=Y}n.call(te.prototype)}}else{try{throw Error()}catch(Y){K=Y}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&K&&typeof Y.stack=="string")return[Y.stack,K.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),w=g[0],x=g[1];if(w&&x){var k=w.split(`
`),$=x.split(`
`);for(h=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;if(c===k.length||h===$.length)for(c=k.length-1,h=$.length-1;1<=c&&0<=h&&k[c]!==$[h];)h--;for(;1<=c&&0<=h;c--,h--)if(k[c]!==$[h]){if(c!==1||h!==1)do if(c--,h--,0>h||k[c]!==$[h]){var W=`
`+k[c].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=c&&0<=h);break}}}finally{Vs=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?ma(s):""}function ll(n){switch(n.tag){case 26:case 27:case 5:return ma(n.type);case 16:return ma("Lazy");case 13:return ma("Suspense");case 19:return ma("SuspenseList");case 0:case 15:return Us(n.type,!1);case 11:return Us(n.type.render,!1);case 1:return Us(n.type,!0);case 31:return ma("Activity");default:return""}}function zs(n){try{var a="";do a+=ll(n),n=n.return;while(n);return a}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function wn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function cl(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function zh(n){var a=cl(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),c=""+n[a];if(!n.hasOwnProperty(a)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,g=s.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return h.call(this)},set:function(w){c=""+w,g.call(this,w)}}),Object.defineProperty(n,a,{enumerable:s.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Bs(n){n._valueTracker||(n._valueTracker=zh(n))}function ul(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var s=a.getValue(),c="";return n&&(c=cl(n)?n.checked?"true":"false":n.value),n=c,n!==s?(a.setValue(n),!0):!1}function $r(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Bh=/[\n"\\]/g;function Vt(n){return n.replace(Bh,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function $n(n,a,s,c,h,g,w,x){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),a!=null?w==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+wn(a)):n.value!==""+wn(a)&&(n.value=""+wn(a)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),a!=null?Ja(n,w,wn(a)):s!=null?Ja(n,w,wn(s)):c!=null&&n.removeAttribute("value"),h==null&&g!=null&&(n.defaultChecked=!!g),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?n.name=""+wn(x):n.removeAttribute("name")}function Kr(n,a,s,c,h,g,w,x){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),a!=null||s!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;s=s!=null?""+wn(s):"",a=a!=null?""+wn(a):s,x||a===n.value||(n.value=a),n.defaultValue=a}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=x?n.checked:!!c,n.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w)}function Ja(n,a,s){a==="number"&&$r(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function ga(n,a,s,c){if(n=n.options,a){a={};for(var h=0;h<s.length;h++)a["$"+s[h]]=!0;for(s=0;s<n.length;s++)h=a.hasOwnProperty("$"+n[s].value),n[s].selected!==h&&(n[s].selected=h),h&&c&&(n[s].defaultSelected=!0)}else{for(s=""+wn(s),a=null,h=0;h<n.length;h++){if(n[h].value===s){n[h].selected=!0,c&&(n[h].defaultSelected=!0);return}a!==null||n[h].disabled||(a=n[h])}a!==null&&(a.selected=!0)}}function lt(n,a,s){if(a!=null&&(a=""+wn(a),a!==n.value&&(n.value=a),s==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=s!=null?""+wn(s):""}function Qr(n,a,s,c){if(a==null){if(c!=null){if(s!=null)throw Error(r(92));if(_e(c)){if(1<c.length)throw Error(r(93));c=c[0]}s=c}s==null&&(s=""),a=s}s=wn(a),n.defaultValue=s,c=n.textContent,c===s&&c!==""&&c!==null&&(n.value=c)}function oi(n,a){if(a){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=a;return}}n.textContent=a}var Yr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zc(n,a,s){var c=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?c?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":c?n.setProperty(a,s):typeof s!="number"||s===0||Yr.has(a)?a==="float"?n.cssFloat=s:n[a]=(""+s).trim():n[a]=s+"px"}function dl(n,a,s){if(a!=null&&typeof a!="object")throw Error(r(62));if(n=n.style,s!=null){for(var c in s)!s.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var h in a)c=a[h],a.hasOwnProperty(h)&&s[h]!==c&&Zc(n,h,c)}else for(var g in a)a.hasOwnProperty(g)&&Zc(n,g,a[g])}function hl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fs(n){return qh.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var va=null;function li(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ya=null,_a=null;function fl(n){var a=Bi(n);if(a&&(n=a.stateNode)){var s=n[Lt]||null;e:switch(n=a.stateNode,a.type){case"input":if($n(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Vt(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var c=s[a];if(c!==n&&c.form===n.form){var h=c[Lt]||null;if(!h)throw Error(r(90));$n(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(a=0;a<s.length;a++)c=s[a],c.form===n.form&&ul(c)}break e;case"textarea":lt(n,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&ga(n,!!s.multiple,a,!1)}}}var Hi=!1;function Jc(n,a,s){if(Hi)return n(a,s);Hi=!0;try{var c=n(a);return c}finally{if(Hi=!1,(ya!==null||_a!==null)&&($u(),ya&&(a=ya,n=_a,_a=ya=null,fl(a),n)))for(a=0;a<n.length;a++)fl(n[a])}}function Xr(n,a){var s=n.stateNode;if(s===null)return null;var c=s[Lt]||null;if(c===null)return null;s=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(r(231,a,typeof s));return s}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ci=!1;if(Ai)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){ci=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{ci=!1}var Gi=null,er=null,Ea=null;function pl(){if(Ea)return Ea;var n,a=er,s=a.length,c,h="value"in Gi?Gi.value:Gi.textContent,g=h.length;for(n=0;n<s&&a[n]===h[n];n++);var w=s-n;for(c=1;c<=w&&a[s-c]===h[g-c];c++);return Ea=h.slice(n,1<c?1-c:void 0)}function $i(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function Ki(){return!0}function ml(){return!1}function Xt(n){function a(s,c,h,g,w){this._reactName=s,this._targetInst=h,this.type=c,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var x in n)n.hasOwnProperty(x)&&(s=n[x],this[x]=s?s(g):g[x]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ki:ml,this.isPropagationStopped=ml,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),a}var at={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qs=Xt(at),Zr=y({},at,{view:0,detail:0}),eu=Xt(Zr),Hs,Gs,Qi,Jr=y({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ns,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Qi&&(Qi&&n.type==="mousemove"?(Hs=n.screenX-Qi.screenX,Gs=n.screenY-Qi.screenY):Gs=Hs=0,Qi=n),Hs)},movementY:function(n){return"movementY"in n?n.movementY:Gs}}),ui=Xt(Jr),tu=y({},Jr,{dataTransfer:0}),Hh=Xt(tu),es=y({},Zr,{relatedTarget:0}),$s=Xt(es),gl=y({},at,{animationName:0,elapsedTime:0,pseudoElement:0}),Ks=Xt(gl),nu=y({},at,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Qs=Xt(nu),Gh=y({},at,{data:0}),vl=Xt(Gh),ts={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yl(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=au[n])?!!a[n]:!1}function ns(){return yl}var ru=y({},Zr,{key:function(n){if(n.key){var a=ts[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=$i(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?iu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ns,charCode:function(n){return n.type==="keypress"?$i(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?$i(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ys=Xt(ru),su=y({},Jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_l=Xt(su),ba=y({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ns}),ou=Xt(ba),lu=y({},at,{propertyName:0,elapsedTime:0,pseudoElement:0}),cu=Xt(lu),uu=y({},Jr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Xs=Xt(uu),Tn=y({},at,{newState:0,oldState:0}),du=Xt(Tn),hu=[9,13,27,32],Yi=Ai&&"CompositionEvent"in window,u=null;Ai&&"documentMode"in document&&(u=document.documentMode);var _=Ai&&"TextEvent"in window&&!u,E=Ai&&(!Yi||u&&8<u&&11>=u),A=" ",q=!1;function X(n,a){switch(n){case"keyup":return hu.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ye=!1;function Ht(n,a){switch(n){case"compositionend":return de(a);case"keypress":return a.which!==32?null:(q=!0,A);case"textInput":return n=a.data,n===A&&q?null:n;default:return null}}function Xe(n,a){if(Ye)return n==="compositionend"||!Yi&&X(n,a)?(n=pl(),Ea=er=Gi=null,Ye=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var Wt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gt(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!Wt[n.type]:a==="textarea"}function wa(n,a,s,c){ya?_a?_a.push(c):_a=[c]:ya=c,a=Zu(a,"onChange"),0<a.length&&(s=new qs("onChange","change",null,s,c),n.push({event:s,listeners:a}))}var an=null,Xi=null;function El(n){z_(n,0)}function fu(n){var a=Fi(n);if(ul(a))return n}function ov(n,a){if(n==="change")return a}var lv=!1;if(Ai){var $h;if(Ai){var Kh="oninput"in document;if(!Kh){var cv=document.createElement("div");cv.setAttribute("oninput","return;"),Kh=typeof cv.oninput=="function"}$h=Kh}else $h=!1;lv=$h&&(!document.documentMode||9<document.documentMode)}function uv(){an&&(an.detachEvent("onpropertychange",dv),Xi=an=null)}function dv(n){if(n.propertyName==="value"&&fu(Xi)){var a=[];wa(a,Xi,n,li(n)),Jc(El,a)}}function bA(n,a,s){n==="focusin"?(uv(),an=a,Xi=s,an.attachEvent("onpropertychange",dv)):n==="focusout"&&uv()}function wA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return fu(Xi)}function TA(n,a){if(n==="click")return fu(a)}function xA(n,a){if(n==="input"||n==="change")return fu(a)}function AA(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Kn=typeof Object.is=="function"?Object.is:AA;function bl(n,a){if(Kn(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var s=Object.keys(n),c=Object.keys(a);if(s.length!==c.length)return!1;for(c=0;c<s.length;c++){var h=s[c];if(!hn.call(a,h)||!Kn(n[h],a[h]))return!1}return!0}function hv(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function fv(n,a){var s=hv(n);n=0;for(var c;s;){if(s.nodeType===3){if(c=n+s.textContent.length,n<=a&&c>=a)return{node:s,offset:a-n};n=c}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=hv(s)}}function pv(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?pv(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function mv(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=$r(n.document);a instanceof n.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)n=a.contentWindow;else break;a=$r(n.document)}return a}function Qh(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var SA=Ai&&"documentMode"in document&&11>=document.documentMode,Ws=null,Yh=null,wl=null,Xh=!1;function gv(n,a,s){var c=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Xh||Ws==null||Ws!==$r(c)||(c=Ws,"selectionStart"in c&&Qh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),wl&&bl(wl,c)||(wl=c,c=Zu(Yh,"onSelect"),0<c.length&&(a=new qs("onSelect","select",null,a,s),n.push({event:a,listeners:c}),a.target=Ws)))}function is(n,a){var s={};return s[n.toLowerCase()]=a.toLowerCase(),s["Webkit"+n]="webkit"+a,s["Moz"+n]="moz"+a,s}var Zs={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionrun:is("Transition","TransitionRun"),transitionstart:is("Transition","TransitionStart"),transitioncancel:is("Transition","TransitionCancel"),transitionend:is("Transition","TransitionEnd")},Wh={},vv={};Ai&&(vv=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function as(n){if(Wh[n])return Wh[n];if(!Zs[n])return n;var a=Zs[n],s;for(s in a)if(a.hasOwnProperty(s)&&s in vv)return Wh[n]=a[s];return n}var yv=as("animationend"),_v=as("animationiteration"),Ev=as("animationstart"),RA=as("transitionrun"),IA=as("transitionstart"),CA=as("transitioncancel"),bv=as("transitionend"),wv=new Map,Zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zh.push("scrollEnd");function Si(n,a){wv.set(n,a),xi(a,[n])}var Tv=new WeakMap;function di(n,a){if(typeof n=="object"&&n!==null){var s=Tv.get(n);return s!==void 0?s:(a={value:n,source:a,stack:zs(a)},Tv.set(n,a),a)}return{value:n,source:a,stack:zs(a)}}var hi=[],Js=0,Jh=0;function pu(){for(var n=Js,a=Jh=Js=0;a<n;){var s=hi[a];hi[a++]=null;var c=hi[a];hi[a++]=null;var h=hi[a];hi[a++]=null;var g=hi[a];if(hi[a++]=null,c!==null&&h!==null){var w=c.pending;w===null?h.next=h:(h.next=w.next,w.next=h),c.pending=h}g!==0&&xv(s,h,g)}}function mu(n,a,s,c){hi[Js++]=n,hi[Js++]=a,hi[Js++]=s,hi[Js++]=c,Jh|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function ef(n,a,s,c){return mu(n,a,s,c),gu(n)}function eo(n,a){return mu(n,null,null,a),gu(n)}function xv(n,a,s){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s);for(var h=!1,g=n.return;g!==null;)g.childLanes|=s,c=g.alternate,c!==null&&(c.childLanes|=s),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(h=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,h&&a!==null&&(h=31-ht(s),n=g.hiddenUpdates,c=n[h],c===null?n[h]=[a]:c.push(a),a.lane=s|536870912),g):null}function gu(n){if(50<Kl)throw Kl=0,op=null,Error(r(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var to={};function NA(n,a,s,c){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(n,a,s,c){return new NA(n,a,s,c)}function tf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ta(n,a){var s=n.alternate;return s===null?(s=Qn(n.tag,a,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=a,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,a=n.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function Av(n,a){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,a=s.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function vu(n,a,s,c,h,g){var w=0;if(c=n,typeof n=="function")tf(n)&&(w=1);else if(typeof n=="string")w=OS(n,s,pe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=Qn(31,s,a,h),n.elementType=C,n.lanes=g,n;case S:return rs(s.children,h,g,a);case U:w=8,h|=24;break;case M:return n=Qn(12,s,a,h|2),n.elementType=M,n.lanes=g,n;case ue:return n=Qn(13,s,a,h),n.elementType=ue,n.lanes=g,n;case Te:return n=Qn(19,s,a,h),n.elementType=Te,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case F:case G:w=10;break e;case Z:w=9;break e;case ce:w=11;break e;case j:w=14;break e;case R:w=16,c=null;break e}w=29,s=Error(r(130,n===null?"null":typeof n,"")),c=null}return a=Qn(w,s,a,h),a.elementType=n,a.type=c,a.lanes=g,a}function rs(n,a,s,c){return n=Qn(7,n,c,a),n.lanes=s,n}function nf(n,a,s){return n=Qn(6,n,null,a),n.lanes=s,n}function af(n,a,s){return a=Qn(4,n.children!==null?n.children:[],n.key,a),a.lanes=s,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var no=[],io=0,yu=null,_u=0,fi=[],pi=0,ss=null,xa=1,Aa="";function os(n,a){no[io++]=_u,no[io++]=yu,yu=n,_u=a}function Sv(n,a,s){fi[pi++]=xa,fi[pi++]=Aa,fi[pi++]=ss,ss=n;var c=xa;n=Aa;var h=32-ht(c)-1;c&=~(1<<h),s+=1;var g=32-ht(a)+h;if(30<g){var w=h-h%5;g=(c&(1<<w)-1).toString(32),c>>=w,h-=w,xa=1<<32-ht(a)+h|s<<h|c,Aa=g+n}else xa=1<<g|s<<h|c,Aa=n}function rf(n){n.return!==null&&(os(n,1),Sv(n,1,0))}function sf(n){for(;n===yu;)yu=no[--io],no[io]=null,_u=no[--io],no[io]=null;for(;n===ss;)ss=fi[--pi],fi[pi]=null,Aa=fi[--pi],fi[pi]=null,xa=fi[--pi],fi[pi]=null}var xn=null,It=null,tt=!1,ls=null,Wi=!1,of=Error(r(519));function cs(n){var a=Error(r(418,""));throw Al(di(a,n)),of}function Rv(n){var a=n.stateNode,s=n.type,c=n.memoizedProps;switch(a[qt]=n,a[Lt]=c,s){case"dialog":Ge("cancel",a),Ge("close",a);break;case"iframe":case"object":case"embed":Ge("load",a);break;case"video":case"audio":for(s=0;s<Yl.length;s++)Ge(Yl[s],a);break;case"source":Ge("error",a);break;case"img":case"image":case"link":Ge("error",a),Ge("load",a);break;case"details":Ge("toggle",a);break;case"input":Ge("invalid",a),Kr(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Bs(a);break;case"select":Ge("invalid",a);break;case"textarea":Ge("invalid",a),Qr(a,c.value,c.defaultValue,c.children),Bs(a)}s=c.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||c.suppressHydrationWarning===!0||H_(a.textContent,s)?(c.popover!=null&&(Ge("beforetoggle",a),Ge("toggle",a)),c.onScroll!=null&&Ge("scroll",a),c.onScrollEnd!=null&&Ge("scrollend",a),c.onClick!=null&&(a.onclick=Ju),a=!0):a=!1,a||cs(n)}function Iv(n){for(xn=n.return;xn;)switch(xn.tag){case 5:case 13:Wi=!1;return;case 27:case 3:Wi=!0;return;default:xn=xn.return}}function Tl(n){if(n!==xn)return!1;if(!tt)return Iv(n),tt=!0,!1;var a=n.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Tp(n.type,n.memoizedProps)),s=!s),s&&It&&cs(n),Iv(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8)if(s=n.data,s==="/$"){if(a===0){It=Ii(n.nextSibling);break e}a--}else s!=="$"&&s!=="$!"&&s!=="$?"||a++;n=n.nextSibling}It=null}}else a===27?(a=It,gr(n.type)?(n=Rp,Rp=null,It=n):It=a):It=xn?Ii(n.stateNode.nextSibling):null;return!0}function xl(){It=xn=null,tt=!1}function Cv(){var n=ls;return n!==null&&(Pn===null?Pn=n:Pn.push.apply(Pn,n),ls=null),n}function Al(n){ls===null?ls=[n]:ls.push(n)}var lf=J(null),us=null,Sa=null;function tr(n,a,s){ie(lf,a._currentValue),a._currentValue=s}function Ra(n){n._currentValue=lf.current,le(lf)}function cf(n,a,s){for(;n!==null;){var c=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),n===s)break;n=n.return}}function uf(n,a,s,c){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var g=h.dependencies;if(g!==null){var w=h.child;g=g.firstContext;e:for(;g!==null;){var x=g;g=h;for(var k=0;k<a.length;k++)if(x.context===a[k]){g.lanes|=s,x=g.alternate,x!==null&&(x.lanes|=s),cf(g.return,s,n),c||(w=null);break e}g=x.next}}else if(h.tag===18){if(w=h.return,w===null)throw Error(r(341));w.lanes|=s,g=w.alternate,g!==null&&(g.lanes|=s),cf(w,s,n),w=null}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===n){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}}function Sl(n,a,s,c){n=null;for(var h=a,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var w=h.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var x=h.type;Kn(h.pendingProps.value,w.value)||(n!==null?n.push(x):n=[x])}}else if(h===wt.current){if(w=h.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(tc):n=[tc])}h=h.return}n!==null&&uf(a,n,s,c),a.flags|=262144}function Eu(n){for(n=n.firstContext;n!==null;){if(!Kn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ds(n){us=n,Sa=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function pn(n){return Nv(us,n)}function bu(n,a){return us===null&&ds(n),Nv(n,a)}function Nv(n,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},Sa===null){if(n===null)throw Error(r(308));Sa=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else Sa=Sa.next=a;return s}var DA=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(s,c){n.push(c)}};this.abort=function(){a.aborted=!0,n.forEach(function(s){return s()})}},OA=i.unstable_scheduleCallback,kA=i.unstable_NormalPriority,$t={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function df(){return{controller:new DA,data:new Map,refCount:0}}function Rl(n){n.refCount--,n.refCount===0&&OA(kA,function(){n.controller.abort()})}var Il=null,hf=0,ao=0,ro=null;function PA(n,a){if(Il===null){var s=Il=[];hf=0,ao=pp(),ro={status:"pending",value:void 0,then:function(c){s.push(c)}}}return hf++,a.then(Dv,Dv),a}function Dv(){if(--hf===0&&Il!==null){ro!==null&&(ro.status="fulfilled");var n=Il;Il=null,ao=0,ro=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function MA(n,a){var s=[],c={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return n.then(function(){c.status="fulfilled",c.value=a;for(var h=0;h<s.length;h++)(0,s[h])(a)},function(h){for(c.status="rejected",c.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),c}var Ov=Q.S;Q.S=function(n,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&PA(n,a),Ov!==null&&Ov(n,a)};var hs=J(null);function ff(){var n=hs.current;return n!==null?n:mt.pooledCache}function wu(n,a){a===null?ie(hs,hs.current):ie(hs,a.pool)}function kv(){var n=ff();return n===null?null:{parent:$t._currentValue,pool:n}}var Cl=Error(r(460)),Pv=Error(r(474)),Tu=Error(r(542)),pf={then:function(){}};function Mv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function xu(){}function jv(n,a,s){switch(s=n[s],s===void 0?n.push(a):s!==a&&(a.then(xu,xu),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Vv(n),n;default:if(typeof a.status=="string")a.then(xu,xu);else{if(n=mt,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=a,n.status="pending",n.then(function(c){if(a.status==="pending"){var h=a;h.status="fulfilled",h.value=c}},function(c){if(a.status==="pending"){var h=a;h.status="rejected",h.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Vv(n),n}throw Nl=a,Cl}}var Nl=null;function Lv(){if(Nl===null)throw Error(r(459));var n=Nl;return Nl=null,n}function Vv(n){if(n===Cl||n===Tu)throw Error(r(483))}var nr=!1;function mf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ir(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ar(n,a,s){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(st&2)!==0){var h=c.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),c.pending=a,a=gu(n),xv(n,null,s),a}return mu(n,c,a,s),gu(n)}function Dl(n,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var c=a.lanes;c&=n.pendingLanes,s|=c,a.lanes=s,rt(n,s)}}function vf(n,a){var s=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,s===c)){var h=null,g=null;if(s=s.firstBaseUpdate,s!==null){do{var w={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};g===null?h=g=w:g=g.next=w,s=s.next}while(s!==null);g===null?h=g=a:g=g.next=a}else h=g=a;s={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=a:n.next=a,s.lastBaseUpdate=a}var yf=!1;function Ol(){if(yf){var n=ro;if(n!==null)throw n}}function kl(n,a,s,c){yf=!1;var h=n.updateQueue;nr=!1;var g=h.firstBaseUpdate,w=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var k=x,$=k.next;k.next=null,w===null?g=$:w.next=$,w=k;var W=n.alternate;W!==null&&(W=W.updateQueue,x=W.lastBaseUpdate,x!==w&&(x===null?W.firstBaseUpdate=$:x.next=$,W.lastBaseUpdate=k))}if(g!==null){var te=h.baseState;w=0,W=$=k=null,x=g;do{var K=x.lane&-536870913,Y=K!==x.lane;if(Y?(We&K)===K:(c&K)===K){K!==0&&K===ao&&(yf=!0),W!==null&&(W=W.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Pe=n,Ne=x;K=a;var dt=s;switch(Ne.tag){case 1:if(Pe=Ne.payload,typeof Pe=="function"){te=Pe.call(dt,te,K);break e}te=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ne.payload,K=typeof Pe=="function"?Pe.call(dt,te,K):Pe,K==null)break e;te=y({},te,K);break e;case 2:nr=!0}}K=x.callback,K!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[K]:Y.push(K))}else Y={lane:K,tag:x.tag,payload:x.payload,callback:x.callback,next:null},W===null?($=W=Y,k=te):W=W.next=Y,w|=K;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;Y=x,x=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);W===null&&(k=te),h.baseState=k,h.firstBaseUpdate=$,h.lastBaseUpdate=W,g===null&&(h.shared.lanes=0),hr|=w,n.lanes=w,n.memoizedState=te}}function Uv(n,a){if(typeof n!="function")throw Error(r(191,n));n.call(a)}function zv(n,a){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Uv(s[n],a)}var so=J(null),Au=J(0);function Bv(n,a){n=Pa,ie(Au,n),ie(so,a),Pa=n|a.baseLanes}function _f(){ie(Au,Pa),ie(so,so.current)}function Ef(){Pa=Au.current,le(so),le(Au)}var rr=0,Be=null,ct=null,Ut=null,Su=!1,oo=!1,fs=!1,Ru=0,Pl=0,lo=null,jA=0;function kt(){throw Error(r(321))}function bf(n,a){if(a===null)return!1;for(var s=0;s<a.length&&s<n.length;s++)if(!Kn(n[s],a[s]))return!1;return!0}function wf(n,a,s,c,h,g){return rr=g,Be=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Q.H=n===null||n.memoizedState===null?xy:Ay,fs=!1,g=s(c,h),fs=!1,oo&&(g=qv(a,s,c,h)),Fv(n),g}function Fv(n){Q.H=ku;var a=ct!==null&&ct.next!==null;if(rr=0,Ut=ct=Be=null,Su=!1,Pl=0,lo=null,a)throw Error(r(300));n===null||Zt||(n=n.dependencies,n!==null&&Eu(n)&&(Zt=!0))}function qv(n,a,s,c){Be=n;var h=0;do{if(oo&&(lo=null),Pl=0,oo=!1,25<=h)throw Error(r(301));if(h+=1,Ut=ct=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Q.H=qA,g=a(s,c)}while(oo);return g}function LA(){var n=Q.H,a=n.useState()[0];return a=typeof a.then=="function"?Ml(a):a,n=n.useState()[0],(ct!==null?ct.memoizedState:null)!==n&&(Be.flags|=1024),a}function Tf(){var n=Ru!==0;return Ru=0,n}function xf(n,a,s){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~s}function Af(n){if(Su){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Su=!1}rr=0,Ut=ct=Be=null,oo=!1,Pl=Ru=0,lo=null}function On(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Be.memoizedState=Ut=n:Ut=Ut.next=n,Ut}function zt(){if(ct===null){var n=Be.alternate;n=n!==null?n.memoizedState:null}else n=ct.next;var a=Ut===null?Be.memoizedState:Ut.next;if(a!==null)Ut=a,ct=n;else{if(n===null)throw Be.alternate===null?Error(r(467)):Error(r(310));ct=n,n={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Ut===null?Be.memoizedState=Ut=n:Ut=Ut.next=n}return Ut}function Sf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(n){var a=Pl;return Pl+=1,lo===null&&(lo=[]),n=jv(lo,n,a),a=Be,(Ut===null?a.memoizedState:Ut.next)===null&&(a=a.alternate,Q.H=a===null||a.memoizedState===null?xy:Ay),n}function Iu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ml(n);if(n.$$typeof===G)return pn(n)}throw Error(r(438,String(n)))}function Rf(n){var a=null,s=Be.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var c=Be.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(h){return h.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=Sf(),Be.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(n),c=0;c<n;c++)s[c]=P;return a.index++,s}function Ia(n,a){return typeof a=="function"?a(n):a}function Cu(n){var a=zt();return If(a,ct,n)}function If(n,a,s){var c=n.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var h=n.baseQueue,g=c.pending;if(g!==null){if(h!==null){var w=h.next;h.next=g.next,g.next=w}a.baseQueue=h=g,c.pending=null}if(g=n.baseState,h===null)n.memoizedState=g;else{a=h.next;var x=w=null,k=null,$=a,W=!1;do{var te=$.lane&-536870913;if(te!==$.lane?(We&te)===te:(rr&te)===te){var K=$.revertLane;if(K===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),te===ao&&(W=!0);else if((rr&K)===K){$=$.next,K===ao&&(W=!0);continue}else te={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},k===null?(x=k=te,w=g):k=k.next=te,Be.lanes|=K,hr|=K;te=$.action,fs&&s(g,te),g=$.hasEagerState?$.eagerState:s(g,te)}else K={lane:te,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},k===null?(x=k=K,w=g):k=k.next=K,Be.lanes|=te,hr|=te;$=$.next}while($!==null&&$!==a);if(k===null?w=g:k.next=x,!Kn(g,n.memoizedState)&&(Zt=!0,W&&(s=ro,s!==null)))throw s;n.memoizedState=g,n.baseState=w,n.baseQueue=k,c.lastRenderedState=g}return h===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Cf(n){var a=zt(),s=a.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=n;var c=s.dispatch,h=s.pending,g=a.memoizedState;if(h!==null){s.pending=null;var w=h=h.next;do g=n(g,w.action),w=w.next;while(w!==h);Kn(g,a.memoizedState)||(Zt=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),s.lastRenderedState=g}return[g,c]}function Hv(n,a,s){var c=Be,h=zt(),g=tt;if(g){if(s===void 0)throw Error(r(407));s=s()}else s=a();var w=!Kn((ct||h).memoizedState,s);w&&(h.memoizedState=s,Zt=!0),h=h.queue;var x=Kv.bind(null,c,h,n);if(jl(2048,8,x,[n]),h.getSnapshot!==a||w||Ut!==null&&Ut.memoizedState.tag&1){if(c.flags|=2048,co(9,Nu(),$v.bind(null,c,h,s,a),null),mt===null)throw Error(r(349));g||(rr&124)!==0||Gv(c,a,s)}return s}function Gv(n,a,s){n.flags|=16384,n={getSnapshot:a,value:s},a=Be.updateQueue,a===null?(a=Sf(),Be.updateQueue=a,a.stores=[n]):(s=a.stores,s===null?a.stores=[n]:s.push(n))}function $v(n,a,s,c){a.value=s,a.getSnapshot=c,Qv(a)&&Yv(n)}function Kv(n,a,s){return s(function(){Qv(a)&&Yv(n)})}function Qv(n){var a=n.getSnapshot;n=n.value;try{var s=a();return!Kn(n,s)}catch{return!0}}function Yv(n){var a=eo(n,2);a!==null&&Jn(a,n,2)}function Nf(n){var a=On();if(typeof n=="function"){var s=n;if(n=s(),fs){it(!0);try{s()}finally{it(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:n},a}function Xv(n,a,s,c){return n.baseState=s,If(n,ct,typeof c=="function"?c:Ia)}function VA(n,a,s,c,h){if(Ou(n))throw Error(r(485));if(n=a.action,n!==null){var g={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};Q.T!==null?s(!0):g.isTransition=!1,c(g),s=a.pending,s===null?(g.next=a.pending=g,Wv(a,g)):(g.next=s.next,a.pending=s.next=g)}}function Wv(n,a){var s=a.action,c=a.payload,h=n.state;if(a.isTransition){var g=Q.T,w={};Q.T=w;try{var x=s(h,c),k=Q.S;k!==null&&k(w,x),Zv(n,a,x)}catch($){Df(n,a,$)}finally{Q.T=g}}else try{g=s(h,c),Zv(n,a,g)}catch($){Df(n,a,$)}}function Zv(n,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(c){Jv(n,a,c)},function(c){return Df(n,a,c)}):Jv(n,a,s)}function Jv(n,a,s){a.status="fulfilled",a.value=s,ey(a),n.state=s,a=n.pending,a!==null&&(s=a.next,s===a?n.pending=null:(s=s.next,a.next=s,Wv(n,s)))}function Df(n,a,s){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=s,ey(a),a=a.next;while(a!==c)}n.action=null}function ey(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function ty(n,a){return a}function ny(n,a){if(tt){var s=mt.formState;if(s!==null){e:{var c=Be;if(tt){if(It){t:{for(var h=It,g=Wi;h.nodeType!==8;){if(!g){h=null;break t}if(h=Ii(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){It=Ii(h.nextSibling),c=h.data==="F!";break e}}cs(c)}c=!1}c&&(a=s[0])}}return s=On(),s.memoizedState=s.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ty,lastRenderedState:a},s.queue=c,s=by.bind(null,Be,c),c.dispatch=s,c=Nf(!1),g=jf.bind(null,Be,!1,c.queue),c=On(),h={state:a,dispatch:null,action:n,pending:null},c.queue=h,s=VA.bind(null,Be,h,g,s),h.dispatch=s,c.memoizedState=n,[a,s,!1]}function iy(n){var a=zt();return ay(a,ct,n)}function ay(n,a,s){if(a=If(n,a,ty)[0],n=Cu(Ia)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Ml(a)}catch(w){throw w===Cl?Tu:w}else c=a;a=zt();var h=a.queue,g=h.dispatch;return s!==a.memoizedState&&(Be.flags|=2048,co(9,Nu(),UA.bind(null,h,s),null)),[c,g,n]}function UA(n,a){n.action=a}function ry(n){var a=zt(),s=ct;if(s!==null)return ay(a,s,n);zt(),a=a.memoizedState,s=zt();var c=s.queue.dispatch;return s.memoizedState=n,[a,c,!1]}function co(n,a,s,c){return n={tag:n,create:s,deps:c,inst:a,next:null},a=Be.updateQueue,a===null&&(a=Sf(),Be.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=n.next=n:(c=s.next,s.next=n,n.next=c,a.lastEffect=n),n}function Nu(){return{destroy:void 0,resource:void 0}}function sy(){return zt().memoizedState}function Du(n,a,s,c){var h=On();c=c===void 0?null:c,Be.flags|=n,h.memoizedState=co(1|a,Nu(),s,c)}function jl(n,a,s,c){var h=zt();c=c===void 0?null:c;var g=h.memoizedState.inst;ct!==null&&c!==null&&bf(c,ct.memoizedState.deps)?h.memoizedState=co(a,g,s,c):(Be.flags|=n,h.memoizedState=co(1|a,g,s,c))}function oy(n,a){Du(8390656,8,n,a)}function ly(n,a){jl(2048,8,n,a)}function cy(n,a){return jl(4,2,n,a)}function uy(n,a){return jl(4,4,n,a)}function dy(n,a){if(typeof a=="function"){n=n();var s=a(n);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function hy(n,a,s){s=s!=null?s.concat([n]):null,jl(4,4,dy.bind(null,a,n),s)}function Of(){}function fy(n,a){var s=zt();a=a===void 0?null:a;var c=s.memoizedState;return a!==null&&bf(a,c[1])?c[0]:(s.memoizedState=[n,a],n)}function py(n,a){var s=zt();a=a===void 0?null:a;var c=s.memoizedState;if(a!==null&&bf(a,c[1]))return c[0];if(c=n(),fs){it(!0);try{n()}finally{it(!1)}}return s.memoizedState=[c,a],c}function kf(n,a,s){return s===void 0||(rr&1073741824)!==0?n.memoizedState=a:(n.memoizedState=s,n=v_(),Be.lanes|=n,hr|=n,s)}function my(n,a,s,c){return Kn(s,a)?s:so.current!==null?(n=kf(n,s,c),Kn(n,a)||(Zt=!0),n):(rr&42)===0?(Zt=!0,n.memoizedState=s):(n=v_(),Be.lanes|=n,hr|=n,a)}function gy(n,a,s,c,h){var g=re.p;re.p=g!==0&&8>g?g:8;var w=Q.T,x={};Q.T=x,jf(n,!1,a,s);try{var k=h(),$=Q.S;if($!==null&&$(x,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var W=MA(k,c);Ll(n,a,W,Zn(n))}else Ll(n,a,c,Zn(n))}catch(te){Ll(n,a,{then:function(){},status:"rejected",reason:te},Zn())}finally{re.p=g,Q.T=w}}function zA(){}function Pf(n,a,s,c){if(n.tag!==5)throw Error(r(476));var h=vy(n).queue;gy(n,h,a,he,s===null?zA:function(){return yy(n),s(c)})}function vy(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:he},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:s},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function yy(n){var a=vy(n).next.queue;Ll(n,a,{},Zn())}function Mf(){return pn(tc)}function _y(){return zt().memoizedState}function Ey(){return zt().memoizedState}function BA(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var s=Zn();n=ir(s);var c=ar(a,n,s);c!==null&&(Jn(c,a,s),Dl(c,a,s)),a={cache:df()},n.payload=a;return}a=a.return}}function FA(n,a,s){var c=Zn();s={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Ou(n)?wy(a,s):(s=ef(n,a,s,c),s!==null&&(Jn(s,n,c),Ty(s,a,c)))}function by(n,a,s){var c=Zn();Ll(n,a,s,c)}function Ll(n,a,s,c){var h={lane:c,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ou(n))wy(a,h);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var w=a.lastRenderedState,x=g(w,s);if(h.hasEagerState=!0,h.eagerState=x,Kn(x,w))return mu(n,a,h,0),mt===null&&pu(),!1}catch{}finally{}if(s=ef(n,a,h,c),s!==null)return Jn(s,n,c),Ty(s,a,c),!0}return!1}function jf(n,a,s,c){if(c={lane:2,revertLane:pp(),action:c,hasEagerState:!1,eagerState:null,next:null},Ou(n)){if(a)throw Error(r(479))}else a=ef(n,s,c,2),a!==null&&Jn(a,n,2)}function Ou(n){var a=n.alternate;return n===Be||a!==null&&a===Be}function wy(n,a){oo=Su=!0;var s=n.pending;s===null?a.next=a:(a.next=s.next,s.next=a),n.pending=a}function Ty(n,a,s){if((s&4194048)!==0){var c=a.lanes;c&=n.pendingLanes,s|=c,a.lanes=s,rt(n,s)}}var ku={readContext:pn,use:Iu,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt},xy={readContext:pn,use:Iu,useCallback:function(n,a){return On().memoizedState=[n,a===void 0?null:a],n},useContext:pn,useEffect:oy,useImperativeHandle:function(n,a,s){s=s!=null?s.concat([n]):null,Du(4194308,4,dy.bind(null,a,n),s)},useLayoutEffect:function(n,a){return Du(4194308,4,n,a)},useInsertionEffect:function(n,a){Du(4,2,n,a)},useMemo:function(n,a){var s=On();a=a===void 0?null:a;var c=n();if(fs){it(!0);try{n()}finally{it(!1)}}return s.memoizedState=[c,a],c},useReducer:function(n,a,s){var c=On();if(s!==void 0){var h=s(a);if(fs){it(!0);try{s(a)}finally{it(!1)}}}else h=a;return c.memoizedState=c.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},c.queue=n,n=n.dispatch=FA.bind(null,Be,n),[c.memoizedState,n]},useRef:function(n){var a=On();return n={current:n},a.memoizedState=n},useState:function(n){n=Nf(n);var a=n.queue,s=by.bind(null,Be,a);return a.dispatch=s,[n.memoizedState,s]},useDebugValue:Of,useDeferredValue:function(n,a){var s=On();return kf(s,n,a)},useTransition:function(){var n=Nf(!1);return n=gy.bind(null,Be,n.queue,!0,!1),On().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,s){var c=Be,h=On();if(tt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=a(),mt===null)throw Error(r(349));(We&124)!==0||Gv(c,a,s)}h.memoizedState=s;var g={value:s,getSnapshot:a};return h.queue=g,oy(Kv.bind(null,c,g,n),[n]),c.flags|=2048,co(9,Nu(),$v.bind(null,c,g,s,a),null),s},useId:function(){var n=On(),a=mt.identifierPrefix;if(tt){var s=Aa,c=xa;s=(c&~(1<<32-ht(c)-1)).toString(32)+s,a=""+a+"R"+s,s=Ru++,0<s&&(a+="H"+s.toString(32)),a+=""}else s=jA++,a=""+a+"r"+s.toString(32)+"";return n.memoizedState=a},useHostTransitionStatus:Mf,useFormState:ny,useActionState:ny,useOptimistic:function(n){var a=On();a.memoizedState=a.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=jf.bind(null,Be,!0,s),s.dispatch=a,[n,a]},useMemoCache:Rf,useCacheRefresh:function(){return On().memoizedState=BA.bind(null,Be)}},Ay={readContext:pn,use:Iu,useCallback:fy,useContext:pn,useEffect:ly,useImperativeHandle:hy,useInsertionEffect:cy,useLayoutEffect:uy,useMemo:py,useReducer:Cu,useRef:sy,useState:function(){return Cu(Ia)},useDebugValue:Of,useDeferredValue:function(n,a){var s=zt();return my(s,ct.memoizedState,n,a)},useTransition:function(){var n=Cu(Ia)[0],a=zt().memoizedState;return[typeof n=="boolean"?n:Ml(n),a]},useSyncExternalStore:Hv,useId:_y,useHostTransitionStatus:Mf,useFormState:iy,useActionState:iy,useOptimistic:function(n,a){var s=zt();return Xv(s,ct,n,a)},useMemoCache:Rf,useCacheRefresh:Ey},qA={readContext:pn,use:Iu,useCallback:fy,useContext:pn,useEffect:ly,useImperativeHandle:hy,useInsertionEffect:cy,useLayoutEffect:uy,useMemo:py,useReducer:Cf,useRef:sy,useState:function(){return Cf(Ia)},useDebugValue:Of,useDeferredValue:function(n,a){var s=zt();return ct===null?kf(s,n,a):my(s,ct.memoizedState,n,a)},useTransition:function(){var n=Cf(Ia)[0],a=zt().memoizedState;return[typeof n=="boolean"?n:Ml(n),a]},useSyncExternalStore:Hv,useId:_y,useHostTransitionStatus:Mf,useFormState:ry,useActionState:ry,useOptimistic:function(n,a){var s=zt();return ct!==null?Xv(s,ct,n,a):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:Ey},uo=null,Vl=0;function Pu(n){var a=Vl;return Vl+=1,uo===null&&(uo=[]),jv(uo,n,a)}function Ul(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function Mu(n,a){throw a.$$typeof===b?Error(r(525)):(n=Object.prototype.toString.call(a),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function Sy(n){var a=n._init;return a(n._payload)}function Ry(n){function a(B,V){if(n){var H=B.deletions;H===null?(B.deletions=[V],B.flags|=16):H.push(V)}}function s(B,V){if(!n)return null;for(;V!==null;)a(B,V),V=V.sibling;return null}function c(B){for(var V=new Map;B!==null;)B.key!==null?V.set(B.key,B):V.set(B.index,B),B=B.sibling;return V}function h(B,V){return B=Ta(B,V),B.index=0,B.sibling=null,B}function g(B,V,H){return B.index=H,n?(H=B.alternate,H!==null?(H=H.index,H<V?(B.flags|=67108866,V):H):(B.flags|=67108866,V)):(B.flags|=1048576,V)}function w(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function x(B,V,H,ee){return V===null||V.tag!==6?(V=nf(H,B.mode,ee),V.return=B,V):(V=h(V,H),V.return=B,V)}function k(B,V,H,ee){var Ee=H.type;return Ee===S?W(B,V,H.props.children,ee,H.key):V!==null&&(V.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&Sy(Ee)===V.type)?(V=h(V,H.props),Ul(V,H),V.return=B,V):(V=vu(H.type,H.key,H.props,null,B.mode,ee),Ul(V,H),V.return=B,V)}function $(B,V,H,ee){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=af(H,B.mode,ee),V.return=B,V):(V=h(V,H.children||[]),V.return=B,V)}function W(B,V,H,ee,Ee){return V===null||V.tag!==7?(V=rs(H,B.mode,ee,Ee),V.return=B,V):(V=h(V,H),V.return=B,V)}function te(B,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=nf(""+V,B.mode,H),V.return=B,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case T:return H=vu(V.type,V.key,V.props,null,B.mode,H),Ul(H,V),H.return=B,H;case I:return V=af(V,B.mode,H),V.return=B,V;case R:var ee=V._init;return V=ee(V._payload),te(B,V,H)}if(_e(V)||z(V))return V=rs(V,B.mode,H,null),V.return=B,V;if(typeof V.then=="function")return te(B,Pu(V),H);if(V.$$typeof===G)return te(B,bu(B,V),H);Mu(B,V)}return null}function K(B,V,H,ee){var Ee=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Ee!==null?null:x(B,V,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return H.key===Ee?k(B,V,H,ee):null;case I:return H.key===Ee?$(B,V,H,ee):null;case R:return Ee=H._init,H=Ee(H._payload),K(B,V,H,ee)}if(_e(H)||z(H))return Ee!==null?null:W(B,V,H,ee,null);if(typeof H.then=="function")return K(B,V,Pu(H),ee);if(H.$$typeof===G)return K(B,V,bu(B,H),ee);Mu(B,H)}return null}function Y(B,V,H,ee,Ee){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return B=B.get(H)||null,x(V,B,""+ee,Ee);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case T:return B=B.get(ee.key===null?H:ee.key)||null,k(V,B,ee,Ee);case I:return B=B.get(ee.key===null?H:ee.key)||null,$(V,B,ee,Ee);case R:var qe=ee._init;return ee=qe(ee._payload),Y(B,V,H,ee,Ee)}if(_e(ee)||z(ee))return B=B.get(H)||null,W(V,B,ee,Ee,null);if(typeof ee.then=="function")return Y(B,V,H,Pu(ee),Ee);if(ee.$$typeof===G)return Y(B,V,H,bu(V,ee),Ee);Mu(V,ee)}return null}function Pe(B,V,H,ee){for(var Ee=null,qe=null,Ae=V,De=V=0,en=null;Ae!==null&&De<H.length;De++){Ae.index>De?(en=Ae,Ae=null):en=Ae.sibling;var et=K(B,Ae,H[De],ee);if(et===null){Ae===null&&(Ae=en);break}n&&Ae&&et.alternate===null&&a(B,Ae),V=g(et,V,De),qe===null?Ee=et:qe.sibling=et,qe=et,Ae=en}if(De===H.length)return s(B,Ae),tt&&os(B,De),Ee;if(Ae===null){for(;De<H.length;De++)Ae=te(B,H[De],ee),Ae!==null&&(V=g(Ae,V,De),qe===null?Ee=Ae:qe.sibling=Ae,qe=Ae);return tt&&os(B,De),Ee}for(Ae=c(Ae);De<H.length;De++)en=Y(Ae,B,De,H[De],ee),en!==null&&(n&&en.alternate!==null&&Ae.delete(en.key===null?De:en.key),V=g(en,V,De),qe===null?Ee=en:qe.sibling=en,qe=en);return n&&Ae.forEach(function(br){return a(B,br)}),tt&&os(B,De),Ee}function Ne(B,V,H,ee){if(H==null)throw Error(r(151));for(var Ee=null,qe=null,Ae=V,De=V=0,en=null,et=H.next();Ae!==null&&!et.done;De++,et=H.next()){Ae.index>De?(en=Ae,Ae=null):en=Ae.sibling;var br=K(B,Ae,et.value,ee);if(br===null){Ae===null&&(Ae=en);break}n&&Ae&&br.alternate===null&&a(B,Ae),V=g(br,V,De),qe===null?Ee=br:qe.sibling=br,qe=br,Ae=en}if(et.done)return s(B,Ae),tt&&os(B,De),Ee;if(Ae===null){for(;!et.done;De++,et=H.next())et=te(B,et.value,ee),et!==null&&(V=g(et,V,De),qe===null?Ee=et:qe.sibling=et,qe=et);return tt&&os(B,De),Ee}for(Ae=c(Ae);!et.done;De++,et=H.next())et=Y(Ae,B,De,et.value,ee),et!==null&&(n&&et.alternate!==null&&Ae.delete(et.key===null?De:et.key),V=g(et,V,De),qe===null?Ee=et:qe.sibling=et,qe=et);return n&&Ae.forEach(function(HS){return a(B,HS)}),tt&&os(B,De),Ee}function dt(B,V,H,ee){if(typeof H=="object"&&H!==null&&H.type===S&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case T:e:{for(var Ee=H.key;V!==null;){if(V.key===Ee){if(Ee=H.type,Ee===S){if(V.tag===7){s(B,V.sibling),ee=h(V,H.props.children),ee.return=B,B=ee;break e}}else if(V.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&Sy(Ee)===V.type){s(B,V.sibling),ee=h(V,H.props),Ul(ee,H),ee.return=B,B=ee;break e}s(B,V);break}else a(B,V);V=V.sibling}H.type===S?(ee=rs(H.props.children,B.mode,ee,H.key),ee.return=B,B=ee):(ee=vu(H.type,H.key,H.props,null,B.mode,ee),Ul(ee,H),ee.return=B,B=ee)}return w(B);case I:e:{for(Ee=H.key;V!==null;){if(V.key===Ee)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){s(B,V.sibling),ee=h(V,H.children||[]),ee.return=B,B=ee;break e}else{s(B,V);break}else a(B,V);V=V.sibling}ee=af(H,B.mode,ee),ee.return=B,B=ee}return w(B);case R:return Ee=H._init,H=Ee(H._payload),dt(B,V,H,ee)}if(_e(H))return Pe(B,V,H,ee);if(z(H)){if(Ee=z(H),typeof Ee!="function")throw Error(r(150));return H=Ee.call(H),Ne(B,V,H,ee)}if(typeof H.then=="function")return dt(B,V,Pu(H),ee);if(H.$$typeof===G)return dt(B,V,bu(B,H),ee);Mu(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(s(B,V.sibling),ee=h(V,H),ee.return=B,B=ee):(s(B,V),ee=nf(H,B.mode,ee),ee.return=B,B=ee),w(B)):s(B,V)}return function(B,V,H,ee){try{Vl=0;var Ee=dt(B,V,H,ee);return uo=null,Ee}catch(Ae){if(Ae===Cl||Ae===Tu)throw Ae;var qe=Qn(29,Ae,null,B.mode);return qe.lanes=ee,qe.return=B,qe}finally{}}}var ho=Ry(!0),Iy=Ry(!1),mi=J(null),Zi=null;function sr(n){var a=n.alternate;ie(Kt,Kt.current&1),ie(mi,n),Zi===null&&(a===null||so.current!==null||a.memoizedState!==null)&&(Zi=n)}function Cy(n){if(n.tag===22){if(ie(Kt,Kt.current),ie(mi,n),Zi===null){var a=n.alternate;a!==null&&a.memoizedState!==null&&(Zi=n)}}else or()}function or(){ie(Kt,Kt.current),ie(mi,mi.current)}function Ca(n){le(mi),Zi===n&&(Zi=null),le(Kt)}var Kt=J(0);function ju(n){for(var a=n;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Sp(s)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Lf(n,a,s,c){a=n.memoizedState,s=s(c,a),s=s==null?a:y({},a,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var Vf={enqueueSetState:function(n,a,s){n=n._reactInternals;var c=Zn(),h=ir(c);h.payload=a,s!=null&&(h.callback=s),a=ar(n,h,c),a!==null&&(Jn(a,n,c),Dl(a,n,c))},enqueueReplaceState:function(n,a,s){n=n._reactInternals;var c=Zn(),h=ir(c);h.tag=1,h.payload=a,s!=null&&(h.callback=s),a=ar(n,h,c),a!==null&&(Jn(a,n,c),Dl(a,n,c))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var s=Zn(),c=ir(s);c.tag=2,a!=null&&(c.callback=a),a=ar(n,c,s),a!==null&&(Jn(a,n,s),Dl(a,n,s))}};function Ny(n,a,s,c,h,g,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,w):a.prototype&&a.prototype.isPureReactComponent?!bl(s,c)||!bl(h,g):!0}function Dy(n,a,s,c){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,c),a.state!==n&&Vf.enqueueReplaceState(a,a.state,null)}function ps(n,a){var s=a;if("ref"in a){s={};for(var c in a)c!=="ref"&&(s[c]=a[c])}if(n=n.defaultProps){s===a&&(s=y({},s));for(var h in n)s[h]===void 0&&(s[h]=n[h])}return s}var Lu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Oy(n){Lu(n)}function ky(n){console.error(n)}function Py(n){Lu(n)}function Vu(n,a){try{var s=n.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function My(n,a,s){try{var c=n.onCaughtError;c(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uf(n,a,s){return s=ir(s),s.tag=3,s.payload={element:null},s.callback=function(){Vu(n,a)},s}function jy(n){return n=ir(n),n.tag=3,n}function Ly(n,a,s,c){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var g=c.value;n.payload=function(){return h(g)},n.callback=function(){My(a,s,c)}}var w=s.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){My(a,s,c),typeof h!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var x=c.stack;this.componentDidCatch(c.value,{componentStack:x!==null?x:""})})}function HA(n,a,s,c,h){if(s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=s.alternate,a!==null&&Sl(a,s,h,!0),s=mi.current,s!==null){switch(s.tag){case 13:return Zi===null?cp():s.alternate===null&&Ct===0&&(Ct=3),s.flags&=-257,s.flags|=65536,s.lanes=h,c===pf?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([c]):a.add(c),dp(n,c,h)),!1;case 22:return s.flags|=65536,c===pf?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([c]):s.add(c)),dp(n,c,h)),!1}throw Error(r(435,s.tag))}return dp(n,c,h),cp(),!1}if(tt)return a=mi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=h,c!==of&&(n=Error(r(422),{cause:c}),Al(di(n,s)))):(c!==of&&(a=Error(r(423),{cause:c}),Al(di(a,s))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,c=di(c,s),h=Uf(n.stateNode,c,h),vf(n,h),Ct!==4&&(Ct=2)),!1;var g=Error(r(520),{cause:c});if(g=di(g,s),$l===null?$l=[g]:$l.push(g),Ct!==4&&(Ct=2),a===null)return!0;c=di(c,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,n=h&-h,s.lanes|=n,n=Uf(s.stateNode,c,n),vf(s,n),!1;case 1:if(a=s.type,g=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(fr===null||!fr.has(g))))return s.flags|=65536,h&=-h,s.lanes|=h,h=jy(h),Ly(h,n,s,c),vf(s,h),!1}s=s.return}while(s!==null);return!1}var Vy=Error(r(461)),Zt=!1;function rn(n,a,s,c){a.child=n===null?Iy(a,null,s,c):ho(a,n.child,s,c)}function Uy(n,a,s,c,h){s=s.render;var g=a.ref;if("ref"in c){var w={};for(var x in c)x!=="ref"&&(w[x]=c[x])}else w=c;return ds(a),c=wf(n,a,s,w,g,h),x=Tf(),n!==null&&!Zt?(xf(n,a,h),Na(n,a,h)):(tt&&x&&rf(a),a.flags|=1,rn(n,a,c,h),a.child)}function zy(n,a,s,c,h){if(n===null){var g=s.type;return typeof g=="function"&&!tf(g)&&g.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=g,By(n,a,g,c,h)):(n=vu(s.type,null,c,a,a.mode,h),n.ref=a.ref,n.return=a,a.child=n)}if(g=n.child,!Kf(n,h)){var w=g.memoizedProps;if(s=s.compare,s=s!==null?s:bl,s(w,c)&&n.ref===a.ref)return Na(n,a,h)}return a.flags|=1,n=Ta(g,c),n.ref=a.ref,n.return=a,a.child=n}function By(n,a,s,c,h){if(n!==null){var g=n.memoizedProps;if(bl(g,c)&&n.ref===a.ref)if(Zt=!1,a.pendingProps=c=g,Kf(n,h))(n.flags&131072)!==0&&(Zt=!0);else return a.lanes=n.lanes,Na(n,a,h)}return zf(n,a,s,c,h)}function Fy(n,a,s){var c=a.pendingProps,h=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=g!==null?g.baseLanes|s:s,n!==null){for(h=a.child=n.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;a.childLanes=g&~c}else a.childLanes=0,a.child=null;return qy(n,a,c,s)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&wu(a,g!==null?g.cachePool:null),g!==null?Bv(a,g):_f(),Cy(a);else return a.lanes=a.childLanes=536870912,qy(n,a,g!==null?g.baseLanes|s:s,s)}else g!==null?(wu(a,g.cachePool),Bv(a,g),or(),a.memoizedState=null):(n!==null&&wu(a,null),_f(),or());return rn(n,a,h,s),a.child}function qy(n,a,s,c){var h=ff();return h=h===null?null:{parent:$t._currentValue,pool:h},a.memoizedState={baseLanes:s,cachePool:h},n!==null&&wu(a,null),_f(),Cy(a),n!==null&&Sl(n,a,c,!0),null}function Uu(n,a){var s=a.ref;if(s===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(n===null||n.ref!==s)&&(a.flags|=4194816)}}function zf(n,a,s,c,h){return ds(a),s=wf(n,a,s,c,void 0,h),c=Tf(),n!==null&&!Zt?(xf(n,a,h),Na(n,a,h)):(tt&&c&&rf(a),a.flags|=1,rn(n,a,s,h),a.child)}function Hy(n,a,s,c,h,g){return ds(a),a.updateQueue=null,s=qv(a,c,s,h),Fv(n),c=Tf(),n!==null&&!Zt?(xf(n,a,g),Na(n,a,g)):(tt&&c&&rf(a),a.flags|=1,rn(n,a,s,g),a.child)}function Gy(n,a,s,c,h){if(ds(a),a.stateNode===null){var g=to,w=s.contextType;typeof w=="object"&&w!==null&&(g=pn(w)),g=new s(c,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Vf,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=c,g.state=a.memoizedState,g.refs={},mf(a),w=s.contextType,g.context=typeof w=="object"&&w!==null?pn(w):to,g.state=a.memoizedState,w=s.getDerivedStateFromProps,typeof w=="function"&&(Lf(a,s,w,c),g.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&Vf.enqueueReplaceState(g,g.state,null),kl(a,c,g,h),Ol(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(n===null){g=a.stateNode;var x=a.memoizedProps,k=ps(s,x);g.props=k;var $=g.context,W=s.contextType;w=to,typeof W=="object"&&W!==null&&(w=pn(W));var te=s.getDerivedStateFromProps;W=typeof te=="function"||typeof g.getSnapshotBeforeUpdate=="function",x=a.pendingProps!==x,W||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x||$!==w)&&Dy(a,g,c,w),nr=!1;var K=a.memoizedState;g.state=K,kl(a,c,g,h),Ol(),$=a.memoizedState,x||K!==$||nr?(typeof te=="function"&&(Lf(a,s,te,c),$=a.memoizedState),(k=nr||Ny(a,s,k,c,K,$,w))?(W||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=$),g.props=c,g.state=$,g.context=w,c=k):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{g=a.stateNode,gf(n,a),w=a.memoizedProps,W=ps(s,w),g.props=W,te=a.pendingProps,K=g.context,$=s.contextType,k=to,typeof $=="object"&&$!==null&&(k=pn($)),x=s.getDerivedStateFromProps,($=typeof x=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==te||K!==k)&&Dy(a,g,c,k),nr=!1,K=a.memoizedState,g.state=K,kl(a,c,g,h),Ol();var Y=a.memoizedState;w!==te||K!==Y||nr||n!==null&&n.dependencies!==null&&Eu(n.dependencies)?(typeof x=="function"&&(Lf(a,s,x,c),Y=a.memoizedState),(W=nr||Ny(a,s,W,c,K,Y,k)||n!==null&&n.dependencies!==null&&Eu(n.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,Y,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,Y,k)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===n.memoizedProps&&K===n.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&K===n.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=Y),g.props=c,g.state=Y,g.context=k,c=W):(typeof g.componentDidUpdate!="function"||w===n.memoizedProps&&K===n.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&K===n.memoizedState||(a.flags|=1024),c=!1)}return g=c,Uu(n,a),c=(a.flags&128)!==0,g||c?(g=a.stateNode,s=c&&typeof s.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,n!==null&&c?(a.child=ho(a,n.child,null,h),a.child=ho(a,null,s,h)):rn(n,a,s,h),a.memoizedState=g.state,n=a.child):n=Na(n,a,h),n}function $y(n,a,s,c){return xl(),a.flags|=256,rn(n,a,s,c),a.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(n){return{baseLanes:n,cachePool:kv()}}function qf(n,a,s){return n=n!==null?n.childLanes&~s:0,a&&(n|=gi),n}function Ky(n,a,s){var c=a.pendingProps,h=!1,g=(a.flags&128)!==0,w;if((w=g)||(w=n!==null&&n.memoizedState===null?!1:(Kt.current&2)!==0),w&&(h=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,n===null){if(tt){if(h?sr(a):or(),tt){var x=It,k;if(k=x){e:{for(k=x,x=Wi;k.nodeType!==8;){if(!x){x=null;break e}if(k=Ii(k.nextSibling),k===null){x=null;break e}}x=k}x!==null?(a.memoizedState={dehydrated:x,treeContext:ss!==null?{id:xa,overflow:Aa}:null,retryLane:536870912,hydrationErrors:null},k=Qn(18,null,null,0),k.stateNode=x,k.return=a,a.child=k,xn=a,It=null,k=!0):k=!1}k||cs(a)}if(x=a.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return Sp(x)?a.lanes=32:a.lanes=536870912,null;Ca(a)}return x=c.children,c=c.fallback,h?(or(),h=a.mode,x=zu({mode:"hidden",children:x},h),c=rs(c,h,s,null),x.return=a,c.return=a,x.sibling=c,a.child=x,h=a.child,h.memoizedState=Ff(s),h.childLanes=qf(n,w,s),a.memoizedState=Bf,c):(sr(a),Hf(a,x))}if(k=n.memoizedState,k!==null&&(x=k.dehydrated,x!==null)){if(g)a.flags&256?(sr(a),a.flags&=-257,a=Gf(n,a,s)):a.memoizedState!==null?(or(),a.child=n.child,a.flags|=128,a=null):(or(),h=c.fallback,x=a.mode,c=zu({mode:"visible",children:c.children},x),h=rs(h,x,s,null),h.flags|=2,c.return=a,h.return=a,c.sibling=h,a.child=c,ho(a,n.child,null,s),c=a.child,c.memoizedState=Ff(s),c.childLanes=qf(n,w,s),a.memoizedState=Bf,a=h);else if(sr(a),Sp(x)){if(w=x.nextSibling&&x.nextSibling.dataset,w)var $=w.dgst;w=$,c=Error(r(419)),c.stack="",c.digest=w,Al({value:c,source:null,stack:null}),a=Gf(n,a,s)}else if(Zt||Sl(n,a,s,!1),w=(s&n.childLanes)!==0,Zt||w){if(w=mt,w!==null&&(c=s&-s,c=(c&42)!==0?1:Dn(c),c=(c&(w.suspendedLanes|s))!==0?0:c,c!==0&&c!==k.retryLane))throw k.retryLane=c,eo(n,c),Jn(w,n,c),Vy;x.data==="$?"||cp(),a=Gf(n,a,s)}else x.data==="$?"?(a.flags|=192,a.child=n.child,a=null):(n=k.treeContext,It=Ii(x.nextSibling),xn=a,tt=!0,ls=null,Wi=!1,n!==null&&(fi[pi++]=xa,fi[pi++]=Aa,fi[pi++]=ss,xa=n.id,Aa=n.overflow,ss=a),a=Hf(a,c.children),a.flags|=4096);return a}return h?(or(),h=c.fallback,x=a.mode,k=n.child,$=k.sibling,c=Ta(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,$!==null?h=Ta($,h):(h=rs(h,x,s,null),h.flags|=2),h.return=a,c.return=a,c.sibling=h,a.child=c,c=h,h=a.child,x=n.child.memoizedState,x===null?x=Ff(s):(k=x.cachePool,k!==null?($=$t._currentValue,k=k.parent!==$?{parent:$,pool:$}:k):k=kv(),x={baseLanes:x.baseLanes|s,cachePool:k}),h.memoizedState=x,h.childLanes=qf(n,w,s),a.memoizedState=Bf,c):(sr(a),s=n.child,n=s.sibling,s=Ta(s,{mode:"visible",children:c.children}),s.return=a,s.sibling=null,n!==null&&(w=a.deletions,w===null?(a.deletions=[n],a.flags|=16):w.push(n)),a.child=s,a.memoizedState=null,s)}function Hf(n,a){return a=zu({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function zu(n,a){return n=Qn(22,n,null,a),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Gf(n,a,s){return ho(a,n.child,null,s),n=Hf(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function Qy(n,a,s){n.lanes|=a;var c=n.alternate;c!==null&&(c.lanes|=a),cf(n.return,a,s)}function $f(n,a,s,c,h){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:s,tailMode:h}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=s,g.tailMode=h)}function Yy(n,a,s){var c=a.pendingProps,h=c.revealOrder,g=c.tail;if(rn(n,a,c.children,s),c=Kt.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Qy(n,s,a);else if(n.tag===19)Qy(n,s,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(ie(Kt,c),h){case"forwards":for(s=a.child,h=null;s!==null;)n=s.alternate,n!==null&&ju(n)===null&&(h=s),s=s.sibling;s=h,s===null?(h=a.child,a.child=null):(h=s.sibling,s.sibling=null),$f(a,!1,h,s,g);break;case"backwards":for(s=null,h=a.child,a.child=null;h!==null;){if(n=h.alternate,n!==null&&ju(n)===null){a.child=h;break}n=h.sibling,h.sibling=s,s=h,h=n}$f(a,!0,s,null,g);break;case"together":$f(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Na(n,a,s){if(n!==null&&(a.dependencies=n.dependencies),hr|=a.lanes,(s&a.childLanes)===0)if(n!==null){if(Sl(n,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(r(153));if(a.child!==null){for(n=a.child,s=Ta(n,n.pendingProps),a.child=s,s.return=a;n.sibling!==null;)n=n.sibling,s=s.sibling=Ta(n,n.pendingProps),s.return=a;s.sibling=null}return a.child}function Kf(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&Eu(n)))}function GA(n,a,s){switch(a.tag){case 3:Je(a,a.stateNode.containerInfo),tr(a,$t,n.memoizedState.cache),xl();break;case 27:case 5:Sn(a);break;case 4:Je(a,a.stateNode.containerInfo);break;case 10:tr(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(sr(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Ky(n,a,s):(sr(a),n=Na(n,a,s),n!==null?n.sibling:null);sr(a);break;case 19:var h=(n.flags&128)!==0;if(c=(s&a.childLanes)!==0,c||(Sl(n,a,s,!1),c=(s&a.childLanes)!==0),h){if(c)return Yy(n,a,s);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Kt,Kt.current),c)break;return null;case 22:case 23:return a.lanes=0,Fy(n,a,s);case 24:tr(a,$t,n.memoizedState.cache)}return Na(n,a,s)}function Xy(n,a,s){if(n!==null)if(n.memoizedProps!==a.pendingProps)Zt=!0;else{if(!Kf(n,s)&&(a.flags&128)===0)return Zt=!1,GA(n,a,s);Zt=(n.flags&131072)!==0}else Zt=!1,tt&&(a.flags&1048576)!==0&&Sv(a,_u,a.index);switch(a.lanes=0,a.tag){case 16:e:{n=a.pendingProps;var c=a.elementType,h=c._init;if(c=h(c._payload),a.type=c,typeof c=="function")tf(c)?(n=ps(c,n),a.tag=1,a=Gy(null,a,c,n,s)):(a.tag=0,a=zf(null,a,c,n,s));else{if(c!=null){if(h=c.$$typeof,h===ce){a.tag=11,a=Uy(null,a,c,n,s);break e}else if(h===j){a.tag=14,a=zy(null,a,c,n,s);break e}}throw a=ye(c)||c,Error(r(306,a,""))}}return a;case 0:return zf(n,a,a.type,a.pendingProps,s);case 1:return c=a.type,h=ps(c,a.pendingProps),Gy(n,a,c,h,s);case 3:e:{if(Je(a,a.stateNode.containerInfo),n===null)throw Error(r(387));c=a.pendingProps;var g=a.memoizedState;h=g.element,gf(n,a),kl(a,c,null,s);var w=a.memoizedState;if(c=w.cache,tr(a,$t,c),c!==g.cache&&uf(a,[$t],s,!0),Ol(),c=w.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=$y(n,a,c,s);break e}else if(c!==h){h=di(Error(r(424)),a),Al(h),a=$y(n,a,c,s);break e}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(It=Ii(n.firstChild),xn=a,tt=!0,ls=null,Wi=!0,s=Iy(a,null,c,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(xl(),c===h){a=Na(n,a,s);break e}rn(n,a,c,s)}a=a.child}return a;case 26:return Uu(n,a),n===null?(s=eE(a.type,null,a.pendingProps,null))?a.memoizedState=s:tt||(s=a.type,n=a.pendingProps,c=ed(we.current).createElement(s),c[qt]=a,c[Lt]=n,on(c,s,n),Ot(c),a.stateNode=c):a.memoizedState=eE(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return Sn(a),n===null&&tt&&(c=a.stateNode=W_(a.type,a.pendingProps,we.current),xn=a,Wi=!0,h=It,gr(a.type)?(Rp=h,It=Ii(c.firstChild)):It=h),rn(n,a,a.pendingProps.children,s),Uu(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&tt&&((h=c=It)&&(c=_S(c,a.type,a.pendingProps,Wi),c!==null?(a.stateNode=c,xn=a,It=Ii(c.firstChild),Wi=!1,h=!0):h=!1),h||cs(a)),Sn(a),h=a.type,g=a.pendingProps,w=n!==null?n.memoizedProps:null,c=g.children,Tp(h,g)?c=null:w!==null&&Tp(h,w)&&(a.flags|=32),a.memoizedState!==null&&(h=wf(n,a,LA,null,null,s),tc._currentValue=h),Uu(n,a),rn(n,a,c,s),a.child;case 6:return n===null&&tt&&((n=s=It)&&(s=ES(s,a.pendingProps,Wi),s!==null?(a.stateNode=s,xn=a,It=null,n=!0):n=!1),n||cs(a)),null;case 13:return Ky(n,a,s);case 4:return Je(a,a.stateNode.containerInfo),c=a.pendingProps,n===null?a.child=ho(a,null,c,s):rn(n,a,c,s),a.child;case 11:return Uy(n,a,a.type,a.pendingProps,s);case 7:return rn(n,a,a.pendingProps,s),a.child;case 8:return rn(n,a,a.pendingProps.children,s),a.child;case 12:return rn(n,a,a.pendingProps.children,s),a.child;case 10:return c=a.pendingProps,tr(a,a.type,c.value),rn(n,a,c.children,s),a.child;case 9:return h=a.type._context,c=a.pendingProps.children,ds(a),h=pn(h),c=c(h),a.flags|=1,rn(n,a,c,s),a.child;case 14:return zy(n,a,a.type,a.pendingProps,s);case 15:return By(n,a,a.type,a.pendingProps,s);case 19:return Yy(n,a,s);case 31:return c=a.pendingProps,s=a.mode,c={mode:c.mode,children:c.children},n===null?(s=zu(c,s),s.ref=a.ref,a.child=s,s.return=a,a=s):(s=Ta(n.child,c),s.ref=a.ref,a.child=s,s.return=a,a=s),a;case 22:return Fy(n,a,s);case 24:return ds(a),c=pn($t),n===null?(h=ff(),h===null&&(h=mt,g=df(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=s),h=g),a.memoizedState={parent:c,cache:h},mf(a),tr(a,$t,h)):((n.lanes&s)!==0&&(gf(n,a),kl(a,null,null,s),Ol()),h=n.memoizedState,g=a.memoizedState,h.parent!==c?(h={parent:c,cache:c},a.memoizedState=h,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=h),tr(a,$t,c)):(c=g.cache,tr(a,$t,c),c!==h.cache&&uf(a,[$t],s,!0))),rn(n,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Da(n){n.flags|=4}function Wy(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!rE(a)){if(a=mi.current,a!==null&&((We&4194048)===We?Zi!==null:(We&62914560)!==We&&(We&536870912)===0||a!==Zi))throw Nl=pf,Pv;n.flags|=8192}}function Bu(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?oe():536870912,n.lanes|=a,go|=a)}function zl(n,a){if(!tt)switch(n.tailMode){case"hidden":a=n.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Tt(n){var a=n.alternate!==null&&n.alternate.child===n.child,s=0,c=0;if(a)for(var h=n.child;h!==null;)s|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)s|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=c,n.childLanes=s,a}function $A(n,a,s){var c=a.pendingProps;switch(sf(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(a),null;case 1:return Tt(a),null;case 3:return s=a.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ra($t),dn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(Tl(a)?Da(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Cv())),Tt(a),null;case 26:return s=a.memoizedState,n===null?(Da(a),s!==null?(Tt(a),Wy(a,s)):(Tt(a),a.flags&=-16777217)):s?s!==n.memoizedState?(Da(a),Tt(a),Wy(a,s)):(Tt(a),a.flags&=-16777217):(n.memoizedProps!==c&&Da(a),Tt(a),a.flags&=-16777217),null;case 27:jt(a),s=we.current;var h=a.type;if(n!==null&&a.stateNode!=null)n.memoizedProps!==c&&Da(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Tt(a),null}n=pe.current,Tl(a)?Rv(a):(n=W_(h,c,s),a.stateNode=n,Da(a))}return Tt(a),null;case 5:if(jt(a),s=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==c&&Da(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Tt(a),null}if(n=pe.current,Tl(a))Rv(a);else{switch(h=ed(we.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?h.createElement("select",{is:c.is}):h.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?h.createElement(s,{is:c.is}):h.createElement(s)}}n[qt]=a,n[Lt]=c;e:for(h=a.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break e;for(;h.sibling===null;){if(h.return===null||h.return===a)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}a.stateNode=n;e:switch(on(n,s,c),s){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Da(a)}}return Tt(a),a.flags&=-16777217,null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==c&&Da(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(n=we.current,Tl(a)){if(n=a.stateNode,s=a.memoizedProps,c=null,h=xn,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}n[qt]=a,n=!!(n.nodeValue===s||c!==null&&c.suppressHydrationWarning===!0||H_(n.nodeValue,s)),n||cs(a)}else n=ed(n).createTextNode(c),n[qt]=a,a.stateNode=n}return Tt(a),null;case 13:if(c=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=Tl(a),c!==null&&c.dehydrated!==null){if(n===null){if(!h)throw Error(r(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[qt]=a}else xl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Tt(a),h=!1}else h=Cv(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return a.flags&256?(Ca(a),a):(Ca(a),null)}if(Ca(a),(a.flags&128)!==0)return a.lanes=s,a;if(s=c!==null,n=n!==null&&n.memoizedState!==null,s){c=a.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048)}return s!==n&&s&&(a.child.flags|=8192),Bu(a,a.updateQueue),Tt(a),null;case 4:return dn(),n===null&&yp(a.stateNode.containerInfo),Tt(a),null;case 10:return Ra(a.type),Tt(a),null;case 19:if(le(Kt),h=a.memoizedState,h===null)return Tt(a),null;if(c=(a.flags&128)!==0,g=h.rendering,g===null)if(c)zl(h,!1);else{if(Ct!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(g=ju(n),g!==null){for(a.flags|=128,zl(h,!1),n=g.updateQueue,a.updateQueue=n,Bu(a,n),a.subtreeFlags=0,n=s,s=a.child;s!==null;)Av(s,n),s=s.sibling;return ie(Kt,Kt.current&1|2),a.child}n=n.sibling}h.tail!==null&&Rt()>Hu&&(a.flags|=128,c=!0,zl(h,!1),a.lanes=4194304)}else{if(!c)if(n=ju(g),n!==null){if(a.flags|=128,c=!0,n=n.updateQueue,a.updateQueue=n,Bu(a,n),zl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!tt)return Tt(a),null}else 2*Rt()-h.renderingStartTime>Hu&&s!==536870912&&(a.flags|=128,c=!0,zl(h,!1),a.lanes=4194304);h.isBackwards?(g.sibling=a.child,a.child=g):(n=h.last,n!==null?n.sibling=g:a.child=g,h.last=g)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=Rt(),a.sibling=null,n=Kt.current,ie(Kt,c?n&1|2:n&1),a):(Tt(a),null);case 22:case 23:return Ca(a),Ef(),c=a.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(s&536870912)!==0&&(a.flags&128)===0&&(Tt(a),a.subtreeFlags&6&&(a.flags|=8192)):Tt(a),s=a.updateQueue,s!==null&&Bu(a,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==s&&(a.flags|=2048),n!==null&&le(hs),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),Ra($t),Tt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function KA(n,a){switch(sf(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Ra($t),dn(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return jt(a),null;case 13:if(Ca(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(r(340));xl()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return le(Kt),null;case 4:return dn(),null;case 10:return Ra(a.type),null;case 22:case 23:return Ca(a),Ef(),n!==null&&le(hs),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return Ra($t),null;case 25:return null;default:return null}}function Zy(n,a){switch(sf(a),a.tag){case 3:Ra($t),dn();break;case 26:case 27:case 5:jt(a);break;case 4:dn();break;case 13:Ca(a);break;case 19:le(Kt);break;case 10:Ra(a.type);break;case 22:case 23:Ca(a),Ef(),n!==null&&le(hs);break;case 24:Ra($t)}}function Bl(n,a){try{var s=a.updateQueue,c=s!==null?s.lastEffect:null;if(c!==null){var h=c.next;s=h;do{if((s.tag&n)===n){c=void 0;var g=s.create,w=s.inst;c=g(),w.destroy=c}s=s.next}while(s!==h)}}catch(x){ft(a,a.return,x)}}function lr(n,a,s){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&n)===n){var w=c.inst,x=w.destroy;if(x!==void 0){w.destroy=void 0,h=a;var k=s,$=x;try{$()}catch(W){ft(h,k,W)}}}c=c.next}while(c!==g)}}catch(W){ft(a,a.return,W)}}function Jy(n){var a=n.updateQueue;if(a!==null){var s=n.stateNode;try{zv(a,s)}catch(c){ft(n,n.return,c)}}}function e_(n,a,s){s.props=ps(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(c){ft(n,a,c)}}function Fl(n,a){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof s=="function"?n.refCleanup=s(c):s.current=c}}catch(h){ft(n,a,h)}}function Ji(n,a){var s=n.ref,c=n.refCleanup;if(s!==null)if(typeof c=="function")try{c()}catch(h){ft(n,a,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ft(n,a,h)}else s.current=null}function t_(n){var a=n.type,s=n.memoizedProps,c=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&c.focus();break e;case"img":s.src?c.src=s.src:s.srcSet&&(c.srcset=s.srcSet)}}catch(h){ft(n,n.return,h)}}function Qf(n,a,s){try{var c=n.stateNode;pS(c,n.type,s,a),c[Lt]=a}catch(h){ft(n,n.return,h)}}function n_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&gr(n.type)||n.tag===4}function Yf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||n_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&gr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Xf(n,a,s){var c=n.tag;if(c===5||c===6)n=n.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(n),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=Ju));else if(c!==4&&(c===27&&gr(n.type)&&(s=n.stateNode,a=null),n=n.child,n!==null))for(Xf(n,a,s),n=n.sibling;n!==null;)Xf(n,a,s),n=n.sibling}function Fu(n,a,s){var c=n.tag;if(c===5||c===6)n=n.stateNode,a?s.insertBefore(n,a):s.appendChild(n);else if(c!==4&&(c===27&&gr(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(Fu(n,a,s),n=n.sibling;n!==null;)Fu(n,a,s),n=n.sibling}function i_(n){var a=n.stateNode,s=n.memoizedProps;try{for(var c=n.type,h=a.attributes;h.length;)a.removeAttributeNode(h[0]);on(a,c,s),a[qt]=n,a[Lt]=s}catch(g){ft(n,n.return,g)}}var Oa=!1,Pt=!1,Wf=!1,a_=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function QA(n,a){if(n=n.containerInfo,bp=sd,n=mv(n),Qh(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var c=s.getSelection&&s.getSelection();if(c&&c.rangeCount!==0){s=c.anchorNode;var h=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{s.nodeType,g.nodeType}catch{s=null;break e}var w=0,x=-1,k=-1,$=0,W=0,te=n,K=null;t:for(;;){for(var Y;te!==s||h!==0&&te.nodeType!==3||(x=w+h),te!==g||c!==0&&te.nodeType!==3||(k=w+c),te.nodeType===3&&(w+=te.nodeValue.length),(Y=te.firstChild)!==null;)K=te,te=Y;for(;;){if(te===n)break t;if(K===s&&++$===h&&(x=w),K===g&&++W===c&&(k=w),(Y=te.nextSibling)!==null)break;te=K,K=te.parentNode}te=Y}s=x===-1||k===-1?null:{start:x,end:k}}else s=null}s=s||{start:0,end:0}}else s=null;for(wp={focusedElem:n,selectionRange:s},sd=!1,Jt=a;Jt!==null;)if(a=Jt,n=a.child,(a.subtreeFlags&1024)!==0&&n!==null)n.return=a,Jt=n;else for(;Jt!==null;){switch(a=Jt,g=a.alternate,n=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,s=a,h=g.memoizedProps,g=g.memoizedState,c=s.stateNode;try{var Pe=ps(s.type,h,s.elementType===s.type);n=c.getSnapshotBeforeUpdate(Pe,g),c.__reactInternalSnapshotBeforeUpdate=n}catch(Ne){ft(s,s.return,Ne)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,s=n.nodeType,s===9)Ap(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Ap(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=a.sibling,n!==null){n.return=a.return,Jt=n;break}Jt=a.return}}function r_(n,a,s){var c=s.flags;switch(s.tag){case 0:case 11:case 15:cr(n,s),c&4&&Bl(5,s);break;case 1:if(cr(n,s),c&4)if(n=s.stateNode,a===null)try{n.componentDidMount()}catch(w){ft(s,s.return,w)}else{var h=ps(s.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(h,a,n.__reactInternalSnapshotBeforeUpdate)}catch(w){ft(s,s.return,w)}}c&64&&Jy(s),c&512&&Fl(s,s.return);break;case 3:if(cr(n,s),c&64&&(n=s.updateQueue,n!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{zv(n,a)}catch(w){ft(s,s.return,w)}}break;case 27:a===null&&c&4&&i_(s);case 26:case 5:cr(n,s),a===null&&c&4&&t_(s),c&512&&Fl(s,s.return);break;case 12:cr(n,s);break;case 13:cr(n,s),c&4&&l_(n,s),c&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=iS.bind(null,s),bS(n,s))));break;case 22:if(c=s.memoizedState!==null||Oa,!c){a=a!==null&&a.memoizedState!==null||Pt,h=Oa;var g=Pt;Oa=c,(Pt=a)&&!g?ur(n,s,(s.subtreeFlags&8772)!==0):cr(n,s),Oa=h,Pt=g}break;case 30:break;default:cr(n,s)}}function s_(n){var a=n.alternate;a!==null&&(n.alternate=null,s_(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&Wa(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var _t=null,kn=!1;function ka(n,a,s){for(s=s.child;s!==null;)o_(n,a,s),s=s.sibling}function o_(n,a,s){if(Ce&&typeof Ce.onCommitFiberUnmount=="function")try{Ce.onCommitFiberUnmount(Le,s)}catch{}switch(s.tag){case 26:Pt||Ji(s,a),ka(n,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Pt||Ji(s,a);var c=_t,h=kn;gr(s.type)&&(_t=s.stateNode,kn=!1),ka(n,a,s),Wl(s.stateNode),_t=c,kn=h;break;case 5:Pt||Ji(s,a);case 6:if(c=_t,h=kn,_t=null,ka(n,a,s),_t=c,kn=h,_t!==null)if(kn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(s.stateNode)}catch(g){ft(s,a,g)}else try{_t.removeChild(s.stateNode)}catch(g){ft(s,a,g)}break;case 18:_t!==null&&(kn?(n=_t,Y_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),rc(n)):Y_(_t,s.stateNode));break;case 4:c=_t,h=kn,_t=s.stateNode.containerInfo,kn=!0,ka(n,a,s),_t=c,kn=h;break;case 0:case 11:case 14:case 15:Pt||lr(2,s,a),Pt||lr(4,s,a),ka(n,a,s);break;case 1:Pt||(Ji(s,a),c=s.stateNode,typeof c.componentWillUnmount=="function"&&e_(s,a,c)),ka(n,a,s);break;case 21:ka(n,a,s);break;case 22:Pt=(c=Pt)||s.memoizedState!==null,ka(n,a,s),Pt=c;break;default:ka(n,a,s)}}function l_(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{rc(n)}catch(s){ft(a,a.return,s)}}function YA(n){switch(n.tag){case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new a_),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new a_),a;default:throw Error(r(435,n.tag))}}function Zf(n,a){var s=YA(n);a.forEach(function(c){var h=aS.bind(null,n,c);s.has(c)||(s.add(c),c.then(h,h))})}function Yn(n,a){var s=a.deletions;if(s!==null)for(var c=0;c<s.length;c++){var h=s[c],g=n,w=a,x=w;e:for(;x!==null;){switch(x.tag){case 27:if(gr(x.type)){_t=x.stateNode,kn=!1;break e}break;case 5:_t=x.stateNode,kn=!1;break e;case 3:case 4:_t=x.stateNode.containerInfo,kn=!0;break e}x=x.return}if(_t===null)throw Error(r(160));o_(g,w,h),_t=null,kn=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)c_(a,n),a=a.sibling}var Ri=null;function c_(n,a){var s=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Yn(a,n),Xn(n),c&4&&(lr(3,n,n.return),Bl(3,n),lr(5,n,n.return));break;case 1:Yn(a,n),Xn(n),c&512&&(Pt||s===null||Ji(s,s.return)),c&64&&Oa&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?c:s.concat(c))));break;case 26:var h=Ri;if(Yn(a,n),Xn(n),c&512&&(Pt||s===null||Ji(s,s.return)),c&4){var g=s!==null?s.memoizedState:null;if(c=n.memoizedState,s===null)if(c===null)if(n.stateNode===null){e:{c=n.type,s=n.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":g=h.getElementsByTagName("title")[0],(!g||g[qr]||g[qt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(c),h.head.insertBefore(g,h.querySelector("head > title"))),on(g,c,s),g[qt]=n,Ot(g),c=g;break e;case"link":var w=iE("link","href",h).get(c+(s.href||""));if(w){for(var x=0;x<w.length;x++)if(g=w[x],g.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&g.getAttribute("rel")===(s.rel==null?null:s.rel)&&g.getAttribute("title")===(s.title==null?null:s.title)&&g.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){w.splice(x,1);break t}}g=h.createElement(c),on(g,c,s),h.head.appendChild(g);break;case"meta":if(w=iE("meta","content",h).get(c+(s.content||""))){for(x=0;x<w.length;x++)if(g=w[x],g.getAttribute("content")===(s.content==null?null:""+s.content)&&g.getAttribute("name")===(s.name==null?null:s.name)&&g.getAttribute("property")===(s.property==null?null:s.property)&&g.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&g.getAttribute("charset")===(s.charSet==null?null:s.charSet)){w.splice(x,1);break t}}g=h.createElement(c),on(g,c,s),h.head.appendChild(g);break;default:throw Error(r(468,c))}g[qt]=n,Ot(g),c=g}n.stateNode=c}else aE(h,n.type,n.stateNode);else n.stateNode=nE(h,c,n.memoizedProps);else g!==c?(g===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):g.count--,c===null?aE(h,n.type,n.stateNode):nE(h,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Qf(n,n.memoizedProps,s.memoizedProps)}break;case 27:Yn(a,n),Xn(n),c&512&&(Pt||s===null||Ji(s,s.return)),s!==null&&c&4&&Qf(n,n.memoizedProps,s.memoizedProps);break;case 5:if(Yn(a,n),Xn(n),c&512&&(Pt||s===null||Ji(s,s.return)),n.flags&32){h=n.stateNode;try{oi(h,"")}catch(Y){ft(n,n.return,Y)}}c&4&&n.stateNode!=null&&(h=n.memoizedProps,Qf(n,h,s!==null?s.memoizedProps:h)),c&1024&&(Wf=!0);break;case 6:if(Yn(a,n),Xn(n),c&4){if(n.stateNode===null)throw Error(r(162));c=n.memoizedProps,s=n.stateNode;try{s.nodeValue=c}catch(Y){ft(n,n.return,Y)}}break;case 3:if(id=null,h=Ri,Ri=td(a.containerInfo),Yn(a,n),Ri=h,Xn(n),c&4&&s!==null&&s.memoizedState.isDehydrated)try{rc(a.containerInfo)}catch(Y){ft(n,n.return,Y)}Wf&&(Wf=!1,u_(n));break;case 4:c=Ri,Ri=td(n.stateNode.containerInfo),Yn(a,n),Xn(n),Ri=c;break;case 12:Yn(a,n),Xn(n);break;case 13:Yn(a,n),Xn(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ap=Rt()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Zf(n,c)));break;case 22:h=n.memoizedState!==null;var k=s!==null&&s.memoizedState!==null,$=Oa,W=Pt;if(Oa=$||h,Pt=W||k,Yn(a,n),Pt=W,Oa=$,Xn(n),c&8192)e:for(a=n.stateNode,a._visibility=h?a._visibility&-2:a._visibility|1,h&&(s===null||k||Oa||Pt||ms(n)),s=null,a=n;;){if(a.tag===5||a.tag===26){if(s===null){k=s=a;try{if(g=k.stateNode,h)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{x=k.stateNode;var te=k.memoizedProps.style,K=te!=null&&te.hasOwnProperty("display")?te.display:null;x.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Y){ft(k,k.return,Y)}}}else if(a.tag===6){if(s===null){k=a;try{k.stateNode.nodeValue=h?"":k.memoizedProps}catch(Y){ft(k,k.return,Y)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=n.updateQueue,c!==null&&(s=c.retryQueue,s!==null&&(c.retryQueue=null,Zf(n,s))));break;case 19:Yn(a,n),Xn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Zf(n,c)));break;case 30:break;case 21:break;default:Yn(a,n),Xn(n)}}function Xn(n){var a=n.flags;if(a&2){try{for(var s,c=n.return;c!==null;){if(n_(c)){s=c;break}c=c.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,g=Yf(n);Fu(n,g,h);break;case 5:var w=s.stateNode;s.flags&32&&(oi(w,""),s.flags&=-33);var x=Yf(n);Fu(n,x,w);break;case 3:case 4:var k=s.stateNode.containerInfo,$=Yf(n);Xf(n,$,k);break;default:throw Error(r(161))}}catch(W){ft(n,n.return,W)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function u_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;u_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function cr(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)r_(n,a.alternate,a),a=a.sibling}function ms(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:lr(4,a,a.return),ms(a);break;case 1:Ji(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&e_(a,a.return,s),ms(a);break;case 27:Wl(a.stateNode);case 26:case 5:Ji(a,a.return),ms(a);break;case 22:a.memoizedState===null&&ms(a);break;case 30:ms(a);break;default:ms(a)}n=n.sibling}}function ur(n,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,h=n,g=a,w=g.flags;switch(g.tag){case 0:case 11:case 15:ur(h,g,s),Bl(4,g);break;case 1:if(ur(h,g,s),c=g,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch($){ft(c,c.return,$)}if(c=g,h=c.updateQueue,h!==null){var x=c.stateNode;try{var k=h.shared.hiddenCallbacks;if(k!==null)for(h.shared.hiddenCallbacks=null,h=0;h<k.length;h++)Uv(k[h],x)}catch($){ft(c,c.return,$)}}s&&w&64&&Jy(g),Fl(g,g.return);break;case 27:i_(g);case 26:case 5:ur(h,g,s),s&&c===null&&w&4&&t_(g),Fl(g,g.return);break;case 12:ur(h,g,s);break;case 13:ur(h,g,s),s&&w&4&&l_(h,g);break;case 22:g.memoizedState===null&&ur(h,g,s),Fl(g,g.return);break;case 30:break;default:ur(h,g,s)}a=a.sibling}}function Jf(n,a){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&Rl(s))}function ep(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Rl(n))}function ea(n,a,s,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)d_(n,a,s,c),a=a.sibling}function d_(n,a,s,c){var h=a.flags;switch(a.tag){case 0:case 11:case 15:ea(n,a,s,c),h&2048&&Bl(9,a);break;case 1:ea(n,a,s,c);break;case 3:ea(n,a,s,c),h&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Rl(n)));break;case 12:if(h&2048){ea(n,a,s,c),n=a.stateNode;try{var g=a.memoizedProps,w=g.id,x=g.onPostCommit;typeof x=="function"&&x(w,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(k){ft(a,a.return,k)}}else ea(n,a,s,c);break;case 13:ea(n,a,s,c);break;case 23:break;case 22:g=a.stateNode,w=a.alternate,a.memoizedState!==null?g._visibility&2?ea(n,a,s,c):ql(n,a):g._visibility&2?ea(n,a,s,c):(g._visibility|=2,fo(n,a,s,c,(a.subtreeFlags&10256)!==0)),h&2048&&Jf(w,a);break;case 24:ea(n,a,s,c),h&2048&&ep(a.alternate,a);break;default:ea(n,a,s,c)}}function fo(n,a,s,c,h){for(h=h&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=n,w=a,x=s,k=c,$=w.flags;switch(w.tag){case 0:case 11:case 15:fo(g,w,x,k,h),Bl(8,w);break;case 23:break;case 22:var W=w.stateNode;w.memoizedState!==null?W._visibility&2?fo(g,w,x,k,h):ql(g,w):(W._visibility|=2,fo(g,w,x,k,h)),h&&$&2048&&Jf(w.alternate,w);break;case 24:fo(g,w,x,k,h),h&&$&2048&&ep(w.alternate,w);break;default:fo(g,w,x,k,h)}a=a.sibling}}function ql(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=n,c=a,h=c.flags;switch(c.tag){case 22:ql(s,c),h&2048&&Jf(c.alternate,c);break;case 24:ql(s,c),h&2048&&ep(c.alternate,c);break;default:ql(s,c)}a=a.sibling}}var Hl=8192;function po(n){if(n.subtreeFlags&Hl)for(n=n.child;n!==null;)h_(n),n=n.sibling}function h_(n){switch(n.tag){case 26:po(n),n.flags&Hl&&n.memoizedState!==null&&PS(Ri,n.memoizedState,n.memoizedProps);break;case 5:po(n);break;case 3:case 4:var a=Ri;Ri=td(n.stateNode.containerInfo),po(n),Ri=a;break;case 22:n.memoizedState===null&&(a=n.alternate,a!==null&&a.memoizedState!==null?(a=Hl,Hl=16777216,po(n),Hl=a):po(n));break;default:po(n)}}function f_(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function Gl(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var c=a[s];Jt=c,m_(c,n)}f_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)p_(n),n=n.sibling}function p_(n){switch(n.tag){case 0:case 11:case 15:Gl(n),n.flags&2048&&lr(9,n,n.return);break;case 3:Gl(n);break;case 12:Gl(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,qu(n)):Gl(n);break;default:Gl(n)}}function qu(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var c=a[s];Jt=c,m_(c,n)}f_(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:lr(8,a,a.return),qu(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,qu(a));break;default:qu(a)}n=n.sibling}}function m_(n,a){for(;Jt!==null;){var s=Jt;switch(s.tag){case 0:case 11:case 15:lr(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var c=s.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Rl(s.memoizedState.cache)}if(c=s.child,c!==null)c.return=s,Jt=c;else e:for(s=n;Jt!==null;){c=Jt;var h=c.sibling,g=c.return;if(s_(c),c===s){Jt=null;break e}if(h!==null){h.return=g,Jt=h;break e}Jt=g}}}var XA={getCacheForType:function(n){var a=pn($t),s=a.data.get(n);return s===void 0&&(s=n(),a.data.set(n,s)),s}},WA=typeof WeakMap=="function"?WeakMap:Map,st=0,mt=null,He=null,We=0,ot=0,Wn=null,dr=!1,mo=!1,tp=!1,Pa=0,Ct=0,hr=0,gs=0,np=0,gi=0,go=0,$l=null,Pn=null,ip=!1,ap=0,Hu=1/0,Gu=null,fr=null,sn=0,pr=null,vo=null,yo=0,rp=0,sp=null,g_=null,Kl=0,op=null;function Zn(){if((st&2)!==0&&We!==0)return We&-We;if(Q.T!==null){var n=ao;return n!==0?n:pp()}return Ya()}function v_(){gi===0&&(gi=(We&536870912)===0||tt?ge():536870912);var n=mi.current;return n!==null&&(n.flags|=32),gi}function Jn(n,a,s){(n===mt&&(ot===2||ot===9)||n.cancelPendingCommit!==null)&&(_o(n,0),mr(n,We,gi,!1)),Re(n,s),((st&2)===0||n!==mt)&&(n===mt&&((st&2)===0&&(gs|=s),Ct===4&&mr(n,We,gi,!1)),ta(n))}function y_(n,a,s){if((st&6)!==0)throw Error(r(327));var c=!s&&(a&124)===0&&(a&n.expiredLanes)===0||Nn(n,a),h=c?eS(n,a):up(n,a,!0),g=c;do{if(h===0){mo&&!c&&mr(n,a,0,!1);break}else{if(s=n.current.alternate,g&&!ZA(s)){h=up(n,a,!1),g=!1;continue}if(h===2){if(g=a,n.errorRecoveryDisabledLanes&g)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var x=n;h=$l;var k=x.current.memoizedState.isDehydrated;if(k&&(_o(x,w).flags|=256),w=up(x,w,!1),w!==2){if(tp&&!k){x.errorRecoveryDisabledLanes|=g,gs|=g,h=4;break e}g=Pn,Pn=h,g!==null&&(Pn===null?Pn=g:Pn.push.apply(Pn,g))}h=w}if(g=!1,h!==2)continue}}if(h===1){_o(n,0),mr(n,a,0,!0);break}e:{switch(c=n,g=h,g){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:mr(c,a,gi,!dr);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(h=ap+300-Rt(),10<h)){if(mr(c,a,gi,!dr),Gn(c,0,!0)!==0)break e;c.timeoutHandle=K_(__.bind(null,c,s,Pn,Gu,ip,a,gi,gs,go,dr,g,2,-0,0),h);break e}__(c,s,Pn,Gu,ip,a,gi,gs,go,dr,g,0,-0,0)}}break}while(!0);ta(n)}function __(n,a,s,c,h,g,w,x,k,$,W,te,K,Y){if(n.timeoutHandle=-1,te=a.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(ec={stylesheets:null,count:0,unsuspend:kS},h_(a),te=MS(),te!==null)){n.cancelPendingCommit=te(S_.bind(null,n,a,g,s,c,h,w,x,k,W,1,K,Y)),mr(n,g,w,!$);return}S_(n,a,g,s,c,h,w,x,k)}function ZA(n){for(var a=n;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var c=0;c<s.length;c++){var h=s[c],g=h.getSnapshot;h=h.value;try{if(!Kn(g(),h))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function mr(n,a,s,c){a&=~np,a&=~gs,n.suspendedLanes|=a,n.pingedLanes&=~a,c&&(n.warmLanes|=a),c=n.expirationTimes;for(var h=a;0<h;){var g=31-ht(h),w=1<<g;c[g]=-1,h&=~w}s!==0&&Ue(n,s,a)}function $u(){return(st&6)===0?(Ql(0),!1):!0}function lp(){if(He!==null){if(ot===0)var n=He.return;else n=He,Sa=us=null,Af(n),uo=null,Vl=0,n=He;for(;n!==null;)Zy(n.alternate,n),n=n.return;He=null}}function _o(n,a){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,gS(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),lp(),mt=n,He=s=Ta(n.current,null),We=a,ot=0,Wn=null,dr=!1,mo=Nn(n,a),tp=!1,go=gi=np=gs=hr=Ct=0,Pn=$l=null,ip=!1,(a&8)!==0&&(a|=a&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=a;0<c;){var h=31-ht(c),g=1<<h;a|=n[h],c&=~g}return Pa=a,pu(),s}function E_(n,a){Be=null,Q.H=ku,a===Cl||a===Tu?(a=Lv(),ot=3):a===Pv?(a=Lv(),ot=4):ot=a===Vy?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Wn=a,He===null&&(Ct=1,Vu(n,di(a,n.current)))}function b_(){var n=Q.H;return Q.H=ku,n===null?ku:n}function w_(){var n=Q.A;return Q.A=XA,n}function cp(){Ct=4,dr||(We&4194048)!==We&&mi.current!==null||(mo=!0),(hr&134217727)===0&&(gs&134217727)===0||mt===null||mr(mt,We,gi,!1)}function up(n,a,s){var c=st;st|=2;var h=b_(),g=w_();(mt!==n||We!==a)&&(Gu=null,_o(n,a)),a=!1;var w=Ct;e:do try{if(ot!==0&&He!==null){var x=He,k=Wn;switch(ot){case 8:lp(),w=6;break e;case 3:case 2:case 9:case 6:mi.current===null&&(a=!0);var $=ot;if(ot=0,Wn=null,Eo(n,x,k,$),s&&mo){w=0;break e}break;default:$=ot,ot=0,Wn=null,Eo(n,x,k,$)}}JA(),w=Ct;break}catch(W){E_(n,W)}while(!0);return a&&n.shellSuspendCounter++,Sa=us=null,st=c,Q.H=h,Q.A=g,He===null&&(mt=null,We=0,pu()),w}function JA(){for(;He!==null;)T_(He)}function eS(n,a){var s=st;st|=2;var c=b_(),h=w_();mt!==n||We!==a?(Gu=null,Hu=Rt()+500,_o(n,a)):mo=Nn(n,a);e:do try{if(ot!==0&&He!==null){a=He;var g=Wn;t:switch(ot){case 1:ot=0,Wn=null,Eo(n,a,g,1);break;case 2:case 9:if(Mv(g)){ot=0,Wn=null,x_(a);break}a=function(){ot!==2&&ot!==9||mt!==n||(ot=7),ta(n)},g.then(a,a);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:Mv(g)?(ot=0,Wn=null,x_(a)):(ot=0,Wn=null,Eo(n,a,g,7));break;case 5:var w=null;switch(He.tag){case 26:w=He.memoizedState;case 5:case 27:var x=He;if(!w||rE(w)){ot=0,Wn=null;var k=x.sibling;if(k!==null)He=k;else{var $=x.return;$!==null?(He=$,Ku($)):He=null}break t}}ot=0,Wn=null,Eo(n,a,g,5);break;case 6:ot=0,Wn=null,Eo(n,a,g,6);break;case 8:lp(),Ct=6;break e;default:throw Error(r(462))}}tS();break}catch(W){E_(n,W)}while(!0);return Sa=us=null,Q.H=c,Q.A=h,st=s,He!==null?0:(mt=null,We=0,pu(),Ct)}function tS(){for(;He!==null&&!zi();)T_(He)}function T_(n){var a=Xy(n.alternate,n,Pa);n.memoizedProps=n.pendingProps,a===null?Ku(n):He=a}function x_(n){var a=n,s=a.alternate;switch(a.tag){case 15:case 0:a=Hy(s,a,a.pendingProps,a.type,void 0,We);break;case 11:a=Hy(s,a,a.pendingProps,a.type.render,a.ref,We);break;case 5:Af(a);default:Zy(s,a),a=He=Av(a,Pa),a=Xy(s,a,Pa)}n.memoizedProps=n.pendingProps,a===null?Ku(n):He=a}function Eo(n,a,s,c){Sa=us=null,Af(a),uo=null,Vl=0;var h=a.return;try{if(HA(n,h,a,s,We)){Ct=1,Vu(n,di(s,n.current)),He=null;return}}catch(g){if(h!==null)throw He=h,g;Ct=1,Vu(n,di(s,n.current)),He=null;return}a.flags&32768?(tt||c===1?n=!0:mo||(We&536870912)!==0?n=!1:(dr=n=!0,(c===2||c===9||c===3||c===6)&&(c=mi.current,c!==null&&c.tag===13&&(c.flags|=16384))),A_(a,n)):Ku(a)}function Ku(n){var a=n;do{if((a.flags&32768)!==0){A_(a,dr);return}n=a.return;var s=$A(a.alternate,a,Pa);if(s!==null){He=s;return}if(a=a.sibling,a!==null){He=a;return}He=a=n}while(a!==null);Ct===0&&(Ct=5)}function A_(n,a){do{var s=KA(n.alternate,n);if(s!==null){s.flags&=32767,He=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(n=n.sibling,n!==null)){He=n;return}He=n=s}while(n!==null);Ct=6,He=null}function S_(n,a,s,c,h,g,w,x,k){n.cancelPendingCommit=null;do Qu();while(sn!==0);if((st&6)!==0)throw Error(r(327));if(a!==null){if(a===n.current)throw Error(r(177));if(g=a.lanes|a.childLanes,g|=Jh,Oe(n,s,g,w,x,k),n===mt&&(He=mt=null,We=0),vo=a,pr=n,yo=s,rp=g,sp=h,g_=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,rS(qn,function(){return D_(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null,h=re.p,re.p=2,w=st,st|=4;try{QA(n,a,s)}finally{st=w,re.p=h,Q.T=c}}sn=1,R_(),I_(),C_()}}function R_(){if(sn===1){sn=0;var n=pr,a=vo,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var c=re.p;re.p=2;var h=st;st|=4;try{c_(a,n);var g=wp,w=mv(n.containerInfo),x=g.focusedElem,k=g.selectionRange;if(w!==x&&x&&x.ownerDocument&&pv(x.ownerDocument.documentElement,x)){if(k!==null&&Qh(x)){var $=k.start,W=k.end;if(W===void 0&&(W=$),"selectionStart"in x)x.selectionStart=$,x.selectionEnd=Math.min(W,x.value.length);else{var te=x.ownerDocument||document,K=te&&te.defaultView||window;if(K.getSelection){var Y=K.getSelection(),Pe=x.textContent.length,Ne=Math.min(k.start,Pe),dt=k.end===void 0?Ne:Math.min(k.end,Pe);!Y.extend&&Ne>dt&&(w=dt,dt=Ne,Ne=w);var B=fv(x,Ne),V=fv(x,dt);if(B&&V&&(Y.rangeCount!==1||Y.anchorNode!==B.node||Y.anchorOffset!==B.offset||Y.focusNode!==V.node||Y.focusOffset!==V.offset)){var H=te.createRange();H.setStart(B.node,B.offset),Y.removeAllRanges(),Ne>dt?(Y.addRange(H),Y.extend(V.node,V.offset)):(H.setEnd(V.node,V.offset),Y.addRange(H))}}}}for(te=[],Y=x;Y=Y.parentNode;)Y.nodeType===1&&te.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<te.length;x++){var ee=te[x];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}sd=!!bp,wp=bp=null}finally{st=h,re.p=c,Q.T=s}}n.current=a,sn=2}}function I_(){if(sn===2){sn=0;var n=pr,a=vo,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var c=re.p;re.p=2;var h=st;st|=4;try{r_(n,a.alternate,a)}finally{st=h,re.p=c,Q.T=s}}sn=3}}function C_(){if(sn===4||sn===3){sn=0,ha();var n=pr,a=vo,s=yo,c=g_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?sn=5:(sn=0,vo=pr=null,N_(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(fr=null),Qa(s),a=a.stateNode,Ce&&typeof Ce.onCommitFiberRoot=="function")try{Ce.onCommitFiberRoot(Le,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=Q.T,h=re.p,re.p=2,Q.T=null;try{for(var g=n.onRecoverableError,w=0;w<c.length;w++){var x=c[w];g(x.value,{componentStack:x.stack})}}finally{Q.T=a,re.p=h}}(yo&3)!==0&&Qu(),ta(n),h=n.pendingLanes,(s&4194090)!==0&&(h&42)!==0?n===op?Kl++:(Kl=0,op=n):Kl=0,Ql(0)}}function N_(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,Rl(a)))}function Qu(n){return R_(),I_(),C_(),D_()}function D_(){if(sn!==5)return!1;var n=pr,a=rp;rp=0;var s=Qa(yo),c=Q.T,h=re.p;try{re.p=32>s?32:s,Q.T=null,s=sp,sp=null;var g=pr,w=yo;if(sn=0,vo=pr=null,yo=0,(st&6)!==0)throw Error(r(331));var x=st;if(st|=4,p_(g.current),d_(g,g.current,w,s),st=x,Ql(0,!1),Ce&&typeof Ce.onPostCommitFiberRoot=="function")try{Ce.onPostCommitFiberRoot(Le,g)}catch{}return!0}finally{re.p=h,Q.T=c,N_(n,a)}}function O_(n,a,s){a=di(s,a),a=Uf(n.stateNode,a,2),n=ar(n,a,2),n!==null&&(Re(n,2),ta(n))}function ft(n,a,s){if(n.tag===3)O_(n,n,s);else for(;a!==null;){if(a.tag===3){O_(a,n,s);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(fr===null||!fr.has(c))){n=di(s,n),s=jy(2),c=ar(a,s,2),c!==null&&(Ly(s,c,a,n),Re(c,2),ta(c));break}}a=a.return}}function dp(n,a,s){var c=n.pingCache;if(c===null){c=n.pingCache=new WA;var h=new Set;c.set(a,h)}else h=c.get(a),h===void 0&&(h=new Set,c.set(a,h));h.has(s)||(tp=!0,h.add(s),n=nS.bind(null,n,a,s),a.then(n,n))}function nS(n,a,s){var c=n.pingCache;c!==null&&c.delete(a),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,mt===n&&(We&s)===s&&(Ct===4||Ct===3&&(We&62914560)===We&&300>Rt()-ap?(st&2)===0&&_o(n,0):np|=s,go===We&&(go=0)),ta(n)}function k_(n,a){a===0&&(a=oe()),n=eo(n,a),n!==null&&(Re(n,a),ta(n))}function iS(n){var a=n.memoizedState,s=0;a!==null&&(s=a.retryLane),k_(n,s)}function aS(n,a){var s=0;switch(n.tag){case 13:var c=n.stateNode,h=n.memoizedState;h!==null&&(s=h.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),k_(n,s)}function rS(n,a){return ni(n,a)}var Yu=null,bo=null,hp=!1,Xu=!1,fp=!1,vs=0;function ta(n){n!==bo&&n.next===null&&(bo===null?Yu=bo=n:bo=bo.next=n),Xu=!0,hp||(hp=!0,oS())}function Ql(n,a){if(!fp&&Xu){fp=!0;do for(var s=!1,c=Yu;c!==null;){if(n!==0){var h=c.pendingLanes;if(h===0)var g=0;else{var w=c.suspendedLanes,x=c.pingedLanes;g=(1<<31-ht(42|n)+1)-1,g&=h&~(w&~x),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(s=!0,L_(c,g))}else g=We,g=Gn(c,c===mt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Nn(c,g)||(s=!0,L_(c,g));c=c.next}while(s);fp=!1}}function sS(){P_()}function P_(){Xu=hp=!1;var n=0;vs!==0&&(mS()&&(n=vs),vs=0);for(var a=Rt(),s=null,c=Yu;c!==null;){var h=c.next,g=M_(c,a);g===0?(c.next=null,s===null?Yu=h:s.next=h,h===null&&(bo=s)):(s=c,(n!==0||(g&3)!==0)&&(Xu=!0)),c=h}Ql(n)}function M_(n,a){for(var s=n.suspendedLanes,c=n.pingedLanes,h=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var w=31-ht(g),x=1<<w,k=h[w];k===-1?((x&s)===0||(x&c)!==0)&&(h[w]=ri(x,a)):k<=a&&(n.expiredLanes|=x),g&=~x}if(a=mt,s=We,s=Gn(n,n===a?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,s===0||n===a&&(ot===2||ot===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&ii(c),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Nn(n,s)){if(a=s&-s,a===n.callbackPriority)return a;switch(c!==null&&ii(c),Qa(s)){case 2:case 8:s=Rn;break;case 32:s=qn;break;case 268435456:s=Ti;break;default:s=qn}return c=j_.bind(null,n),s=ni(s,c),n.callbackPriority=a,n.callbackNode=s,a}return c!==null&&c!==null&&ii(c),n.callbackPriority=2,n.callbackNode=null,2}function j_(n,a){if(sn!==0&&sn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(Qu()&&n.callbackNode!==s)return null;var c=We;return c=Gn(n,n===mt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(y_(n,c,a),M_(n,Rt()),n.callbackNode!=null&&n.callbackNode===s?j_.bind(null,n):null)}function L_(n,a){if(Qu())return null;y_(n,a,!0)}function oS(){vS(function(){(st&6)!==0?ni(Fn,sS):P_()})}function pp(){return vs===0&&(vs=ge()),vs}function V_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Fs(""+n)}function U_(n,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,n.id&&s.setAttribute("form",n.id),a.parentNode.insertBefore(s,a),n=new FormData(n),s.parentNode.removeChild(s),n}function lS(n,a,s,c,h){if(a==="submit"&&s&&s.stateNode===h){var g=V_((h[Lt]||null).action),w=c.submitter;w&&(a=(a=w[Lt]||null)?V_(a.formAction):w.getAttribute("formAction"),a!==null&&(g=a,w=null));var x=new qs("action","action",null,c,h);n.push({event:x,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(vs!==0){var k=w?U_(h,w):new FormData(h);Pf(s,{pending:!0,data:k,method:h.method,action:g},null,k)}}else typeof g=="function"&&(x.preventDefault(),k=w?U_(h,w):new FormData(h),Pf(s,{pending:!0,data:k,method:h.method,action:g},g,k))},currentTarget:h}]})}}for(var mp=0;mp<Zh.length;mp++){var gp=Zh[mp],cS=gp.toLowerCase(),uS=gp[0].toUpperCase()+gp.slice(1);Si(cS,"on"+uS)}Si(yv,"onAnimationEnd"),Si(_v,"onAnimationIteration"),Si(Ev,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(RA,"onTransitionRun"),Si(IA,"onTransitionStart"),Si(CA,"onTransitionCancel"),Si(bv,"onTransitionEnd"),pa("onMouseEnter",["mouseout","mouseover"]),pa("onMouseLeave",["mouseout","mouseover"]),pa("onPointerEnter",["pointerout","pointerover"]),pa("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function z_(n,a){a=(a&4)!==0;for(var s=0;s<n.length;s++){var c=n[s],h=c.event;c=c.listeners;e:{var g=void 0;if(a)for(var w=c.length-1;0<=w;w--){var x=c[w],k=x.instance,$=x.currentTarget;if(x=x.listener,k!==g&&h.isPropagationStopped())break e;g=x,h.currentTarget=$;try{g(h)}catch(W){Lu(W)}h.currentTarget=null,g=k}else for(w=0;w<c.length;w++){if(x=c[w],k=x.instance,$=x.currentTarget,x=x.listener,k!==g&&h.isPropagationStopped())break e;g=x,h.currentTarget=$;try{g(h)}catch(W){Lu(W)}h.currentTarget=null,g=k}}}}function Ge(n,a){var s=a[sl];s===void 0&&(s=a[sl]=new Set);var c=n+"__bubble";s.has(c)||(B_(a,n,2,!1),s.add(c))}function vp(n,a,s){var c=0;a&&(c|=4),B_(s,n,c,a)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function yp(n){if(!n[Wu]){n[Wu]=!0,ol.forEach(function(s){s!=="selectionchange"&&(dS.has(s)||vp(s,!1,n),vp(s,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[Wu]||(a[Wu]=!0,vp("selectionchange",!1,a))}}function B_(n,a,s,c){switch(dE(a)){case 2:var h=VS;break;case 8:h=US;break;default:h=Op}s=h.bind(null,a,s,n),h=void 0,!ci||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),c?h!==void 0?n.addEventListener(a,s,{capture:!0,passive:h}):n.addEventListener(a,s,!0):h!==void 0?n.addEventListener(a,s,{passive:h}):n.addEventListener(a,s,!1)}function _p(n,a,s,c,h){var g=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var x=c.stateNode.containerInfo;if(x===h)break;if(w===4)for(w=c.return;w!==null;){var k=w.tag;if((k===3||k===4)&&w.stateNode.containerInfo===h)return;w=w.return}for(;x!==null;){if(w=fa(x),w===null)return;if(k=w.tag,k===5||k===6||k===26||k===27){c=g=w;continue e}x=x.parentNode}}c=c.return}Jc(function(){var $=g,W=li(s),te=[];e:{var K=wv.get(n);if(K!==void 0){var Y=qs,Pe=n;switch(n){case"keypress":if($i(s)===0)break e;case"keydown":case"keyup":Y=Ys;break;case"focusin":Pe="focus",Y=$s;break;case"focusout":Pe="blur",Y=$s;break;case"beforeblur":case"afterblur":Y=$s;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=ui;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=ou;break;case yv:case _v:case Ev:Y=Ks;break;case bv:Y=cu;break;case"scroll":case"scrollend":Y=eu;break;case"wheel":Y=Xs;break;case"copy":case"cut":case"paste":Y=Qs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=_l;break;case"toggle":case"beforetoggle":Y=du}var Ne=(a&4)!==0,dt=!Ne&&(n==="scroll"||n==="scrollend"),B=Ne?K!==null?K+"Capture":null:K;Ne=[];for(var V=$,H;V!==null;){var ee=V;if(H=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||H===null||B===null||(ee=Xr(V,B),ee!=null&&Ne.push(Xl(V,ee,H))),dt)break;V=V.return}0<Ne.length&&(K=new Y(K,Pe,null,s,W),te.push({event:K,listeners:Ne}))}}if((a&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",K&&s!==va&&(Pe=s.relatedTarget||s.fromElement)&&(fa(Pe)||Pe[si]))break e;if((Y||K)&&(K=W.window===W?W:(K=W.ownerDocument)?K.defaultView||K.parentWindow:window,Y?(Pe=s.relatedTarget||s.toElement,Y=$,Pe=Pe?fa(Pe):null,Pe!==null&&(dt=l(Pe),Ne=Pe.tag,Pe!==dt||Ne!==5&&Ne!==27&&Ne!==6)&&(Pe=null)):(Y=null,Pe=$),Y!==Pe)){if(Ne=ui,ee="onMouseLeave",B="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(Ne=_l,ee="onPointerLeave",B="onPointerEnter",V="pointer"),dt=Y==null?K:Fi(Y),H=Pe==null?K:Fi(Pe),K=new Ne(ee,V+"leave",Y,s,W),K.target=dt,K.relatedTarget=H,ee=null,fa(W)===$&&(Ne=new Ne(B,V+"enter",Pe,s,W),Ne.target=H,Ne.relatedTarget=dt,ee=Ne),dt=ee,Y&&Pe)t:{for(Ne=Y,B=Pe,V=0,H=Ne;H;H=wo(H))V++;for(H=0,ee=B;ee;ee=wo(ee))H++;for(;0<V-H;)Ne=wo(Ne),V--;for(;0<H-V;)B=wo(B),H--;for(;V--;){if(Ne===B||B!==null&&Ne===B.alternate)break t;Ne=wo(Ne),B=wo(B)}Ne=null}else Ne=null;Y!==null&&F_(te,K,Y,Ne,!1),Pe!==null&&dt!==null&&F_(te,dt,Pe,Ne,!0)}}e:{if(K=$?Fi($):window,Y=K.nodeName&&K.nodeName.toLowerCase(),Y==="select"||Y==="input"&&K.type==="file")var Ee=ov;else if(Gt(K))if(lv)Ee=xA;else{Ee=wA;var qe=bA}else Y=K.nodeName,!Y||Y.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?$&&hl($.elementType)&&(Ee=ov):Ee=TA;if(Ee&&(Ee=Ee(n,$))){wa(te,Ee,s,W);break e}qe&&qe(n,K,$),n==="focusout"&&$&&K.type==="number"&&$.memoizedProps.value!=null&&Ja(K,"number",K.value)}switch(qe=$?Fi($):window,n){case"focusin":(Gt(qe)||qe.contentEditable==="true")&&(Ws=qe,Yh=$,wl=null);break;case"focusout":wl=Yh=Ws=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,gv(te,s,W);break;case"selectionchange":if(SA)break;case"keydown":case"keyup":gv(te,s,W)}var Ae;if(Yi)e:{switch(n){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Ye?X(n,s)&&(De="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(De="onCompositionStart");De&&(E&&s.locale!=="ko"&&(Ye||De!=="onCompositionStart"?De==="onCompositionEnd"&&Ye&&(Ae=pl()):(Gi=W,er="value"in Gi?Gi.value:Gi.textContent,Ye=!0)),qe=Zu($,De),0<qe.length&&(De=new vl(De,n,null,s,W),te.push({event:De,listeners:qe}),Ae?De.data=Ae:(Ae=de(s),Ae!==null&&(De.data=Ae)))),(Ae=_?Ht(n,s):Xe(n,s))&&(De=Zu($,"onBeforeInput"),0<De.length&&(qe=new vl("onBeforeInput","beforeinput",null,s,W),te.push({event:qe,listeners:De}),qe.data=Ae)),lS(te,n,$,s,W)}z_(te,a)})}function Xl(n,a,s){return{instance:n,listener:a,currentTarget:s}}function Zu(n,a){for(var s=a+"Capture",c=[];n!==null;){var h=n,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=Xr(n,s),h!=null&&c.unshift(Xl(n,h,g)),h=Xr(n,a),h!=null&&c.push(Xl(n,h,g))),n.tag===3)return c;n=n.return}return[]}function wo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function F_(n,a,s,c,h){for(var g=a._reactName,w=[];s!==null&&s!==c;){var x=s,k=x.alternate,$=x.stateNode;if(x=x.tag,k!==null&&k===c)break;x!==5&&x!==26&&x!==27||$===null||(k=$,h?($=Xr(s,g),$!=null&&w.unshift(Xl(s,$,k))):h||($=Xr(s,g),$!=null&&w.push(Xl(s,$,k)))),s=s.return}w.length!==0&&n.push({event:a,listeners:w})}var hS=/\r\n?/g,fS=/\u0000|\uFFFD/g;function q_(n){return(typeof n=="string"?n:""+n).replace(hS,`
`).replace(fS,"")}function H_(n,a){return a=q_(a),q_(n)===a}function Ju(){}function ut(n,a,s,c,h,g){switch(s){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||oi(n,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&oi(n,""+c);break;case"className":qi(n,"class",c);break;case"tabIndex":qi(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":qi(n,s,c);break;case"style":dl(n,c,g);break;case"data":if(a!=="object"){qi(n,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||s!=="href")){n.removeAttribute(s);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(s);break}c=Fs(""+c),n.setAttribute(s,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(s==="formAction"?(a!=="input"&&ut(n,a,"name",h.name,h,null),ut(n,a,"formEncType",h.formEncType,h,null),ut(n,a,"formMethod",h.formMethod,h,null),ut(n,a,"formTarget",h.formTarget,h,null)):(ut(n,a,"encType",h.encType,h,null),ut(n,a,"method",h.method,h,null),ut(n,a,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(s);break}c=Fs(""+c),n.setAttribute(s,c);break;case"onClick":c!=null&&(n.onclick=Ju);break;case"onScroll":c!=null&&Ge("scroll",n);break;case"onScrollEnd":c!=null&&Ge("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(s=c.__html,s!=null){if(h.children!=null)throw Error(r(60));n.innerHTML=s}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}s=Fs(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(s,""+c):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":c===!0?n.setAttribute(s,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(s,c):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(s,c):n.removeAttribute(s);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(s):n.setAttribute(s,c);break;case"popover":Ge("beforetoggle",n),Ge("toggle",n),Za(n,"popover",c);break;case"xlinkActuate":nn(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":nn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":nn(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":nn(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":nn(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":nn(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":nn(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":nn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":nn(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Za(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Fh.get(s)||s,Za(n,s,c))}}function Ep(n,a,s,c,h,g){switch(s){case"style":dl(n,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(s=c.__html,s!=null){if(h.children!=null)throw Error(r(60));n.innerHTML=s}}break;case"children":typeof c=="string"?oi(n,c):(typeof c=="number"||typeof c=="bigint")&&oi(n,""+c);break;case"onScroll":c!=null&&Ge("scroll",n);break;case"onScrollEnd":c!=null&&Ge("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ls.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),a=s.slice(2,h?s.length-7:void 0),g=n[Lt]||null,g=g!=null?g[s]:null,typeof g=="function"&&n.removeEventListener(a,g,h),typeof c=="function")){typeof g!="function"&&g!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(a,c,h);break e}s in n?n[s]=c:c===!0?n.setAttribute(s,""):Za(n,s,c)}}}function on(n,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",n),Ge("load",n);var c=!1,h=!1,g;for(g in s)if(s.hasOwnProperty(g)){var w=s[g];if(w!=null)switch(g){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ut(n,a,g,w,s,null)}}h&&ut(n,a,"srcSet",s.srcSet,s,null),c&&ut(n,a,"src",s.src,s,null);return;case"input":Ge("invalid",n);var x=g=w=h=null,k=null,$=null;for(c in s)if(s.hasOwnProperty(c)){var W=s[c];if(W!=null)switch(c){case"name":h=W;break;case"type":w=W;break;case"checked":k=W;break;case"defaultChecked":$=W;break;case"value":g=W;break;case"defaultValue":x=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,a));break;default:ut(n,a,c,W,s,null)}}Kr(n,g,x,k,$,w,h,!1),Bs(n);return;case"select":Ge("invalid",n),c=w=g=null;for(h in s)if(s.hasOwnProperty(h)&&(x=s[h],x!=null))switch(h){case"value":g=x;break;case"defaultValue":w=x;break;case"multiple":c=x;default:ut(n,a,h,x,s,null)}a=g,s=w,n.multiple=!!c,a!=null?ga(n,!!c,a,!1):s!=null&&ga(n,!!c,s,!0);return;case"textarea":Ge("invalid",n),g=h=c=null;for(w in s)if(s.hasOwnProperty(w)&&(x=s[w],x!=null))switch(w){case"value":c=x;break;case"defaultValue":h=x;break;case"children":g=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:ut(n,a,w,x,s,null)}Qr(n,c,h,g),Bs(n);return;case"option":for(k in s)if(s.hasOwnProperty(k)&&(c=s[k],c!=null))switch(k){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ut(n,a,k,c,s,null)}return;case"dialog":Ge("beforetoggle",n),Ge("toggle",n),Ge("cancel",n),Ge("close",n);break;case"iframe":case"object":Ge("load",n);break;case"video":case"audio":for(c=0;c<Yl.length;c++)Ge(Yl[c],n);break;case"image":Ge("error",n),Ge("load",n);break;case"details":Ge("toggle",n);break;case"embed":case"source":case"link":Ge("error",n),Ge("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in s)if(s.hasOwnProperty($)&&(c=s[$],c!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ut(n,a,$,c,s,null)}return;default:if(hl(a)){for(W in s)s.hasOwnProperty(W)&&(c=s[W],c!==void 0&&Ep(n,a,W,c,s,void 0));return}}for(x in s)s.hasOwnProperty(x)&&(c=s[x],c!=null&&ut(n,a,x,c,s,null))}function pS(n,a,s,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,w=null,x=null,k=null,$=null,W=null;for(Y in s){var te=s[Y];if(s.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":k=te;default:c.hasOwnProperty(Y)||ut(n,a,Y,null,c,te)}}for(var K in c){var Y=c[K];if(te=s[K],c.hasOwnProperty(K)&&(Y!=null||te!=null))switch(K){case"type":g=Y;break;case"name":h=Y;break;case"checked":$=Y;break;case"defaultChecked":W=Y;break;case"value":w=Y;break;case"defaultValue":x=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,a));break;default:Y!==te&&ut(n,a,K,Y,c,te)}}$n(n,w,x,k,$,W,g,h);return;case"select":Y=w=x=K=null;for(g in s)if(k=s[g],s.hasOwnProperty(g)&&k!=null)switch(g){case"value":break;case"multiple":Y=k;default:c.hasOwnProperty(g)||ut(n,a,g,null,c,k)}for(h in c)if(g=c[h],k=s[h],c.hasOwnProperty(h)&&(g!=null||k!=null))switch(h){case"value":K=g;break;case"defaultValue":x=g;break;case"multiple":w=g;default:g!==k&&ut(n,a,h,g,c,k)}a=x,s=w,c=Y,K!=null?ga(n,!!s,K,!1):!!c!=!!s&&(a!=null?ga(n,!!s,a,!0):ga(n,!!s,s?[]:"",!1));return;case"textarea":Y=K=null;for(x in s)if(h=s[x],s.hasOwnProperty(x)&&h!=null&&!c.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:ut(n,a,x,null,c,h)}for(w in c)if(h=c[w],g=s[w],c.hasOwnProperty(w)&&(h!=null||g!=null))switch(w){case"value":K=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==g&&ut(n,a,w,h,c,g)}lt(n,K,Y);return;case"option":for(var Pe in s)if(K=s[Pe],s.hasOwnProperty(Pe)&&K!=null&&!c.hasOwnProperty(Pe))switch(Pe){case"selected":n.selected=!1;break;default:ut(n,a,Pe,null,c,K)}for(k in c)if(K=c[k],Y=s[k],c.hasOwnProperty(k)&&K!==Y&&(K!=null||Y!=null))switch(k){case"selected":n.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ut(n,a,k,K,c,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in s)K=s[Ne],s.hasOwnProperty(Ne)&&K!=null&&!c.hasOwnProperty(Ne)&&ut(n,a,Ne,null,c,K);for($ in c)if(K=c[$],Y=s[$],c.hasOwnProperty($)&&K!==Y&&(K!=null||Y!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,a));break;default:ut(n,a,$,K,c,Y)}return;default:if(hl(a)){for(var dt in s)K=s[dt],s.hasOwnProperty(dt)&&K!==void 0&&!c.hasOwnProperty(dt)&&Ep(n,a,dt,void 0,c,K);for(W in c)K=c[W],Y=s[W],!c.hasOwnProperty(W)||K===Y||K===void 0&&Y===void 0||Ep(n,a,W,K,c,Y);return}}for(var B in s)K=s[B],s.hasOwnProperty(B)&&K!=null&&!c.hasOwnProperty(B)&&ut(n,a,B,null,c,K);for(te in c)K=c[te],Y=s[te],!c.hasOwnProperty(te)||K===Y||K==null&&Y==null||ut(n,a,te,K,c,Y)}var bp=null,wp=null;function ed(n){return n.nodeType===9?n:n.ownerDocument}function G_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $_(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Tp(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var xp=null;function mS(){var n=window.event;return n&&n.type==="popstate"?n===xp?!1:(xp=n,!0):(xp=null,!1)}var K_=typeof setTimeout=="function"?setTimeout:void 0,gS=typeof clearTimeout=="function"?clearTimeout:void 0,Q_=typeof Promise=="function"?Promise:void 0,vS=typeof queueMicrotask=="function"?queueMicrotask:typeof Q_<"u"?function(n){return Q_.resolve(null).then(n).catch(yS)}:K_;function yS(n){setTimeout(function(){throw n})}function gr(n){return n==="head"}function Y_(n,a){var s=a,c=0,h=0;do{var g=s.nextSibling;if(n.removeChild(s),g&&g.nodeType===8)if(s=g.data,s==="/$"){if(0<c&&8>c){s=c;var w=n.ownerDocument;if(s&1&&Wl(w.documentElement),s&2&&Wl(w.body),s&4)for(s=w.head,Wl(s),w=s.firstChild;w;){var x=w.nextSibling,k=w.nodeName;w[qr]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&w.rel.toLowerCase()==="stylesheet"||s.removeChild(w),w=x}}if(h===0){n.removeChild(g),rc(a);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:c=s.charCodeAt(0)-48;else c=0;s=g}while(s);rc(a)}function Ap(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ap(s),Wa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function _S(n,a,s,c){for(;n.nodeType===1;){var h=s;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[qr])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=Ii(n.nextSibling),n===null)break}return null}function ES(n,a,s){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Ii(n.nextSibling),n===null))return null;return n}function Sp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function bS(n,a){var s=n.ownerDocument;if(n.data!=="$?"||s.readyState==="complete")a();else{var c=function(){a(),s.removeEventListener("DOMContentLoaded",c)};s.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function Ii(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return n}var Rp=null;function X_(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(a===0)return n;a--}else s==="/$"&&a++}n=n.previousSibling}return null}function W_(n,a,s){switch(a=ed(s),n){case"html":if(n=a.documentElement,!n)throw Error(r(452));return n;case"head":if(n=a.head,!n)throw Error(r(453));return n;case"body":if(n=a.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Wl(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);Wa(n)}var vi=new Map,Z_=new Set;function td(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ma=re.d;re.d={f:wS,r:TS,D:xS,C:AS,L:SS,m:RS,X:CS,S:IS,M:NS};function wS(){var n=Ma.f(),a=$u();return n||a}function TS(n){var a=Bi(n);a!==null&&a.tag===5&&a.type==="form"?yy(a):Ma.r(n)}var To=typeof document>"u"?null:document;function J_(n,a,s){var c=To;if(c&&typeof a=="string"&&a){var h=Vt(a);h='link[rel="'+n+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Z_.has(h)||(Z_.add(h),n={rel:n,crossOrigin:s,href:a},c.querySelector(h)===null&&(a=c.createElement("link"),on(a,"link",n),Ot(a),c.head.appendChild(a)))}}function xS(n){Ma.D(n),J_("dns-prefetch",n,null)}function AS(n,a){Ma.C(n,a),J_("preconnect",n,a)}function SS(n,a,s){Ma.L(n,a,s);var c=To;if(c&&n&&a){var h='link[rel="preload"][as="'+Vt(a)+'"]';a==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Vt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Vt(s.imageSizes)+'"]')):h+='[href="'+Vt(n)+'"]';var g=h;switch(a){case"style":g=xo(n);break;case"script":g=Ao(n)}vi.has(g)||(n=y({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:n,as:a},s),vi.set(g,n),c.querySelector(h)!==null||a==="style"&&c.querySelector(Zl(g))||a==="script"&&c.querySelector(Jl(g))||(a=c.createElement("link"),on(a,"link",n),Ot(a),c.head.appendChild(a)))}}function RS(n,a){Ma.m(n,a);var s=To;if(s&&n){var c=a&&typeof a.as=="string"?a.as:"script",h='link[rel="modulepreload"][as="'+Vt(c)+'"][href="'+Vt(n)+'"]',g=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ao(n)}if(!vi.has(g)&&(n=y({rel:"modulepreload",href:n},a),vi.set(g,n),s.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Jl(g)))return}c=s.createElement("link"),on(c,"link",n),Ot(c),s.head.appendChild(c)}}}function IS(n,a,s){Ma.S(n,a,s);var c=To;if(c&&n){var h=bn(c).hoistableStyles,g=xo(n);a=a||"default";var w=h.get(g);if(!w){var x={loading:0,preload:null};if(w=c.querySelector(Zl(g)))x.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":a},s),(s=vi.get(g))&&Ip(n,s);var k=w=c.createElement("link");Ot(k),on(k,"link",n),k._p=new Promise(function($,W){k.onload=$,k.onerror=W}),k.addEventListener("load",function(){x.loading|=1}),k.addEventListener("error",function(){x.loading|=2}),x.loading|=4,nd(w,a,c)}w={type:"stylesheet",instance:w,count:1,state:x},h.set(g,w)}}}function CS(n,a){Ma.X(n,a);var s=To;if(s&&n){var c=bn(s).hoistableScripts,h=Ao(n),g=c.get(h);g||(g=s.querySelector(Jl(h)),g||(n=y({src:n,async:!0},a),(a=vi.get(h))&&Cp(n,a),g=s.createElement("script"),Ot(g),on(g,"link",n),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function NS(n,a){Ma.M(n,a);var s=To;if(s&&n){var c=bn(s).hoistableScripts,h=Ao(n),g=c.get(h);g||(g=s.querySelector(Jl(h)),g||(n=y({src:n,async:!0,type:"module"},a),(a=vi.get(h))&&Cp(n,a),g=s.createElement("script"),Ot(g),on(g,"link",n),s.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(h,g))}}function eE(n,a,s,c){var h=(h=we.current)?td(h):null;if(!h)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=xo(s.href),s=bn(h).hoistableStyles,c=s.get(a),c||(c={type:"style",instance:null,count:0,state:null},s.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=xo(s.href);var g=bn(h).hoistableStyles,w=g.get(n);if(w||(h=h.ownerDocument||h,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,w),(g=h.querySelector(Zl(n)))&&!g._p&&(w.instance=g,w.state.loading=5),vi.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},vi.set(n,s),g||DS(h,n,s,w.state))),a&&c===null)throw Error(r(528,""));return w}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Ao(s),s=bn(h).hoistableScripts,c=s.get(a),c||(c={type:"script",instance:null,count:0,state:null},s.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function xo(n){return'href="'+Vt(n)+'"'}function Zl(n){return'link[rel="stylesheet"]['+n+"]"}function tE(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function DS(n,a,s,c){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=n.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),on(a,"link",s),Ot(a),n.head.appendChild(a))}function Ao(n){return'[src="'+Vt(n)+'"]'}function Jl(n){return"script[async]"+n}function nE(n,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var c=n.querySelector('style[data-href~="'+Vt(s.href)+'"]');if(c)return a.instance=c,Ot(c),c;var h=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Ot(c),on(c,"style",h),nd(c,s.precedence,n),a.instance=c;case"stylesheet":h=xo(s.href);var g=n.querySelector(Zl(h));if(g)return a.state.loading|=4,a.instance=g,Ot(g),g;c=tE(s),(h=vi.get(h))&&Ip(c,h),g=(n.ownerDocument||n).createElement("link"),Ot(g);var w=g;return w._p=new Promise(function(x,k){w.onload=x,w.onerror=k}),on(g,"link",c),a.state.loading|=4,nd(g,s.precedence,n),a.instance=g;case"script":return g=Ao(s.src),(h=n.querySelector(Jl(g)))?(a.instance=h,Ot(h),h):(c=s,(h=vi.get(g))&&(c=y({},s),Cp(c,h)),n=n.ownerDocument||n,h=n.createElement("script"),Ot(h),on(h,"link",c),n.head.appendChild(h),a.instance=h);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,nd(c,s.precedence,n));return a.instance}function nd(n,a,s){for(var c=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,g=h,w=0;w<c.length;w++){var x=c[w];if(x.dataset.precedence===a)g=x;else if(g!==h)break}g?g.parentNode.insertBefore(n,g.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(n,a.firstChild))}function Ip(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function Cp(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var id=null;function iE(n,a,s){if(id===null){var c=new Map,h=id=new Map;h.set(s,c)}else h=id,c=h.get(s),c||(c=new Map,h.set(s,c));if(c.has(n))return c;for(c.set(n,null),s=s.getElementsByTagName(n),h=0;h<s.length;h++){var g=s[h];if(!(g[qr]||g[qt]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(a)||"";w=n+w;var x=c.get(w);x?x.push(g):c.set(w,[g])}}return c}function aE(n,a,s){n=n.ownerDocument||n,n.head.insertBefore(s,a==="title"?n.querySelector("head > title"):null)}function OS(n,a,s){if(s===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function rE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ec=null;function kS(){}function PS(n,a,s){if(ec===null)throw Error(r(475));var c=ec;if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=xo(s.href),g=n.querySelector(Zl(h));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=ad.bind(c),n.then(c,c)),a.state.loading|=4,a.instance=g,Ot(g);return}g=n.ownerDocument||n,s=tE(s),(h=vi.get(h))&&Ip(s,h),g=g.createElement("link"),Ot(g);var w=g;w._p=new Promise(function(x,k){w.onload=x,w.onerror=k}),on(g,"link",s),a.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=ad.bind(c),n.addEventListener("load",a),n.addEventListener("error",a))}}function MS(){if(ec===null)throw Error(r(475));var n=ec;return n.stylesheets&&n.count===0&&Np(n,n.stylesheets),0<n.count?function(a){var s=setTimeout(function(){if(n.stylesheets&&Np(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(s)}}:null}function ad(){if(this.count--,this.count===0){if(this.stylesheets)Np(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var rd=null;function Np(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,rd=new Map,a.forEach(jS,n),rd=null,ad.call(n))}function jS(n,a){if(!(a.state.loading&4)){var s=rd.get(n);if(s)var c=s.get(null);else{s=new Map,rd.set(n,s);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var w=h[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(s.set(w.dataset.precedence,w),c=w)}c&&s.set(null,c)}h=a.instance,w=h.getAttribute("data-precedence"),g=s.get(w)||c,g===c&&s.set(null,h),s.set(w,h),this.count++,c=ad.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),g?g.parentNode.insertBefore(h,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),a.state.loading|=4}}var tc={$$typeof:G,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function LS(n,a,s,c,h,g,w,x){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=me(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.hiddenUpdates=me(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function sE(n,a,s,c,h,g,w,x,k,$,W,te){return n=new LS(n,a,s,w,x,k,$,te),a=1,g===!0&&(a|=24),g=Qn(3,null,null,a),n.current=g,g.stateNode=n,a=df(),a.refCount++,n.pooledCache=a,a.refCount++,g.memoizedState={element:c,isDehydrated:s,cache:a},mf(g),n}function oE(n){return n?(n=to,n):to}function lE(n,a,s,c,h,g){h=oE(h),c.context===null?c.context=h:c.pendingContext=h,c=ir(a),c.payload={element:s},g=g===void 0?null:g,g!==null&&(c.callback=g),s=ar(n,c,a),s!==null&&(Jn(s,n,a),Dl(s,n,a))}function cE(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<a?s:a}}function Dp(n,a){cE(n,a),(n=n.alternate)&&cE(n,a)}function uE(n){if(n.tag===13){var a=eo(n,67108864);a!==null&&Jn(a,n,67108864),Dp(n,67108864)}}var sd=!0;function VS(n,a,s,c){var h=Q.T;Q.T=null;var g=re.p;try{re.p=2,Op(n,a,s,c)}finally{re.p=g,Q.T=h}}function US(n,a,s,c){var h=Q.T;Q.T=null;var g=re.p;try{re.p=8,Op(n,a,s,c)}finally{re.p=g,Q.T=h}}function Op(n,a,s,c){if(sd){var h=kp(c);if(h===null)_p(n,a,c,od,s),hE(n,c);else if(BS(h,n,a,s,c))c.stopPropagation();else if(hE(n,c),a&4&&-1<zS.indexOf(n)){for(;h!==null;){var g=Bi(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=Yt(g.pendingLanes);if(w!==0){var x=g;for(x.pendingLanes|=2,x.entangledLanes|=2;w;){var k=1<<31-ht(w);x.entanglements[1]|=k,w&=~k}ta(g),(st&6)===0&&(Hu=Rt()+500,Ql(0))}}break;case 13:x=eo(g,2),x!==null&&Jn(x,g,2),$u(),Dp(g,2)}if(g=kp(c),g===null&&_p(n,a,c,od,s),g===h)break;h=g}h!==null&&c.stopPropagation()}else _p(n,a,c,null,s)}}function kp(n){return n=li(n),Pp(n)}var od=null;function Pp(n){if(od=null,n=fa(n),n!==null){var a=l(n);if(a===null)n=null;else{var s=a.tag;if(s===13){if(n=d(a),n!==null)return n;n=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return od=n,null}function dE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ai()){case Fn:return 2;case Rn:return 8;case qn:case wi:return 32;case Ti:return 268435456;default:return 32}default:return 32}}var Mp=!1,vr=null,yr=null,_r=null,nc=new Map,ic=new Map,Er=[],zS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hE(n,a){switch(n){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":nc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ic.delete(a.pointerId)}}function ac(n,a,s,c,h,g){return n===null||n.nativeEvent!==g?(n={blockedOn:a,domEventName:s,eventSystemFlags:c,nativeEvent:g,targetContainers:[h]},a!==null&&(a=Bi(a),a!==null&&uE(a)),n):(n.eventSystemFlags|=c,a=n.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),n)}function BS(n,a,s,c,h){switch(a){case"focusin":return vr=ac(vr,n,a,s,c,h),!0;case"dragenter":return yr=ac(yr,n,a,s,c,h),!0;case"mouseover":return _r=ac(_r,n,a,s,c,h),!0;case"pointerover":var g=h.pointerId;return nc.set(g,ac(nc.get(g)||null,n,a,s,c,h)),!0;case"gotpointercapture":return g=h.pointerId,ic.set(g,ac(ic.get(g)||null,n,a,s,c,h)),!0}return!1}function fE(n){var a=fa(n.target);if(a!==null){var s=l(a);if(s!==null){if(a=s.tag,a===13){if(a=d(s),a!==null){n.blockedOn=a,$c(n.priority,function(){if(s.tag===13){var c=Zn();c=Dn(c);var h=eo(s,c);h!==null&&Jn(h,s,c),Dp(s,c)}});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ld(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var s=kp(n.nativeEvent);if(s===null){s=n.nativeEvent;var c=new s.constructor(s.type,s);va=c,s.target.dispatchEvent(c),va=null}else return a=Bi(s),a!==null&&uE(a),n.blockedOn=s,!1;a.shift()}return!0}function pE(n,a,s){ld(n)&&s.delete(a)}function FS(){Mp=!1,vr!==null&&ld(vr)&&(vr=null),yr!==null&&ld(yr)&&(yr=null),_r!==null&&ld(_r)&&(_r=null),nc.forEach(pE),ic.forEach(pE)}function cd(n,a){n.blockedOn===a&&(n.blockedOn=null,Mp||(Mp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,FS)))}var ud=null;function mE(n){ud!==n&&(ud=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ud===n&&(ud=null);for(var a=0;a<n.length;a+=3){var s=n[a],c=n[a+1],h=n[a+2];if(typeof c!="function"){if(Pp(c||s)===null)continue;break}var g=Bi(s);g!==null&&(n.splice(a,3),a-=3,Pf(g,{pending:!0,data:h,method:s.method,action:c},c,h))}}))}function rc(n){function a(k){return cd(k,n)}vr!==null&&cd(vr,n),yr!==null&&cd(yr,n),_r!==null&&cd(_r,n),nc.forEach(a),ic.forEach(a);for(var s=0;s<Er.length;s++){var c=Er[s];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Er.length&&(s=Er[0],s.blockedOn===null);)fE(s),s.blockedOn===null&&Er.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(c=0;c<s.length;c+=3){var h=s[c],g=s[c+1],w=h[Lt]||null;if(typeof g=="function")w||mE(s);else if(w){var x=null;if(g&&g.hasAttribute("formAction")){if(h=g,w=g[Lt]||null)x=w.formAction;else if(Pp(h)!==null)continue}else x=w.action;typeof x=="function"?s[c+1]=x:(s.splice(c,3),c-=3),mE(s)}}}function jp(n){this._internalRoot=n}dd.prototype.render=jp.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(r(409));var s=a.current,c=Zn();lE(s,c,n,a,null,null)},dd.prototype.unmount=jp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;lE(n.current,2,null,n,null,null),$u(),a[si]=null}};function dd(n){this._internalRoot=n}dd.prototype.unstable_scheduleHydration=function(n){if(n){var a=Ya();n={blockedOn:null,target:n,priority:a};for(var s=0;s<Er.length&&a!==0&&a<Er[s].priority;s++);Er.splice(s,0,n),s===0&&fE(n)}};var gE=e.version;if(gE!=="19.1.0")throw Error(r(527,gE,"19.1.0"));re.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=f(a),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var qS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{Le=hd.inject(qS),Ce=hd}catch{}}return oc.createRoot=function(n,a){if(!o(n))throw Error(r(299));var s=!1,c="",h=Oy,g=ky,w=Py,x=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks)),a=sE(n,1,!1,null,null,s,c,h,g,w,x,null),n[si]=a.current,yp(n),new jp(a)},oc.hydrateRoot=function(n,a,s){if(!o(n))throw Error(r(299));var c=!1,h="",g=Oy,w=ky,x=Py,k=null,$=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(k=s.unstable_transitionCallbacks),s.formState!==void 0&&($=s.formState)),a=sE(n,1,!0,a,s??null,c,h,g,w,x,k,$),a.context=oE(null),s=a.current,c=Zn(),c=Dn(c),h=ir(c),h.callback=null,ar(s,h,c),s=c,a.current.lanes=s,Re(a,s),ta(a),n[si]=a.current,yp(n),new dd(a)},oc.version="19.1.0",oc}var SE;function eR(){if(SE)return Up.exports;SE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Up.exports=JS(),Up.exports}var tR=eR(),lc={},RE;function nR(){if(RE)return lc;RE=1,Object.defineProperty(lc,"__esModule",{value:!0}),lc.parse=d,lc.serialize=m;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function d(T,I){const S=new l,U=T.length;if(U<2)return S;const M=(I==null?void 0:I.decode)||y;let F=0;do{const Z=T.indexOf("=",F);if(Z===-1)break;const G=T.indexOf(";",F),ce=G===-1?U:G;if(Z>ce){F=T.lastIndexOf(";",Z-1)+1;continue}const ue=p(T,F,Z),Te=f(T,Z,ue),j=T.slice(ue,Te);if(S[j]===void 0){let R=p(T,Z+1,ce),C=f(T,ce,R);const P=M(T.slice(R,C));S[j]=P}F=ce+1}while(F<U);return S}function p(T,I,S){do{const U=T.charCodeAt(I);if(U!==32&&U!==9)return I}while(++I<S);return S}function f(T,I,S){for(;I>S;){const U=T.charCodeAt(--I);if(U!==32&&U!==9)return I+1}return S}function m(T,I,S){const U=(S==null?void 0:S.encode)||encodeURIComponent;if(!i.test(T))throw new TypeError(`argument name is invalid: ${T}`);const M=U(I);if(!e.test(M))throw new TypeError(`argument val is invalid: ${I}`);let F=T+"="+M;if(!S)return F;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);F+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);F+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);F+="; Path="+S.path}if(S.expires){if(!b(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);F+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(F+="; HttpOnly"),S.secure&&(F+="; Secure"),S.partitioned&&(F+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return F}function y(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function b(T){return o.call(T)==="[object Date]"}return lc}nR();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var IE="popstate";function iR(i={}){function e(r,o){let{pathname:l,search:d,hash:p}=r.location;return um("",{pathname:l,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:wc(o)}return rR(e,t,null,i)}function bt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Pi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aR(){return Math.random().toString(36).substring(2,10)}function CE(i,e){return{usr:i.state,key:i.key,idx:e}}function um(i,e,t=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Go(e):e,state:t,key:e&&e.key||r||aR()}}function wc({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Go(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function rR(i,e,t,r={}){let{window:o=document.defaultView,v5Compat:l=!1}=r,d=o.history,p="POP",f=null,m=y();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function y(){return(d.state||{idx:null}).idx}function b(){p="POP";let M=y(),F=M==null?null:M-m;m=M,f&&f({action:p,location:U.location,delta:F})}function T(M,F){p="PUSH";let Z=um(U.location,M,F);m=y()+1;let G=CE(Z,m),ce=U.createHref(Z);try{d.pushState(G,"",ce)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(ce)}l&&f&&f({action:p,location:U.location,delta:1})}function I(M,F){p="REPLACE";let Z=um(U.location,M,F);m=y();let G=CE(Z,m),ce=U.createHref(Z);d.replaceState(G,"",ce),l&&f&&f({action:p,location:U.location,delta:0})}function S(M){let F=o.location.origin!=="null"?o.location.origin:o.location.href,Z=typeof M=="string"?M:wc(M);return Z=Z.replace(/ $/,"%20"),bt(F,`No window.location.(origin|href) available to create URL for href: ${Z}`),new URL(Z,F)}let U={get action(){return p},get location(){return i(o,d)},listen(M){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(IE,b),f=M,()=>{o.removeEventListener(IE,b),f=null}},createHref(M){return e(o,M)},createURL:S,encodeLocation(M){let F=S(M);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:T,replace:I,go(M){return d.go(M)}};return U}function L0(i,e,t="/"){return sR(i,e,t,!1)}function sR(i,e,t,r){let o=typeof e=="string"?Go(e):e,l=Fa(o.pathname||"/",t);if(l==null)return null;let d=V0(i);oR(d);let p=null;for(let f=0;p==null&&f<d.length;++f){let m=yR(l);p=gR(d[f],m,r)}return p}function V0(i,e=[],t=[],r=""){let o=(l,d,p)=>{let f={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};f.relativePath.startsWith("/")&&(bt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=Ua([r,f.relativePath]),y=t.concat(f);l.children&&l.children.length>0&&(bt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),V0(l.children,e,y,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:pR(m,l.index),routesMeta:y})};return i.forEach((l,d)=>{var p;if(l.path===""||!((p=l.path)!=null&&p.includes("?")))o(l,d);else for(let f of U0(l.path))o(l,d,f)}),e}function U0(i){let e=i.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return o?[l,""]:[l];let d=U0(r.join("/")),p=[];return p.push(...d.map(f=>f===""?l:[l,f].join("/"))),o&&p.push(...d),p.map(f=>i.startsWith("/")&&f===""?"/":f)}function oR(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:mR(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var lR=/^:[\w-]+$/,cR=3,uR=2,dR=1,hR=10,fR=-2,NE=i=>i==="*";function pR(i,e){let t=i.split("/"),r=t.length;return t.some(NE)&&(r+=fR),e&&(r+=uR),t.filter(o=>!NE(o)).reduce((o,l)=>o+(lR.test(l)?cR:l===""?dR:hR),r)}function mR(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function gR(i,e,t=!1){let{routesMeta:r}=i,o={},l="/",d=[];for(let p=0;p<r.length;++p){let f=r[p],m=p===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",b=Md({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),T=f.route;if(!b&&m&&t&&!r[r.length-1].route.index&&(b=Md({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:Ua([l,b.pathname]),pathnameBase:wR(Ua([l,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(l=Ua([l,b.pathnameBase]))}return d}function Md(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,r]=vR(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let l=o[0],d=l.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:b},T)=>{if(y==="*"){let S=p[T]||"";d=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const I=p[T];return b&&!I?m[y]=void 0:m[y]=(I||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:d,pattern:i}}function vR(i,e=!1,t=!0){Pi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,f)=>(r.push({paramName:p,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function yR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Fa(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=i.charAt(t);return r&&r!=="/"?null:i.slice(t)||"/"}function _R(i,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof i=="string"?Go(i):i;return{pathname:t?t.startsWith("/")?t:ER(t,e):e,search:TR(r),hash:xR(o)}}function ER(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function qp(i,e,t,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Xm(i){let e=bR(i);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Wm(i,e,t,r=!1){let o;typeof i=="string"?o=Go(i):(o={...i},bt(!o.pathname||!o.pathname.includes("?"),qp("?","pathname","search",o)),bt(!o.pathname||!o.pathname.includes("#"),qp("#","pathname","hash",o)),bt(!o.search||!o.search.includes("#"),qp("#","search","hash",o)));let l=i===""||o.pathname==="",d=l?"/":o.pathname,p;if(d==null)p=t;else{let b=e.length-1;if(!r&&d.startsWith("..")){let T=d.split("/");for(;T[0]==="..";)T.shift(),b-=1;o.pathname=T.join("/")}p=b>=0?e[b]:"/"}let f=_R(o,p),m=d&&d!=="/"&&d.endsWith("/"),y=(l||d===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}var Ua=i=>i.join("/").replace(/\/\/+/g,"/"),wR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),TR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,xR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function AR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var z0=["POST","PUT","PATCH","DELETE"];new Set(z0);var SR=["GET",...z0];new Set(SR);var $o=D.createContext(null);$o.displayName="DataRouter";var dh=D.createContext(null);dh.displayName="DataRouterState";var B0=D.createContext({isTransitioning:!1});B0.displayName="ViewTransition";var RR=D.createContext(new Map);RR.displayName="Fetchers";var IR=D.createContext(null);IR.displayName="Await";var Vi=D.createContext(null);Vi.displayName="Navigation";var Oc=D.createContext(null);Oc.displayName="Location";var ca=D.createContext({outlet:null,matches:[],isDataRoute:!1});ca.displayName="Route";var Zm=D.createContext(null);Zm.displayName="RouteError";function CR(i,{relative:e}={}){bt(Ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=D.useContext(Vi),{hash:o,pathname:l,search:d}=kc(i,{relative:e}),p=l;return t!=="/"&&(p=l==="/"?t:Ua([t,l])),r.createHref({pathname:p,search:d,hash:o})}function Ko(){return D.useContext(Oc)!=null}function zr(){return bt(Ko(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Oc).location}var F0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function q0(i){D.useContext(Vi).static||D.useLayoutEffect(i)}function Qo(){let{isDataRoute:i}=D.useContext(ca);return i?FR():NR()}function NR(){bt(Ko(),"useNavigate() may be used only in the context of a <Router> component.");let i=D.useContext($o),{basename:e,navigator:t}=D.useContext(Vi),{matches:r}=D.useContext(ca),{pathname:o}=zr(),l=JSON.stringify(Xm(r)),d=D.useRef(!1);return q0(()=>{d.current=!0}),D.useCallback((f,m={})=>{if(Pi(d.current,F0),!d.current)return;if(typeof f=="number"){t.go(f);return}let y=Wm(f,JSON.parse(l),o,m.relative==="path");i==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ua([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,l,o,i])}D.createContext(null);function kc(i,{relative:e}={}){let{matches:t}=D.useContext(ca),{pathname:r}=zr(),o=JSON.stringify(Xm(t));return D.useMemo(()=>Wm(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function DR(i,e){return H0(i,e)}function H0(i,e,t,r){var Z;bt(Ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=D.useContext(Vi),{matches:d}=D.useContext(ca),p=d[d.length-1],f=p?p.params:{},m=p?p.pathname:"/",y=p?p.pathnameBase:"/",b=p&&p.route;{let G=b&&b.path||"";G0(m,!b||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let T=zr(),I;if(e){let G=typeof e=="string"?Go(e):e;bt(y==="/"||((Z=G.pathname)==null?void 0:Z.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${G.pathname}" was given in the \`location\` prop.`),I=G}else I=T;let S=I.pathname||"/",U=S;if(y!=="/"){let G=y.replace(/^\//,"").split("/");U="/"+S.replace(/^\//,"").split("/").slice(G.length).join("/")}let M=!l&&t&&t.matches&&t.matches.length>0?t.matches:L0(i,{pathname:U});Pi(b||M!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Pi(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=jR(M&&M.map(G=>Object.assign({},G,{params:Object.assign({},f,G.params),pathname:Ua([y,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?y:Ua([y,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),d,t,r);return e&&F?D.createElement(Oc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},F):F}function OR(){let i=BR(),e=AR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:l},"ErrorBoundary")," or"," ",D.createElement("code",{style:l},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:o},t):null,d)}var kR=D.createElement(OR,null),PR=class extends D.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?D.createElement(ca.Provider,{value:this.props.routeContext},D.createElement(Zm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MR({routeContext:i,match:e,children:t}){let r=D.useContext($o);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(ca.Provider,{value:i},t)}function jR(i,e=[],t=null,r=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,l=t==null?void 0:t.errors;if(l!=null){let f=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);bt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let d=!1,p=-1;if(t)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=f),m.route.id){let{loaderData:y,errors:b}=t,T=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||T){d=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((f,m,y)=>{let b,T=!1,I=null,S=null;t&&(b=l&&m.route.id?l[m.route.id]:void 0,I=m.route.errorElement||kR,d&&(p<0&&y===0?(G0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,S=null):p===y&&(T=!0,S=m.route.hydrateFallbackElement||null)));let U=e.concat(o.slice(0,y+1)),M=()=>{let F;return b?F=I:T?F=S:m.route.Component?F=D.createElement(m.route.Component,null):m.route.element?F=m.route.element:F=f,D.createElement(MR,{match:m,routeContext:{outlet:f,matches:U,isDataRoute:t!=null},children:F})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?D.createElement(PR,{location:t.location,revalidation:t.revalidation,component:I,error:b,children:M(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):M()},null)}function Jm(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LR(i){let e=D.useContext($o);return bt(e,Jm(i)),e}function VR(i){let e=D.useContext(dh);return bt(e,Jm(i)),e}function UR(i){let e=D.useContext(ca);return bt(e,Jm(i)),e}function eg(i){let e=UR(i),t=e.matches[e.matches.length-1];return bt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function zR(){return eg("useRouteId")}function BR(){var r;let i=D.useContext(Zm),e=VR("useRouteError"),t=eg("useRouteError");return i!==void 0?i:(r=e.errors)==null?void 0:r[t]}function FR(){let{router:i}=LR("useNavigate"),e=eg("useNavigate"),t=D.useRef(!1);return q0(()=>{t.current=!0}),D.useCallback(async(o,l={})=>{Pi(t.current,F0),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...l}))},[i,e])}var DE={};function G0(i,e,t){!e&&!DE[i]&&(DE[i]=!0,Pi(!1,t))}D.memo(qR);function qR({routes:i,future:e,state:t}){return H0(i,void 0,t,e)}function HR({to:i,replace:e,state:t,relative:r}){bt(Ko(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=D.useContext(Vi);Pi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=D.useContext(ca),{pathname:d}=zr(),p=Qo(),f=Wm(i,Xm(l),d,r==="path"),m=JSON.stringify(f);return D.useEffect(()=>{p(JSON.parse(m),{replace:e,state:t,relative:r})},[p,m,r,e,t]),null}function vn(i){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GR({basename:i="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:l=!1}){bt(!Ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),p=D.useMemo(()=>({basename:d,navigator:o,static:l,future:{}}),[d,o,l]);typeof t=="string"&&(t=Go(t));let{pathname:f="/",search:m="",hash:y="",state:b=null,key:T="default"}=t,I=D.useMemo(()=>{let S=Fa(f,d);return S==null?null:{location:{pathname:S,search:m,hash:y,state:b,key:T},navigationType:r}},[d,f,m,y,b,T,r]);return Pi(I!=null,`<Router basename="${d}"> is not able to match the URL "${f}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:D.createElement(Vi.Provider,{value:p},D.createElement(Oc.Provider,{children:e,value:I}))}function $R({children:i,location:e}){return DR(dm(i),e)}function dm(i,e=[]){let t=[];return D.Children.forEach(i,(r,o)=>{if(!D.isValidElement(r))return;let l=[...e,o];if(r.type===D.Fragment){t.push.apply(t,dm(r.props.children,l));return}bt(r.type===vn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=dm(r.props.children,l)),t.push(d)}),t}var Td="get",xd="application/x-www-form-urlencoded";function hh(i){return i!=null&&typeof i.tagName=="string"}function KR(i){return hh(i)&&i.tagName.toLowerCase()==="button"}function QR(i){return hh(i)&&i.tagName.toLowerCase()==="form"}function YR(i){return hh(i)&&i.tagName.toLowerCase()==="input"}function XR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function WR(i,e){return i.button===0&&(!e||e==="_self")&&!XR(i)}var fd=null;function ZR(){if(fd===null)try{new FormData(document.createElement("form"),0),fd=!1}catch{fd=!0}return fd}var JR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hp(i){return i!=null&&!JR.has(i)?(Pi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xd}"`),null):i}function eI(i,e){let t,r,o,l,d;if(QR(i)){let p=i.getAttribute("action");r=p?Fa(p,e):null,t=i.getAttribute("method")||Td,o=Hp(i.getAttribute("enctype"))||xd,l=new FormData(i)}else if(KR(i)||YR(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=i.getAttribute("formaction")||p.getAttribute("action");if(r=f?Fa(f,e):null,t=i.getAttribute("formmethod")||p.getAttribute("method")||Td,o=Hp(i.getAttribute("formenctype"))||Hp(p.getAttribute("enctype"))||xd,l=new FormData(p,i),!ZR()){let{name:m,type:y,value:b}=i;if(y==="image"){let T=m?`${m}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else m&&l.append(m,b)}}else{if(hh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Td,r=null,o=xd,d=i}return l&&o==="text/plain"&&(d=l,l=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:l,body:d}}function tg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function tI(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nI(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function iI(i,e,t){let r=await Promise.all(i.map(async o=>{let l=e.routes[o.route.id];if(l){let d=await tI(l,t);return d.links?d.links():[]}return[]}));return oI(r.flat(1).filter(nI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function OE(i,e,t,r,o,l){let d=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,p=(f,m)=>{var y;return t[m].pathname!==f.pathname||((y=t[m].route.path)==null?void 0:y.endsWith("*"))&&t[m].params["*"]!==f.params["*"]};return l==="assets"?e.filter((f,m)=>d(f,m)||p(f,m)):l==="data"?e.filter((f,m)=>{var b;let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(d(f,m)||p(f,m))return!0;if(f.route.shouldRevalidate){let T=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function aI(i,e,{includeHydrateFallback:t}={}){return rI(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function rI(i){return[...new Set(i)]}function sI(i){let e={},t=Object.keys(i).sort();for(let r of t)e[r]=i[r];return e}function oI(i,e){let t=new Set;return new Set(e),i.reduce((r,o)=>{let l=JSON.stringify(sI(o));return t.has(l)||(t.add(l),r.push({key:l,link:o})),r},[])}function lI(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&Fa(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function $0(){let i=D.useContext($o);return tg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function cI(){let i=D.useContext(dh);return tg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var ng=D.createContext(void 0);ng.displayName="FrameworkContext";function K0(){let i=D.useContext(ng);return tg(i,"You must render this element inside a <HydratedRouter> element"),i}function uI(i,e){let t=D.useContext(ng),[r,o]=D.useState(!1),[l,d]=D.useState(!1),{onFocus:p,onBlur:f,onMouseEnter:m,onMouseLeave:y,onTouchStart:b}=e,T=D.useRef(null);D.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let U=F=>{F.forEach(Z=>{d(Z.isIntersecting)})},M=new IntersectionObserver(U,{threshold:.5});return T.current&&M.observe(T.current),()=>{M.disconnect()}}},[i]),D.useEffect(()=>{if(r){let U=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(U)}}},[r]);let I=()=>{o(!0)},S=()=>{o(!1),d(!1)};return t?i!=="intent"?[l,T,{}]:[l,T,{onFocus:cc(p,I),onBlur:cc(f,S),onMouseEnter:cc(m,I),onMouseLeave:cc(y,S),onTouchStart:cc(b,I)}]:[!1,T,{}]}function cc(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function dI({page:i,...e}){let{router:t}=$0(),r=D.useMemo(()=>L0(t.routes,i,t.basename),[t.routes,i,t.basename]);return r?D.createElement(fI,{page:i,matches:r,...e}):null}function hI(i){let{manifest:e,routeModules:t}=K0(),[r,o]=D.useState([]);return D.useEffect(()=>{let l=!1;return iI(i,e,t).then(d=>{l||o(d)}),()=>{l=!0}},[i,e,t]),r}function fI({page:i,matches:e,...t}){let r=zr(),{manifest:o,routeModules:l}=K0(),{basename:d}=$0(),{loaderData:p,matches:f}=cI(),m=D.useMemo(()=>OE(i,e,f,o,r,"data"),[i,e,f,o,r]),y=D.useMemo(()=>OE(i,e,f,o,r,"assets"),[i,e,f,o,r]),b=D.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let S=new Set,U=!1;if(e.forEach(F=>{var G;let Z=o.routes[F.route.id];!Z||!Z.hasLoader||(!m.some(ce=>ce.route.id===F.route.id)&&F.route.id in p&&((G=l[F.route.id])!=null&&G.shouldRevalidate)||Z.hasClientLoader?U=!0:S.add(F.route.id))}),S.size===0)return[];let M=lI(i,d);return U&&S.size>0&&M.searchParams.set("_routes",e.filter(F=>S.has(F.route.id)).map(F=>F.route.id).join(",")),[M.pathname+M.search]},[d,p,r,o,m,e,i,l]),T=D.useMemo(()=>aI(y,o),[y,o]),I=hI(y);return D.createElement(D.Fragment,null,b.map(S=>D.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),T.map(S=>D.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),I.map(({key:S,link:U})=>D.createElement("link",{key:S,...U})))}function pI(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Q0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Q0&&(window.__reactRouterVersion="7.5.0")}catch{}function mI({basename:i,children:e,window:t}){let r=D.useRef();r.current==null&&(r.current=iR({window:t,v5Compat:!0}));let o=r.current,[l,d]=D.useState({action:o.action,location:o.location}),p=D.useCallback(f=>{D.startTransition(()=>d(f))},[d]);return D.useLayoutEffect(()=>o.listen(p),[o,p]),D.createElement(GR,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:o})}var Y0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Et=D.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:l,replace:d,state:p,target:f,to:m,preventScrollReset:y,viewTransition:b,...T},I){let{basename:S}=D.useContext(Vi),U=typeof m=="string"&&Y0.test(m),M,F=!1;if(typeof m=="string"&&U&&(M=m,Q0))try{let C=new URL(window.location.href),P=m.startsWith("//")?new URL(C.protocol+m):new URL(m),L=Fa(P.pathname,S);P.origin===C.origin&&L!=null?m=L+P.search+P.hash:F=!0}catch{Pi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=CR(m,{relative:o}),[G,ce,ue]=uI(r,T),Te=_I(m,{replace:d,state:p,target:f,preventScrollReset:y,relative:o,viewTransition:b});function j(C){e&&e(C),C.defaultPrevented||Te(C)}let R=D.createElement("a",{...T,...ue,href:M||Z,onClick:F||l?e:j,ref:pI(I,ce),target:f,"data-discover":!U&&t==="render"?"true":void 0});return G&&!U?D.createElement(D.Fragment,null,R,D.createElement(dI,{page:Z})):R});Et.displayName="Link";var gI=D.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:l,to:d,viewTransition:p,children:f,...m},y){let b=kc(d,{relative:m.relative}),T=zr(),I=D.useContext(dh),{navigator:S,basename:U}=D.useContext(Vi),M=I!=null&&xI(b)&&p===!0,F=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,Z=T.pathname,G=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),G=G?G.toLowerCase():null,F=F.toLowerCase()),G&&U&&(G=Fa(G,U)||G);const ce=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ue=Z===F||!o&&Z.startsWith(F)&&Z.charAt(ce)==="/",Te=G!=null&&(G===F||!o&&G.startsWith(F)&&G.charAt(F.length)==="/"),j={isActive:ue,isPending:Te,isTransitioning:M},R=ue?e:void 0,C;typeof r=="function"?C=r(j):C=[r,ue?"active":null,Te?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(j):l;return D.createElement(Et,{...m,"aria-current":R,className:C,ref:y,style:P,to:d,viewTransition:p},typeof f=="function"?f(j):f)});gI.displayName="NavLink";var vI=D.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:l,method:d=Td,action:p,onSubmit:f,relative:m,preventScrollReset:y,viewTransition:b,...T},I)=>{let S=wI(),U=TI(p,{relative:m}),M=d.toLowerCase()==="get"?"get":"post",F=typeof p=="string"&&Y0.test(p),Z=G=>{if(f&&f(G),G.defaultPrevented)return;G.preventDefault();let ce=G.nativeEvent.submitter,ue=(ce==null?void 0:ce.getAttribute("formmethod"))||d;S(ce||G.currentTarget,{fetcherKey:e,method:ue,navigate:t,replace:o,state:l,relative:m,preventScrollReset:y,viewTransition:b})};return D.createElement("form",{ref:I,method:M,action:U,onSubmit:r?f:Z,...T,"data-discover":!F&&i==="render"?"true":void 0})});vI.displayName="Form";function yI(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function X0(i){let e=D.useContext($o);return bt(e,yI(i)),e}function _I(i,{target:e,replace:t,state:r,preventScrollReset:o,relative:l,viewTransition:d}={}){let p=Qo(),f=zr(),m=kc(i,{relative:l});return D.useCallback(y=>{if(WR(y,e)){y.preventDefault();let b=t!==void 0?t:wc(f)===wc(m);p(i,{replace:b,state:r,preventScrollReset:o,relative:l,viewTransition:d})}},[f,p,m,t,r,e,i,o,l,d])}var EI=0,bI=()=>`__${String(++EI)}__`;function wI(){let{router:i}=X0("useSubmit"),{basename:e}=D.useContext(Vi),t=zR();return D.useCallback(async(r,o={})=>{let{action:l,method:d,encType:p,formData:f,body:m}=eI(r,e);if(o.navigate===!1){let y=o.fetcherKey||bI();await i.fetch(y,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||d,formEncType:o.encType||p,flushSync:o.flushSync})}else await i.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||d,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function TI(i,{relative:e}={}){let{basename:t}=D.useContext(Vi),r=D.useContext(ca);bt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),l={...kc(i||".",{relative:e})},d=zr();if(i==null){l.search=d.search;let p=new URLSearchParams(l.search),f=p.getAll("index");if(f.some(y=>y==="")){p.delete("index"),f.filter(b=>b).forEach(b=>p.append("index",b));let y=p.toString();l.search=y?`?${y}`:""}}return(!i||i===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ua([t,l.pathname])),wc(l)}function xI(i,e={}){let t=D.useContext(B0);bt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=X0("useViewTransitionState"),o=kc(i,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Fa(t.currentLocation.pathname,r)||t.currentLocation.pathname,d=Fa(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Md(o.pathname,d)!=null||Md(o.pathname,l)!=null}new TextEncoder;const AI=()=>{};var kE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=function(i){const e=[];let t=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},SI=function(i){const e=[];let t=0,r=0;for(;t<i.length;){const o=i[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const l=i[t++];e[r++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=i[t++],d=i[t++],p=i[t++],f=((o&7)<<18|(l&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const l=i[t++],d=i[t++];e[r++]=String.fromCharCode((o&15)<<12|(l&63)<<6|d&63)}}return e.join("")},Z0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const l=i[o],d=o+1<i.length,p=d?i[o+1]:0,f=o+2<i.length,m=f?i[o+2]:0,y=l>>2,b=(l&3)<<4|p>>4;let T=(p&15)<<2|m>>6,I=m&63;f||(I=64,d||(T=64)),r.push(t[y],t[b],t[T],t[I])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(W0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):SI(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const l=t[i.charAt(o++)],p=o<i.length?t[i.charAt(o)]:0;++o;const m=o<i.length?t[i.charAt(o)]:64;++o;const b=o<i.length?t[i.charAt(o)]:64;if(++o,l==null||p==null||m==null||b==null)throw new RI;const T=l<<2|p>>4;if(r.push(T),m!==64){const I=p<<4&240|m>>2;if(r.push(I),b!==64){const S=m<<6&192|b;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class RI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const II=function(i){const e=W0(i);return Z0.encodeByteArray(e,!0)},jd=function(i){return II(i).replace(/\./g,"")},J0=function(i){try{return Z0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=()=>CI().__FIREBASE_DEFAULTS__,DI=()=>{if(typeof process>"u"||typeof kE>"u")return;const i=kE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},OI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&J0(i[1]);return e&&JSON.parse(e)},fh=()=>{try{return AI()||NI()||DI()||OI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},ew=i=>{var e,t;return(t=(e=fh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},tw=i=>{const e=ew(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},nw=()=>{var i;return(i=fh())===null||i===void 0?void 0:i.config},iw=i=>{var e;return(e=fh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[jd(JSON.stringify(t)),jd(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function jI(){var i;const e=(i=fh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function aw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function VI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UI(){const i=En();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function zI(){return!jI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rw(){try{return typeof indexedDB=="object"}catch{return!1}}function sw(){return new Promise((i,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function BI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="FirebaseError";class bi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=FI,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Os.prototype.create)}}class Os{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],d=l?qI(l,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new bi(o,p,r)}}function qI(i,e){return i.replace(HI,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const HI=/\{\$([^}]+)}/g;function GI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function xs(i,e){if(i===e)return!0;const t=Object.keys(i),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const l=i[o],d=e[o];if(PE(l)&&PE(d)){if(!xs(l,d))return!1}else if(l!==d)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function PE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(i){const e=[];for(const[t,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function uc(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,l]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function dc(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function $I(i,e){const t=new KI(i,e);return t.subscribe.bind(t)}class KI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");QI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Gp),o.error===void 0&&(o.error=Gp),o.complete===void 0&&(o.complete=Gp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QI(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Gp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=1e3,XI=2,WI=4*60*60*1e3,ZI=.5;function ME(i,e=YI,t=XI){const r=e*Math.pow(t,i),o=Math.round(ZI*r*(Math.random()-.5)*2);return Math.min(WI,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(i){return i&&i._delegate?i._delegate:i}class Ei{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new kI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tC(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});r.resolve(l)}catch{}}}}clearInstance(e=ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ys){return this.instances.has(e)}getOptions(e=ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(l);r===p&&d.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),l=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(o,l);const d=this.instances.get(o);return d&&e(d,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eC(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ys){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eC(i){return i===ys?void 0:i}function tC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new JI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ke||(Ke={}));const iC={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},aC=Ke.INFO,rC={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},sC=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=rC[e];if(o)console[o](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ph{constructor(e){this.name=e,this._logLevel=aC,this._logHandler=sC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const oC=(i,e)=>e.some(t=>i instanceof t);let jE,LE;function lC(){return jE||(jE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cC(){return LE||(LE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ow=new WeakMap,hm=new WeakMap,lw=new WeakMap,$p=new WeakMap,ig=new WeakMap;function uC(i){const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("success",l),i.removeEventListener("error",d)},l=()=>{t(Nr(i.result)),o()},d=()=>{r(i.error),o()};i.addEventListener("success",l),i.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&ow.set(t,i)}).catch(()=>{}),ig.set(e,i),e}function dC(i){if(hm.has(i))return;const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",d),i.removeEventListener("abort",d)},l=()=>{t(),o()},d=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",l),i.addEventListener("error",d),i.addEventListener("abort",d)});hm.set(i,e)}let fm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return hm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||lw.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Nr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function hC(i){fm=i(fm)}function fC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=i.call(Kp(this),e,...t);return lw.set(r,e.sort?e.sort():[e]),Nr(r)}:cC().includes(i)?function(...e){return i.apply(Kp(this),e),Nr(ow.get(this))}:function(...e){return Nr(i.apply(Kp(this),e))}}function pC(i){return typeof i=="function"?fC(i):(i instanceof IDBTransaction&&dC(i),oC(i,lC())?new Proxy(i,fm):i)}function Nr(i){if(i instanceof IDBRequest)return uC(i);if($p.has(i))return $p.get(i);const e=pC(i);return e!==i&&($p.set(i,e),ig.set(e,i)),e}const Kp=i=>ig.get(i);function cw(i,e,{blocked:t,upgrade:r,blocking:o,terminated:l}={}){const d=indexedDB.open(i,e),p=Nr(d);return r&&d.addEventListener("upgradeneeded",f=>{r(Nr(d.result),f.oldVersion,f.newVersion,Nr(d.transaction),f)}),t&&d.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),p.then(f=>{l&&f.addEventListener("close",()=>l()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),p}const mC=["get","getKey","getAll","getAllKeys","count"],gC=["put","add","delete","clear"],Qp=new Map;function VE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Qp.get(e))return Qp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=gC.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||mC.includes(t)))return;const l=async function(d,...p){const f=this.transaction(d,o?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(p.shift())),(await Promise.all([m[t](...p),o&&f.done]))[0]};return Qp.set(e,l),l}hC(i=>({...i,get:(e,t,r)=>VE(e,t)||i.get(e,t,r),has:(e,t)=>!!VE(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(yC(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function yC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pm="@firebase/app",UE="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=new ph("@firebase/app"),_C="@firebase/app-compat",EC="@firebase/analytics-compat",bC="@firebase/analytics",wC="@firebase/app-check-compat",TC="@firebase/app-check",xC="@firebase/auth",AC="@firebase/auth-compat",SC="@firebase/database",RC="@firebase/data-connect",IC="@firebase/database-compat",CC="@firebase/functions",NC="@firebase/functions-compat",DC="@firebase/installations",OC="@firebase/installations-compat",kC="@firebase/messaging",PC="@firebase/messaging-compat",MC="@firebase/performance",jC="@firebase/performance-compat",LC="@firebase/remote-config",VC="@firebase/remote-config-compat",UC="@firebase/storage",zC="@firebase/storage-compat",BC="@firebase/firestore",FC="@firebase/vertexai",qC="@firebase/firestore-compat",HC="firebase",GC="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="[DEFAULT]",$C={[pm]:"fire-core",[_C]:"fire-core-compat",[bC]:"fire-analytics",[EC]:"fire-analytics-compat",[TC]:"fire-app-check",[wC]:"fire-app-check-compat",[xC]:"fire-auth",[AC]:"fire-auth-compat",[SC]:"fire-rtdb",[RC]:"fire-data-connect",[IC]:"fire-rtdb-compat",[CC]:"fire-fn",[NC]:"fire-fn-compat",[DC]:"fire-iid",[OC]:"fire-iid-compat",[kC]:"fire-fcm",[PC]:"fire-fcm-compat",[MC]:"fire-perf",[jC]:"fire-perf-compat",[LC]:"fire-rc",[VC]:"fire-rc-compat",[UC]:"fire-gcs",[zC]:"fire-gcs-compat",[BC]:"fire-fst",[qC]:"fire-fst-compat",[FC]:"fire-vertex","fire-js":"fire-js",[HC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=new Map,KC=new Map,gm=new Map;function zE(i,e){try{i.container.addComponent(e)}catch(t){qa.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Mi(i){const e=i.name;if(gm.has(e))return qa.debug(`There were multiple attempts to register component ${e}.`),!1;gm.set(e,i);for(const t of Ld.values())zE(t,i);for(const t of KC.values())zE(t,i);return!0}function Yo(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function jn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new Os("app","Firebase",QC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ei("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=GC;function uw(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mm,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Dr.create("bad-app-name",{appName:String(o)});if(t||(t=nw()),!t)throw Dr.create("no-options");const l=Ld.get(o);if(l){if(xs(t,l.options)&&xs(r,l.config))return l;throw Dr.create("duplicate-app",{appName:o})}const d=new nC(o);for(const f of gm.values())d.addComponent(f);const p=new YC(t,r,d);return Ld.set(o,p),p}function mh(i=mm){const e=Ld.get(i);if(!e&&i===mm&&nw())return uw();if(!e)throw Dr.create("no-app",{appName:i});return e}function Un(i,e,t){var r;let o=(r=$C[i])!==null&&r!==void 0?r:i;t&&(o+=`-${t}`);const l=o.match(/\s|\//),d=e.match(/\s|\//);if(l||d){const p=[`Unable to register library "${o}" with version "${e}":`];l&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qa.warn(p.join(" "));return}Mi(new Ei(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="firebase-heartbeat-database",WC=1,Tc="firebase-heartbeat-store";let Yp=null;function dw(){return Yp||(Yp=cw(XC,WC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Tc)}catch(t){console.warn(t)}}}}).catch(i=>{throw Dr.create("idb-open",{originalErrorMessage:i.message})})),Yp}async function ZC(i){try{const t=(await dw()).transaction(Tc),r=await t.objectStore(Tc).get(hw(i));return await t.done,r}catch(e){if(e instanceof bi)qa.warn(e.message);else{const t=Dr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qa.warn(t.message)}}}async function BE(i,e){try{const r=(await dw()).transaction(Tc,"readwrite");await r.objectStore(Tc).put(e,hw(i)),await r.done}catch(t){if(t instanceof bi)qa.warn(t.message);else{const r=Dr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});qa.warn(r.message)}}}function hw(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=1024,e1=30;class t1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new i1(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=FE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(d=>d.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>e1){const d=a1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){qa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=FE(),{heartbeatsToSend:r,unsentEntries:o}=n1(this._heartbeatsCache.heartbeats),l=jd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return qa.warn(t),""}}}function FE(){return new Date().toISOString().substring(0,10)}function n1(i,e=JC){const t=[];let r=i.slice();for(const o of i){const l=t.find(d=>d.agent===o.agent);if(l){if(l.dates.push(o.date),qE(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),qE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class i1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rw()?sw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await ZC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return BE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return BE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function qE(i){return jd(JSON.stringify({version:2,heartbeats:i})).length}function a1(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let r=1;r<i.length;r++)i[r].date<t&&(t=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(i){Mi(new Ei("platform-logger",e=>new vC(e),"PRIVATE")),Mi(new Ei("heartbeat",e=>new t1(e),"PRIVATE")),Un(pm,UE,i),Un(pm,UE,"esm2017"),Un("fire-js","")}r1("");function ag(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(i);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(i,r[o])&&(t[r[o]]=i[r[o]]);return t}function ks(i,e,t,r){function o(l){return l instanceof t?l:new t(function(d){d(l)})}return new(t||(t=Promise))(function(l,d){function p(y){try{m(r.next(y))}catch(b){d(b)}}function f(y){try{m(r.throw(y))}catch(b){d(b)}}function m(y){y.done?l(y.value):o(y.value).then(p,f)}m((r=r.apply(i,e||[])).next())})}function fw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const s1=fw,pw=new Os("auth","Firebase",fw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=new ph("@firebase/auth");function o1(i,...e){Vd.logLevel<=Ke.WARN&&Vd.warn(`Auth (${Xo}): ${i}`,...e)}function Ad(i,...e){Vd.logLevel<=Ke.ERROR&&Vd.error(`Auth (${Xo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(i,...e){throw sg(i,...e)}function Oi(i,...e){return sg(i,...e)}function rg(i,e,t){const r=Object.assign(Object.assign({},s1()),{[e]:t});return new Os("auth","Firebase",r).create(e,{appName:i.name})}function za(i){return rg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function l1(i,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&ti(i,"argument-error"),rg(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sg(i,...e){if(typeof i!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(t,...r)}return pw.create(i,...e)}function xe(i,e,...t){if(!i)throw sg(e,...t)}function La(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Ad(e),new Error(e)}function Ha(i,e){i||La(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function c1(){return HE()==="http:"||HE()==="https:"}function HE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c1()||aw()||"connection"in navigator)?navigator.onLine:!0}function d1(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ha(t>e,"Short delay should be less than long delay!"),this.isMobile=MI()||VI()}get(){return u1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(i,e){Ha(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;La("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;La("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;La("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],p1=new Mc(3e4,6e4);function ua(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Ui(i,e,t,r,o={}){return gw(i,o,async()=>{let l={},d={};r&&(e==="GET"?d=r:l={body:JSON.stringify(r)});const p=Pc(Object.assign({key:i.config.apiKey},d)).slice(1),f=await i._getAdditionalHeaders();f["Content-Type"]="application/json",i.languageCode&&(f["X-Firebase-Locale"]=i.languageCode);const m=Object.assign({method:e,headers:f},l);return LI()||(m.referrerPolicy="no-referrer"),mw.fetch()(await vw(i,i.config.apiHost,t,p),m)})}async function gw(i,e,t){i._canInitEmulator=!1;const r=Object.assign(Object.assign({},h1),e);try{const o=new g1(i),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await l.json();if("needConfirmation"in d)throw pd(i,"account-exists-with-different-credential",d);if(l.ok&&!("errorMessage"in d))return d;{const p=l.ok?d.errorMessage:d.error.message,[f,m]=p.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw pd(i,"credential-already-in-use",d);if(f==="EMAIL_EXISTS")throw pd(i,"email-already-in-use",d);if(f==="USER_DISABLED")throw pd(i,"user-disabled",d);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw rg(i,y,m);ti(i,y)}}catch(o){if(o instanceof bi)throw o;ti(i,"network-request-failed",{message:String(o)})}}async function jc(i,e,t,r,o={}){const l=await Ui(i,e,t,r,o);return"mfaPendingCredential"in l&&ti(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function vw(i,e,t,r){const o=`${e}${t}?${r}`,l=i,d=l.config.emulator?og(i.config,o):`${i.config.apiScheme}://${o}`;return f1.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(d).toString():d}function m1(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class g1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Oi(this.auth,"network-request-failed")),p1.get())})}}function pd(i,e,t){const r={appName:i.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Oi(i,e,r);return o.customData._tokenResponse=t,o}function GE(i){return i!==void 0&&i.enterprise!==void 0}class v1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return m1(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function y1(i,e){return Ui(i,"GET","/v2/recaptchaConfig",ua(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(i,e){return Ui(i,"POST","/v1/accounts:delete",e)}async function Ud(i,e){return Ui(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function E1(i,e=!1){const t=vt(i),r=await t.getIdToken(e),o=lg(r);xe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,d=l==null?void 0:l.sign_in_provider;return{claims:o,token:r,authTime:gc(Xp(o.auth_time)),issuedAtTime:gc(Xp(o.iat)),expirationTime:gc(Xp(o.exp)),signInProvider:d||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Xp(i){return Number(i)*1e3}function lg(i){const[e,t,r]=i.split(".");if(e===void 0||t===void 0||r===void 0)return Ad("JWT malformed, contained fewer than 3 sections"),null;try{const o=J0(t);return o?JSON.parse(o):(Ad("Failed to decode base64 JWT payload"),null)}catch(o){return Ad("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function $E(i){const e=lg(i);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(i,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof bi&&b1(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function b1({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gc(this.lastLoginAt),this.creationTime=gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zd(i){var e;const t=i.auth,r=await i.getIdToken(),o=await Mo(i,Ud(t,{idToken:r}));xe(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];i._notifyReloadListener(l);const d=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?yw(l.providerUserInfo):[],p=x1(i.providerData,d),f=i.isAnonymous,m=!(i.email&&l.passwordHash)&&!(p!=null&&p.length),y=f?m:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:p,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(i,b)}async function T1(i){const e=vt(i);await zd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function x1(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function yw(i){return i.map(e=>{var{providerId:t}=e,r=ag(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(i,e){const t=await gw(i,{},async()=>{const r=Pc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=i.config,d=await vw(i,o,"/v1/token",`key=${l}`),p=await i._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",mw.fetch()(d,{method:"POST",headers:p,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function S1(i,e){return Ui(i,"POST","/v2/accounts:revokeToken",ua(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$E(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=$E(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:l}=await A1(e,t);this.updateTokensAndExpiration(r,o,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:l}=t,d=new Do;return r&&(xe(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(xe(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),l&&(xe(typeof l=="number","internal-error",{appName:e}),d.expirationTime=l),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Do,this.toJSON())}_performRefresh(){return La("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(i,e){xe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ni{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,l=ag(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new w1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ym(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Mo(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return E1(this,e)}reload(){return T1(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await zd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(za(this.auth));const e=await this.getIdToken();return await Mo(this,_1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,l,d,p,f,m,y;const b=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,I=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,S=(d=t.photoURL)!==null&&d!==void 0?d:void 0,U=(p=t.tenantId)!==null&&p!==void 0?p:void 0,M=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,F=(m=t.createdAt)!==null&&m!==void 0?m:void 0,Z=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:G,emailVerified:ce,isAnonymous:ue,providerData:Te,stsTokenManager:j}=t;xe(G&&j,e,"internal-error");const R=Do.fromJSON(this.name,j);xe(typeof G=="string",e,"internal-error"),wr(b,e.name),wr(T,e.name),xe(typeof ce=="boolean",e,"internal-error"),xe(typeof ue=="boolean",e,"internal-error"),wr(I,e.name),wr(S,e.name),wr(U,e.name),wr(M,e.name),wr(F,e.name),wr(Z,e.name);const C=new Ni({uid:G,auth:e,email:T,emailVerified:ce,displayName:b,isAnonymous:ue,photoURL:S,phoneNumber:I,tenantId:U,stsTokenManager:R,createdAt:F,lastLoginAt:Z});return Te&&Array.isArray(Te)&&(C.providerData=Te.map(P=>Object.assign({},P))),M&&(C._redirectEventId=M),C}static async _fromIdTokenResponse(e,t,r=!1){const o=new Do;o.updateFromServerResponse(t);const l=new Ni({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await zd(l),l}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];xe(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?yw(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),p=new Do;p.updateFromIdToken(r);const f=new Ni({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new ym(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=new Map;function Va(i){Ha(i instanceof Function,"Expected a class definition");let e=KE.get(i);return e?(Ha(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,KE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_w.type="NONE";const QE=_w;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(i,e,t){return`firebase:${i}:${e}:${t}`}class Oo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:l}=this.auth;this.fullUserKey=Sd(this.userKey,o.apiKey,l),this.fullPersistenceKey=Sd("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Ud(this.auth,{idToken:e}).catch(()=>{});return t?Ni._fromGetAccountInfoResponse(this.auth,t,e):null}return Ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Oo(Va(QE),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=o[0]||Va(QE);const d=Sd(r,e.config.apiKey,e.name);let p=null;for(const m of t)try{const y=await m._get(d);if(y){let b;if(typeof y=="string"){const T=await Ud(e,{idToken:y}).catch(()=>{});if(!T)break;b=await Ni._fromGetAccountInfoResponse(e,T,y)}else b=Ni._fromJSON(e,y);m!==l&&(p=b),l=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new Oo(l,e,r):(l=f[0],p&&await l._set(d,p.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(d)}catch{}})),new Oo(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Tw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ew(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Aw(e))return"Blackberry";if(Sw(e))return"Webos";if(bw(e))return"Safari";if((e.includes("chrome/")||ww(e))&&!e.includes("edge/"))return"Chrome";if(xw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Ew(i=En()){return/firefox\//i.test(i)}function bw(i=En()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ww(i=En()){return/crios\//i.test(i)}function Tw(i=En()){return/iemobile/i.test(i)}function xw(i=En()){return/android/i.test(i)}function Aw(i=En()){return/blackberry/i.test(i)}function Sw(i=En()){return/webos/i.test(i)}function cg(i=En()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function R1(i=En()){var e;return cg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function I1(){return UI()&&document.documentMode===10}function Rw(i=En()){return cg(i)||xw(i)||Sw(i)||Aw(i)||/windows phone/i.test(i)||Tw(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(i,e=[]){let t;switch(i){case"Browser":t=YE(En());break;case"Worker":t=`${YE(En())}-${i}`;break;default:t=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Xo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((d,p)=>{try{const f=e(l);d(f)}catch(f){p(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N1(i,e={}){return Ui(i,"GET","/v2/passwordPolicy",ua(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=6;class O1{constructor(e){var t,r,o,l;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:D1,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,l,d,p;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(l=f.containsUppercaseLetter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(d=f.containsNumericCharacter)!==null&&d!==void 0?d:!0),f.isValid&&(f.isValid=(p=f.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XE(this),this.idTokenSubscription=new XE(this),this.beforeStateQueue=new C1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Va(t)),this._initializationPromise=this.queue(async()=>{var r,o,l;if(!this._deleted&&(this.persistenceManager=await Oo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Ud(this,{idToken:e}),r=await Ni._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(jn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,p=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!d||d===p)&&(f!=null&&f.user)&&(o=f.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await zd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=d1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(za(this));const t=e?vt(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(za(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(za(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Va(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await N1(this),t=new O1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Os("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await S1(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Va(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[Va(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(p,this,"internal-error"),p.then(()=>{d||l(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{d=!0,f()}}else{const f=e.addObserver(t);return()=>{d=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Iw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&o1(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function da(i){return vt(i)}class XE{constructor(e){this.auth=e,this.observer=null,this.addObserver=$I(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function P1(i){gh=i}function Cw(i){return gh.loadJS(i)}function M1(){return gh.recaptchaEnterpriseScript}function j1(){return gh.gapiScript}function L1(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class V1{constructor(){this.enterprise=new U1}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class U1{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const z1="recaptcha-enterprise",Nw="NO_RECAPTCHA";class B1{constructor(e){this.type=z1,this.auth=da(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(d,p)=>{y1(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const m=new v1(f);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,d(m.siteKey)}}).catch(f=>{p(f)})})}function o(l,d,p){const f=window.grecaptcha;GE(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(m=>{d(m)}).catch(()=>{d(Nw)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new V1().execute("siteKey",{action:"verify"}):new Promise((l,d)=>{r(this.auth).then(p=>{if(!t&&GE(window.grecaptcha))o(p,l,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let f=M1();f.length!==0&&(f+=p),Cw(f).then(()=>{o(p,l,d)}).catch(m=>{d(m)})}}).catch(p=>{d(p)})})}}async function WE(i,e,t,r=!1,o=!1){const l=new B1(i);let d;if(o)d=Nw;else try{d=await l.verify(t)}catch{d=await l.verify(t,!0)}const p=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const f=p.phoneEnrollmentInfo.phoneNumber,m=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const f=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Bd(i,e,t,r,o){var l;if(!((l=i._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await WE(i,e,t,t==="getOobCode");return r(i,d)}else return r(i,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await WE(i,e,t,t==="getOobCode");return r(i,p)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(i,e){const t=Yo(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(xs(l,e??{}))return o;ti(o,"already-initialized")}return t.initialize({options:e})}function q1(i,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Va);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function H1(i,e,t){const r=da(i);xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,l=Dw(e),{host:d,port:p}=G1(e),f=p===null?"":`:${p}`,m={url:`${l}//${d}${f}/`},y=Object.freeze({host:d,port:p,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){xe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),xe(xs(m,r.config.emulator)&&xs(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,$1()}function Dw(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function G1(i){const e=Dw(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const l=o[1];return{host:l,port:ZE(r.substr(l.length+1))}}else{const[l,d]=r.split(":");return{host:l,port:ZE(d)}}}function ZE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function $1(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return La("not implemented")}_getIdTokenResponse(e){return La("not implemented")}_linkToIdToken(e,t){return La("not implemented")}_getReauthenticationResolver(e){return La("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ow(i,e){return Ui(i,"POST","/v1/accounts:resetPassword",ua(i,e))}async function K1(i,e){return Ui(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q1(i,e){return jc(i,"POST","/v1/accounts:signInWithPassword",ua(i,e))}async function Y1(i,e){return Ui(i,"POST","/v1/accounts:sendOobCode",ua(i,e))}async function X1(i,e){return Y1(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W1(i,e){return jc(i,"POST","/v1/accounts:signInWithEmailLink",ua(i,e))}async function Z1(i,e){return jc(i,"POST","/v1/accounts:signInWithEmailLink",ua(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends ug{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new xc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new xc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bd(e,t,"signInWithPassword",Q1);case"emailLink":return W1(e,{email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bd(e,r,"signUpPassword",K1);case"emailLink":return Z1(e,{idToken:t,email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(i,e){return jc(i,"POST","/v1/accounts:signInWithIdp",ua(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="http://localhost";class As extends ug{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new As(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ti("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,l=ag(t,["providerId","signInMethod"]);if(!r||!o)return null;const d=new As(r,o);return d.idToken=l.idToken||void 0,d.accessToken=l.accessToken||void 0,d.secret=l.secret,d.nonce=l.nonce,d.pendingToken=l.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return ko(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ko(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ko(e,t)}buildRequest(){const e={requestUri:J1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Pc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tN(i){const e=uc(dc(i)).link,t=e?uc(dc(e)).deep_link_id:null,r=uc(dc(i)).deep_link_id;return(r?uc(dc(r)).link:null)||r||t||e||i}class dg{constructor(e){var t,r,o,l,d,p;const f=uc(dc(e)),m=(t=f.apiKey)!==null&&t!==void 0?t:null,y=(r=f.oobCode)!==null&&r!==void 0?r:null,b=eN((o=f.mode)!==null&&o!==void 0?o:null);xe(m&&y&&b,"argument-error"),this.apiKey=m,this.operation=b,this.code=y,this.continueUrl=(l=f.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(d=f.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(p=f.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const t=tN(e);try{return new dg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.providerId=Wo.PROVIDER_ID}static credential(e,t){return xc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=dg.parseLink(t);return xe(r,"argument-error"),xc._fromEmailAndCode(e,r.code,r.tenantId)}}Wo.PROVIDER_ID="password";Wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends hg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Lc{constructor(){super("facebook.com")}static credential(e){return As._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tr.credential(e.oauthAccessToken)}catch{return null}}}Tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return As._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ja.credential(t,r)}catch{return null}}}ja.GOOGLE_SIGN_IN_METHOD="google.com";ja.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Lc{constructor(){super("github.com")}static credential(e){return As._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch{return null}}}xr.GITHUB_SIGN_IN_METHOD="github.com";xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Lc{constructor(){super("twitter.com")}static credential(e,t){return As._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ar.credential(t,r)}catch{return null}}}Ar.TWITTER_SIGN_IN_METHOD="twitter.com";Ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(i,e){return jc(i,"POST","/v1/accounts:signUp",ua(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const l=await Ni._fromIdTokenResponse(e,r,o),d=JE(r);return new Ss({user:l,providerId:d,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=JE(r);return new Ss({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function JE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd extends bi{constructor(e,t,r,o){var l;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Fd.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new Fd(e,t,r,o)}}function kw(i,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Fd._fromErrorAndOperation(i,l,e,r):l})}async function iN(i,e,t=!1){const r=await Mo(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Ss._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(i,e,t=!1){const{auth:r}=i;if(jn(r.app))return Promise.reject(za(r));const o="reauthenticate";try{const l=await Mo(i,kw(r,o,e,i),t);xe(l.idToken,r,"internal-error");const d=lg(l.idToken);xe(d,r,"internal-error");const{sub:p}=d;return xe(i.uid===p,r,"user-mismatch"),Ss._forOperation(i,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ti(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pw(i,e,t=!1){if(jn(i.app))return Promise.reject(za(i));const r="signIn",o=await kw(i,r,e),l=await Ss._fromIdTokenResponse(i,r,o);return t||await i._updateCurrentUser(l.user),l}async function rN(i,e){return Pw(da(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?pg._fromServerResponse(e,t):"totpInfo"in t?mg._fromServerResponse(e,t):ti(e,"internal-error")}}class pg extends fg{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new pg(t)}}class mg extends fg{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new mg(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(i,e,t){var r;xe(((r=t.url)===null||r===void 0?void 0:r.length)>0,i,"invalid-continue-uri"),xe(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,i,"invalid-dynamic-link-domain"),xe(typeof t.linkDomain>"u"||t.linkDomain.length>0,i,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(xe(t.iOS.bundleId.length>0,i,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(xe(t.android.packageName.length>0,i,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gg(i){const e=da(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function oN(i,e,t){const r=da(i),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&sN(r,o,t),await Bd(r,o,"getOobCode",X1)}async function lN(i,e,t){await Ow(vt(i),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gg(i),r})}async function cN(i,e){const t=vt(i),r=await Ow(t,{oobCode:e}),o=r.requestType;switch(xe(o,t,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":xe(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":xe(r.mfaInfo,t,"internal-error");default:xe(r.email,t,"internal-error")}let l=null;return r.mfaInfo&&(l=fg._fromServerResponse(da(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:l},operation:o}}async function uN(i,e){const{data:t}=await cN(vt(i),e);return t.email}async function dN(i,e,t){if(jn(i.app))return Promise.reject(za(i));const r=da(i),d=await Bd(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nN).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&gg(i),f}),p=await Ss._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function hN(i,e,t){return jn(i.app)?Promise.reject(za(i)):rN(vt(i),Wo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gg(i),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(i,e){return Ui(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=vt(i),l={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},d=await Mo(r,fN(r.auth,l));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const p=r.providerData.find(({providerId:f})=>f==="password");p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function mN(i,e,t,r){return vt(i).onIdTokenChanged(e,t,r)}function gN(i,e,t){return vt(i).beforeAuthStateChanged(e,t)}function Zo(i,e,t,r){return vt(i).onAuthStateChanged(e,t,r)}const qd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qd,"1"),this.storage.removeItem(qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=1e3,yN=10;class jw extends Mw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,p,f)=>{this.notifyListeners(d,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!t&&this.localCache[r]===d||this.notifyListeners(r,d)},l=this.storage.getItem(r);I1()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,yN):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},vN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}jw.type="LOCAL";const _N=jw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw extends Mw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Lw.type="SESSION";const Vw=Lw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new vh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:l}=t.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const p=Array.from(d).map(async m=>m(t.origin,l)),f=await EN(p);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(i="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,d;return new Promise((p,f)=>{const m=vg("",20);o.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(b){const T=b;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(T.data.response);break;default:clearTimeout(y),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(){return window}function wN(i){aa().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(){return typeof aa().WorkerGlobalScope<"u"&&typeof aa().importScripts=="function"}async function TN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xN(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function AN(){return Uw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="firebaseLocalStorageDb",SN=1,Hd="firebaseLocalStorage",Bw="fbase_key";class Vc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yh(i,e){return i.transaction([Hd],e?"readwrite":"readonly").objectStore(Hd)}function RN(){const i=indexedDB.deleteDatabase(zw);return new Vc(i).toPromise()}function _m(){const i=indexedDB.open(zw,SN);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Hd,{keyPath:Bw})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Hd)?e(r):(r.close(),await RN(),e(await _m()))})})}async function eb(i,e,t){const r=yh(i,!0).put({[Bw]:e,value:t});return new Vc(r).toPromise()}async function IN(i,e){const t=yh(i,!1).get(e),r=await new Vc(t).toPromise();return r===void 0?null:r.value}function tb(i,e){const t=yh(i,!0).delete(e);return new Vc(t).toPromise()}const CN=800,NN=3;class Fw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>NN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Uw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(AN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await TN(),!this.activeServiceWorker)return;this.sender=new bN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _m();return await eb(e,qd,"1"),await tb(e,qd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>eb(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>IN(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>tb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=yh(o,!1).getAll();return new Vc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Fw.type="LOCAL";const DN=Fw;new Mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(i,e){return e?Va(e):(xe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg extends ug{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ko(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ko(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ON(i){return Pw(i.auth,new yg(i),i.bypassAuthState)}function kN(i){const{auth:e,user:t}=i;return xe(t,e,"internal-error"),aN(t,new yg(i),i.bypassAuthState)}async function PN(i){const{auth:e,user:t}=i;return xe(t,e,"internal-error"),iN(t,new yg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,t,r,o,l=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:l,error:d,type:p}=e;if(d){this.reject(d);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ON;case"linkViaPopup":case"linkViaRedirect":return PN;case"reauthViaPopup":case"reauthViaRedirect":return kN;default:ti(this.auth,"internal-error")}}resolve(e){Ha(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ha(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=new Mc(2e3,1e4);async function jN(i,e,t){if(jn(i.app))return Promise.reject(Oi(i,"operation-not-supported-in-this-environment"));const r=da(i);l1(i,e,hg);const o=qw(r,t);return new Es(r,"signInViaPopup",e,o).executeNotNull()}class Es extends Hw{constructor(e,t,r,o,l){super(e,t,o,l),this.provider=r,this.authWindow=null,this.pollId=null,Es.currentPopupAction&&Es.currentPopupAction.cancel(),Es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Ha(this.filter.length===1,"Popup operations only handle one event");const e=vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MN.get())};e()}}Es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="pendingRedirect",Rd=new Map;class VN extends Hw{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Rd.get(this.auth._key());if(!e){try{const r=await UN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Rd.set(this.auth._key(),e)}return this.bypassAuthState||Rd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UN(i,e){const t=FN(e),r=BN(i);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function zN(i,e){Rd.set(i._key(),e)}function BN(i){return Va(i._redirectPersistence)}function FN(i){return Sd(LN,i.config.apiKey,i.name)}async function qN(i,e,t=!1){if(jn(i.app))return Promise.reject(za(i));const r=da(i),o=qw(r,e),d=await new VN(r,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=10*60*1e3;class GN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$N(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Gw(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Oi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HN&&this.cachedEventUids.clear(),this.cachedEventUids.has(nb(e))}saveEventToCache(e){this.cachedEventUids.add(nb(e)),this.lastProcessedEventTime=Date.now()}}function nb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Gw({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $N(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gw(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(i,e={}){return Ui(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YN=/^https?/;async function XN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await KN(i);for(const t of e)try{if(WN(t))return}catch{}ti(i,"unauthorized-domain")}function WN(i){const e=vm(),{protocol:t,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&r===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===r}if(!YN.test(t))return!1;if(QN.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=new Mc(3e4,6e4);function ib(){const i=aa().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function JN(i){return new Promise((e,t)=>{var r,o,l;function d(){ib(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ib(),t(Oi(i,"network-request-failed"))},timeout:ZN.get()})}if(!((o=(r=aa().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=aa().gapi)===null||l===void 0)&&l.load)d();else{const p=L1("iframefcb");return aa()[p]=()=>{gapi.load?d():t(Oi(i,"network-request-failed"))},Cw(`${j1()}?onload=${p}`).catch(f=>t(f))}}).catch(e=>{throw Id=null,e})}let Id=null;function eD(i){return Id=Id||JN(i),Id}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new Mc(5e3,15e3),nD="__/auth/iframe",iD="emulator/auth/iframe",aD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sD(i){const e=i.config;xe(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?og(e,iD):`https://${i.config.authDomain}/${nD}`,r={apiKey:e.apiKey,appName:i.name,v:Xo},o=rD.get(i.config.apiHost);o&&(r.eid=o);const l=i._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${Pc(r).slice(1)}`}async function oD(i){const e=await eD(i),t=aa().gapi;return xe(t,i,"internal-error"),e.open({where:document.body,url:sD(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aD,dontclear:!0},r=>new Promise(async(o,l)=>{await r.restyle({setHideOnLeave:!1});const d=Oi(i,"network-request-failed"),p=aa().setTimeout(()=>{l(d)},tD.get());function f(){aa().clearTimeout(p),o(r)}r.ping(f).then(f,()=>{l(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cD=500,uD=600,dD="_blank",hD="http://localhost";class ab{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fD(i,e,t,r=cD,o=uD){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const f=Object.assign(Object.assign({},lD),{width:r.toString(),height:o.toString(),top:l,left:d}),m=En().toLowerCase();t&&(p=ww(m)?dD:t),Ew(m)&&(e=e||hD,f.scrollbars="yes");const y=Object.entries(f).reduce((T,[I,S])=>`${T}${I}=${S},`,"");if(R1(m)&&p!=="_self")return pD(e||"",p),new ab(null);const b=window.open(e||"",p,y);xe(b,i,"popup-blocked");try{b.focus()}catch{}return new ab(b)}function pD(i,e){const t=document.createElement("a");t.href=i,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="__/auth/handler",gD="emulator/auth/handler",vD=encodeURIComponent("fac");async function rb(i,e,t,r,o,l){xe(i.config.authDomain,i,"auth-domain-config-required"),xe(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:r,v:Xo,eventId:o};if(e instanceof hg){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",GI(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,b]of Object.entries({}))d[y]=b}if(e instanceof Lc){const y=e.getScopes().filter(b=>b!=="");y.length>0&&(d.scopes=y.join(","))}i.tenantId&&(d.tid=i.tenantId);const p=d;for(const y of Object.keys(p))p[y]===void 0&&delete p[y];const f=await i._getAppCheckToken(),m=f?`#${vD}=${encodeURIComponent(f)}`:"";return`${yD(i)}?${Pc(p).slice(1)}${m}`}function yD({config:i}){return i.emulator?og(i,gD):`https://${i.authDomain}/${mD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="webStorageSupport";class _D{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vw,this._completeRedirectFn=qN,this._overrideRedirectResult=zN}async _openPopup(e,t,r,o){var l;Ha((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const d=await rb(e,t,r,vm(),o);return fD(e,d,vg())}async _openRedirect(e,t,r,o){await this._originValidation(e);const l=await rb(e,t,r,vm(),o);return wN(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Ha(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await oD(e),r=new GN(e);return t.register("authEvent",o=>(xe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wp,{type:Wp},o=>{var l;const d=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Wp];d!==void 0&&t(!!d),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=XN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Rw()||bw()||cg()}}const ED=_D;var sb="@firebase/auth",ob="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TD(i){Mi(new Ei("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;xe(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:d,authDomain:p,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Iw(i)},m=new k1(r,o,l,f);return q1(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Mi(new Ei("auth-internal",e=>{const t=da(e.getProvider("auth").getImmediate());return(r=>new bD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Un(sb,ob,wD(i)),Un(sb,ob,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=5*60,AD=iw("authIdTokenMaxAge")||xD;let lb=null;const SD=i=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>AD)return;const o=t==null?void 0:t.token;lb!==o&&(lb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Uc(i=mh()){const e=Yo(i,"auth");if(e.isInitialized())return e.getImmediate();const t=F1(i,{popupRedirectResolver:ED,persistence:[DN,_N,Vw]}),r=iw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const d=SD(l.toString());gN(t,d,()=>d(t.currentUser)),mN(t,p=>d(p))}}const o=ew("auth");return o&&H1(t,`http://${o}`),t}function RD(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}P1({loadJS(i){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const l=Oi("internal-error");l.customData=o,t(l)},r.type="text/javascript",r.charset="UTF-8",RD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TD("Browser");var ID="firebase",CD="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un(ID,CD,"app");const $w="@firebase/installations",_g="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=1e4,Qw=`w:${_g}`,Yw="FIS_v2",ND="https://firebaseinstallations.googleapis.com/v1",DD=60*60*1e3,OD="installations",kD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Rs=new Os(OD,kD,PD);function Xw(i){return i instanceof bi&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww({projectId:i}){return`${ND}/projects/${i}/installations`}function Zw(i){return{token:i.token,requestStatus:2,expiresIn:jD(i.expiresIn),creationTime:Date.now()}}async function Jw(i,e){const r=(await e.json()).error;return Rs.create("request-failed",{requestName:i,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function eT({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function MD(i,{refreshToken:e}){const t=eT(i);return t.append("Authorization",LD(e)),t}async function tT(i){const e=await i();return e.status>=500&&e.status<600?i():e}function jD(i){return Number(i.replace("s","000"))}function LD(i){return`${Yw} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const r=Ww(i),o=eT(i),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const d={fid:t,authVersion:Yw,appId:i.appId,sdkVersion:Qw},p={method:"POST",headers:o,body:JSON.stringify(d)},f=await tT(()=>fetch(r,p));if(f.ok){const m=await f.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:Zw(m.authToken)}}else throw await Jw("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=/^[cdef][\w-]{21}$/,Em="";function BD(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=FD(i);return zD.test(t)?t:Em}catch{return Em}}function FD(i){return UD(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=new Map;function aT(i,e){const t=_h(i);rT(t,e),qD(t,e)}function rT(i,e){const t=iT.get(i);if(t)for(const r of t)r(e)}function qD(i,e){const t=HD();t&&t.postMessage({key:i,fid:e}),GD()}let bs=null;function HD(){return!bs&&"BroadcastChannel"in self&&(bs=new BroadcastChannel("[Firebase] FID Change"),bs.onmessage=i=>{rT(i.data.key,i.data.fid)}),bs}function GD(){iT.size===0&&bs&&(bs.close(),bs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="firebase-installations-database",KD=1,Is="firebase-installations-store";let Zp=null;function Eg(){return Zp||(Zp=cw($D,KD,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Is)}}})),Zp}async function Gd(i,e){const t=_h(i),o=(await Eg()).transaction(Is,"readwrite"),l=o.objectStore(Is),d=await l.get(t);return await l.put(e,t),await o.done,(!d||d.fid!==e.fid)&&aT(i,e.fid),e}async function sT(i){const e=_h(i),r=(await Eg()).transaction(Is,"readwrite");await r.objectStore(Is).delete(e),await r.done}async function Eh(i,e){const t=_h(i),o=(await Eg()).transaction(Is,"readwrite"),l=o.objectStore(Is),d=await l.get(t),p=e(d);return p===void 0?await l.delete(t):await l.put(p,t),await o.done,p&&(!d||d.fid!==p.fid)&&aT(i,p.fid),p}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bg(i){let e;const t=await Eh(i.appConfig,r=>{const o=QD(r),l=YD(i,o);return e=l.registrationPromise,l.installationEntry});return t.fid===Em?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function QD(i){const e=i||{fid:BD(),registrationStatus:0};return oT(e)}function YD(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Rs.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=XD(i,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:WD(i)}:{installationEntry:e}}async function XD(i,e){try{const t=await VD(i,e);return Gd(i.appConfig,t)}catch(t){throw Xw(t)&&t.customData.serverCode===409?await sT(i.appConfig):await Gd(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function WD(i){let e=await cb(i.appConfig);for(;e.registrationStatus===1;)await nT(100),e=await cb(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await bg(i);return r||t}return e}function cb(i){return Eh(i,e=>{if(!e)throw Rs.create("installation-not-found");return oT(e)})}function oT(i){return ZD(i)?{fid:i.fid,registrationStatus:0}:i}function ZD(i){return i.registrationStatus===1&&i.registrationTime+Kw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD({appConfig:i,heartbeatServiceProvider:e},t){const r=e2(i,t),o=MD(i,t),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&o.append("x-firebase-client",m)}const d={installation:{sdkVersion:Qw,appId:i.appId}},p={method:"POST",headers:o,body:JSON.stringify(d)},f=await tT(()=>fetch(r,p));if(f.ok){const m=await f.json();return Zw(m)}else throw await Jw("Generate Auth Token",f)}function e2(i,{fid:e}){return`${Ww(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wg(i,e=!1){let t;const r=await Eh(i.appConfig,l=>{if(!lT(l))throw Rs.create("not-registered");const d=l.authToken;if(!e&&i2(d))return l;if(d.requestStatus===1)return t=t2(i,e),l;{if(!navigator.onLine)throw Rs.create("app-offline");const p=r2(l);return t=n2(i,p),p}});return t?await t:r.authToken}async function t2(i,e){let t=await ub(i.appConfig);for(;t.authToken.requestStatus===1;)await nT(100),t=await ub(i.appConfig);const r=t.authToken;return r.requestStatus===0?wg(i,e):r}function ub(i){return Eh(i,e=>{if(!lT(e))throw Rs.create("not-registered");const t=e.authToken;return s2(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function n2(i,e){try{const t=await JD(i,e),r=Object.assign(Object.assign({},e),{authToken:t});return await Gd(i.appConfig,r),t}catch(t){if(Xw(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await sT(i.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Gd(i.appConfig,r)}throw t}}function lT(i){return i!==void 0&&i.registrationStatus===2}function i2(i){return i.requestStatus===2&&!a2(i)}function a2(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+DD}function r2(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function s2(i){return i.requestStatus===1&&i.requestTime+Kw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o2(i){const e=i,{installationEntry:t,registrationPromise:r}=await bg(e);return r?r.catch(console.error):wg(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l2(i,e=!1){const t=i;return await c2(t),(await wg(t,e)).token}async function c2(i){const{registrationPromise:e}=await bg(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(i){if(!i||!i.options)throw Jp("App Configuration");if(!i.name)throw Jp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw Jp(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Jp(i){return Rs.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="installations",d2="installations-internal",h2=i=>{const e=i.getProvider("app").getImmediate(),t=u2(e),r=Yo(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},f2=i=>{const e=i.getProvider("app").getImmediate(),t=Yo(e,cT).getImmediate();return{getId:()=>o2(t),getToken:o=>l2(t,o)}};function p2(){Mi(new Ei(cT,h2,"PUBLIC")),Mi(new Ei(d2,f2,"PRIVATE"))}p2();Un($w,_g);Un($w,_g,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="analytics",m2="firebase_id",g2="origin",v2=60*1e3,y2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn=new ph("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},yi=new Os("analytics","Analytics",_2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(i){if(!i.startsWith(Tg)){const e=yi.create("invalid-gtag-resource",{gtagURL:i});return zn.warn(e.message),""}return i}function uT(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function b2(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function w2(i,e){const t=b2("firebase-js-sdk-policy",{createScriptURL:E2}),r=document.createElement("script"),o=`${Tg}?l=${i}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function T2(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function x2(i,e,t,r,o,l){const d=r[o];try{if(d)await e[d];else{const f=(await uT(t)).find(m=>m.measurementId===o);f&&await e[f.appId]}}catch(p){zn.error(p)}i("config",o,l)}async function A2(i,e,t,r,o){try{let l=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const p=await uT(t);for(const f of d){const m=p.find(b=>b.measurementId===f),y=m&&e[m.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),i("event",r,o||{})}catch(l){zn.error(l)}}function S2(i,e,t,r){async function o(l,...d){try{if(l==="event"){const[p,f]=d;await A2(i,e,t,p,f)}else if(l==="config"){const[p,f]=d;await x2(i,e,t,r,p,f)}else if(l==="consent"){const[p,f]=d;i("consent",p,f)}else if(l==="get"){const[p,f,m]=d;i("get",p,f,m)}else if(l==="set"){const[p]=d;i("set",p)}else i(l,...d)}catch(p){zn.error(p)}}return o}function R2(i,e,t,r,o){let l=function(...d){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=S2(l,i,e,t),{gtagCore:l,wrappedGtag:window[o]}}function I2(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Tg)&&t.src.includes(i))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=30,N2=1e3;class D2{constructor(e={},t=N2){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const dT=new D2;function O2(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function k2(i){var e;const{appId:t,apiKey:r}=i,o={method:"GET",headers:O2(r)},l=y2.replace("{app-id}",t),d=await fetch(l,o);if(d.status!==200&&d.status!==304){let p="";try{const f=await d.json();!((e=f.error)===null||e===void 0)&&e.message&&(p=f.error.message)}catch{}throw yi.create("config-fetch-failed",{httpStatus:d.status,responseMessage:p})}return d.json()}async function P2(i,e=dT,t){const{appId:r,apiKey:o,measurementId:l}=i.options;if(!r)throw yi.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:r};throw yi.create("no-api-key")}const d=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new L2;return setTimeout(async()=>{p.abort()},v2),hT({appId:r,apiKey:o,measurementId:l},d,p,e)}async function hT(i,{throttleEndTimeMillis:e,backoffCount:t},r,o=dT){var l;const{appId:d,measurementId:p}=i;try{await M2(r,e)}catch(f){if(p)return zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:d,measurementId:p};throw f}try{const f=await k2(i);return o.deleteThrottleMetadata(d),f}catch(f){const m=f;if(!j2(m)){if(o.deleteThrottleMetadata(d),p)return zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${p} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:d,measurementId:p};throw f}const y=Number((l=m==null?void 0:m.customData)===null||l===void 0?void 0:l.httpStatus)===503?ME(t,o.intervalMillis,C2):ME(t,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return o.setThrottleMetadata(d,b),zn.debug(`Calling attemptFetch again in ${y} millis`),hT(i,b,r,o)}}function M2(i,e){return new Promise((t,r)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);i.addEventListener(()=>{clearTimeout(l),r(yi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function j2(i){if(!(i instanceof bi)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class L2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function V2(i,e,t,r,o){if(o&&o.global){i("event",t,r);return}else{const l=await e,d=Object.assign(Object.assign({},r),{send_to:l});i("event",t,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2(){if(rw())try{await sw()}catch(i){return zn.warn(yi.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return zn.warn(yi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function z2(i,e,t,r,o,l,d){var p;const f=P2(i);f.then(I=>{t[I.measurementId]=I.appId,i.options.measurementId&&I.measurementId!==i.options.measurementId&&zn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>zn.error(I)),e.push(f);const m=U2().then(I=>{if(I)return r.getId()}),[y,b]=await Promise.all([f,m]);I2(l)||w2(l,y.measurementId),o("js",new Date);const T=(p=d==null?void 0:d.config)!==null&&p!==void 0?p:{};return T[g2]="firebase",T.update=!0,b!=null&&(T[m2]=b),o("config",y.measurementId,T),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.app=e}_delete(){return delete vc[this.app.options.appId],Promise.resolve()}}let vc={},hb=[];const fb={};let em="dataLayer",F2="gtag",pb,fT,mb=!1;function q2(){const i=[];if(aw()&&i.push("This is a browser extension environment."),BI()||i.push("Cookies are not available."),i.length>0){const e=i.map((r,o)=>`(${o+1}) ${r}`).join(" "),t=yi.create("invalid-analytics-context",{errorInfo:e});zn.warn(t.message)}}function H2(i,e,t){q2();const r=i.options.appId;if(!r)throw yi.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw yi.create("no-api-key");if(vc[r]!=null)throw yi.create("already-exists",{id:r});if(!mb){T2(em);const{wrappedGtag:l,gtagCore:d}=R2(vc,hb,fb,em,F2);fT=l,pb=d,mb=!0}return vc[r]=z2(i,hb,fb,e,pb,em,t),new B2(i)}function G2(i,e,t,r){i=vt(i),V2(fT,vc[i.app.options.appId],e,t,r).catch(o=>zn.error(o))}const gb="@firebase/analytics",vb="0.10.12";function $2(){Mi(new Ei(db,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return H2(r,o,t)},"PUBLIC")),Mi(new Ei("analytics-internal",i,"PRIVATE")),Un(gb,vb),Un(gb,vb,"esm2017");function i(e){try{const t=e.getProvider(db).getImmediate();return{logEvent:(r,o,l)=>G2(t,r,o,l)}}catch(t){throw yi.create("interop-component-reg-failed",{reason:t})}}}$2();var yb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Or,pT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,R){function C(){}C.prototype=R.prototype,j.D=R.prototype,j.prototype=new C,j.prototype.constructor=j,j.C=function(P,L,z){for(var N=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)N[ye-2]=arguments[ye];return R.prototype[L].apply(P,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,R,C){C||(C=0);var P=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)P[L]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(L=0;16>L;++L)P[L]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=j.g[0],C=j.g[1],L=j.g[2];var z=j.g[3],N=R+(z^C&(L^z))+P[0]+3614090360&4294967295;R=C+(N<<7&4294967295|N>>>25),N=z+(L^R&(C^L))+P[1]+3905402710&4294967295,z=R+(N<<12&4294967295|N>>>20),N=L+(C^z&(R^C))+P[2]+606105819&4294967295,L=z+(N<<17&4294967295|N>>>15),N=C+(R^L&(z^R))+P[3]+3250441966&4294967295,C=L+(N<<22&4294967295|N>>>10),N=R+(z^C&(L^z))+P[4]+4118548399&4294967295,R=C+(N<<7&4294967295|N>>>25),N=z+(L^R&(C^L))+P[5]+1200080426&4294967295,z=R+(N<<12&4294967295|N>>>20),N=L+(C^z&(R^C))+P[6]+2821735955&4294967295,L=z+(N<<17&4294967295|N>>>15),N=C+(R^L&(z^R))+P[7]+4249261313&4294967295,C=L+(N<<22&4294967295|N>>>10),N=R+(z^C&(L^z))+P[8]+1770035416&4294967295,R=C+(N<<7&4294967295|N>>>25),N=z+(L^R&(C^L))+P[9]+2336552879&4294967295,z=R+(N<<12&4294967295|N>>>20),N=L+(C^z&(R^C))+P[10]+4294925233&4294967295,L=z+(N<<17&4294967295|N>>>15),N=C+(R^L&(z^R))+P[11]+2304563134&4294967295,C=L+(N<<22&4294967295|N>>>10),N=R+(z^C&(L^z))+P[12]+1804603682&4294967295,R=C+(N<<7&4294967295|N>>>25),N=z+(L^R&(C^L))+P[13]+4254626195&4294967295,z=R+(N<<12&4294967295|N>>>20),N=L+(C^z&(R^C))+P[14]+2792965006&4294967295,L=z+(N<<17&4294967295|N>>>15),N=C+(R^L&(z^R))+P[15]+1236535329&4294967295,C=L+(N<<22&4294967295|N>>>10),N=R+(L^z&(C^L))+P[1]+4129170786&4294967295,R=C+(N<<5&4294967295|N>>>27),N=z+(C^L&(R^C))+P[6]+3225465664&4294967295,z=R+(N<<9&4294967295|N>>>23),N=L+(R^C&(z^R))+P[11]+643717713&4294967295,L=z+(N<<14&4294967295|N>>>18),N=C+(z^R&(L^z))+P[0]+3921069994&4294967295,C=L+(N<<20&4294967295|N>>>12),N=R+(L^z&(C^L))+P[5]+3593408605&4294967295,R=C+(N<<5&4294967295|N>>>27),N=z+(C^L&(R^C))+P[10]+38016083&4294967295,z=R+(N<<9&4294967295|N>>>23),N=L+(R^C&(z^R))+P[15]+3634488961&4294967295,L=z+(N<<14&4294967295|N>>>18),N=C+(z^R&(L^z))+P[4]+3889429448&4294967295,C=L+(N<<20&4294967295|N>>>12),N=R+(L^z&(C^L))+P[9]+568446438&4294967295,R=C+(N<<5&4294967295|N>>>27),N=z+(C^L&(R^C))+P[14]+3275163606&4294967295,z=R+(N<<9&4294967295|N>>>23),N=L+(R^C&(z^R))+P[3]+4107603335&4294967295,L=z+(N<<14&4294967295|N>>>18),N=C+(z^R&(L^z))+P[8]+1163531501&4294967295,C=L+(N<<20&4294967295|N>>>12),N=R+(L^z&(C^L))+P[13]+2850285829&4294967295,R=C+(N<<5&4294967295|N>>>27),N=z+(C^L&(R^C))+P[2]+4243563512&4294967295,z=R+(N<<9&4294967295|N>>>23),N=L+(R^C&(z^R))+P[7]+1735328473&4294967295,L=z+(N<<14&4294967295|N>>>18),N=C+(z^R&(L^z))+P[12]+2368359562&4294967295,C=L+(N<<20&4294967295|N>>>12),N=R+(C^L^z)+P[5]+4294588738&4294967295,R=C+(N<<4&4294967295|N>>>28),N=z+(R^C^L)+P[8]+2272392833&4294967295,z=R+(N<<11&4294967295|N>>>21),N=L+(z^R^C)+P[11]+1839030562&4294967295,L=z+(N<<16&4294967295|N>>>16),N=C+(L^z^R)+P[14]+4259657740&4294967295,C=L+(N<<23&4294967295|N>>>9),N=R+(C^L^z)+P[1]+2763975236&4294967295,R=C+(N<<4&4294967295|N>>>28),N=z+(R^C^L)+P[4]+1272893353&4294967295,z=R+(N<<11&4294967295|N>>>21),N=L+(z^R^C)+P[7]+4139469664&4294967295,L=z+(N<<16&4294967295|N>>>16),N=C+(L^z^R)+P[10]+3200236656&4294967295,C=L+(N<<23&4294967295|N>>>9),N=R+(C^L^z)+P[13]+681279174&4294967295,R=C+(N<<4&4294967295|N>>>28),N=z+(R^C^L)+P[0]+3936430074&4294967295,z=R+(N<<11&4294967295|N>>>21),N=L+(z^R^C)+P[3]+3572445317&4294967295,L=z+(N<<16&4294967295|N>>>16),N=C+(L^z^R)+P[6]+76029189&4294967295,C=L+(N<<23&4294967295|N>>>9),N=R+(C^L^z)+P[9]+3654602809&4294967295,R=C+(N<<4&4294967295|N>>>28),N=z+(R^C^L)+P[12]+3873151461&4294967295,z=R+(N<<11&4294967295|N>>>21),N=L+(z^R^C)+P[15]+530742520&4294967295,L=z+(N<<16&4294967295|N>>>16),N=C+(L^z^R)+P[2]+3299628645&4294967295,C=L+(N<<23&4294967295|N>>>9),N=R+(L^(C|~z))+P[0]+4096336452&4294967295,R=C+(N<<6&4294967295|N>>>26),N=z+(C^(R|~L))+P[7]+1126891415&4294967295,z=R+(N<<10&4294967295|N>>>22),N=L+(R^(z|~C))+P[14]+2878612391&4294967295,L=z+(N<<15&4294967295|N>>>17),N=C+(z^(L|~R))+P[5]+4237533241&4294967295,C=L+(N<<21&4294967295|N>>>11),N=R+(L^(C|~z))+P[12]+1700485571&4294967295,R=C+(N<<6&4294967295|N>>>26),N=z+(C^(R|~L))+P[3]+2399980690&4294967295,z=R+(N<<10&4294967295|N>>>22),N=L+(R^(z|~C))+P[10]+4293915773&4294967295,L=z+(N<<15&4294967295|N>>>17),N=C+(z^(L|~R))+P[1]+2240044497&4294967295,C=L+(N<<21&4294967295|N>>>11),N=R+(L^(C|~z))+P[8]+1873313359&4294967295,R=C+(N<<6&4294967295|N>>>26),N=z+(C^(R|~L))+P[15]+4264355552&4294967295,z=R+(N<<10&4294967295|N>>>22),N=L+(R^(z|~C))+P[6]+2734768916&4294967295,L=z+(N<<15&4294967295|N>>>17),N=C+(z^(L|~R))+P[13]+1309151649&4294967295,C=L+(N<<21&4294967295|N>>>11),N=R+(L^(C|~z))+P[4]+4149444226&4294967295,R=C+(N<<6&4294967295|N>>>26),N=z+(C^(R|~L))+P[11]+3174756917&4294967295,z=R+(N<<10&4294967295|N>>>22),N=L+(R^(z|~C))+P[2]+718787259&4294967295,L=z+(N<<15&4294967295|N>>>17),N=C+(z^(L|~R))+P[9]+3951481745&4294967295,j.g[0]=j.g[0]+R&4294967295,j.g[1]=j.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,j.g[2]=j.g[2]+L&4294967295,j.g[3]=j.g[3]+z&4294967295}r.prototype.u=function(j,R){R===void 0&&(R=j.length);for(var C=R-this.blockSize,P=this.B,L=this.h,z=0;z<R;){if(L==0)for(;z<=C;)o(this,j,z),z+=this.blockSize;if(typeof j=="string"){for(;z<R;)if(P[L++]=j.charCodeAt(z++),L==this.blockSize){o(this,P),L=0;break}}else for(;z<R;)if(P[L++]=j[z++],L==this.blockSize){o(this,P),L=0;break}}this.h=L,this.o+=R},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var R=1;R<j.length-8;++R)j[R]=0;var C=8*this.o;for(R=j.length-8;R<j.length;++R)j[R]=C&255,C/=256;for(this.u(j),j=Array(16),R=C=0;4>R;++R)for(var P=0;32>P;P+=8)j[C++]=this.g[R]>>>P&255;return j};function l(j,R){var C=p;return Object.prototype.hasOwnProperty.call(C,j)?C[j]:C[j]=R(j)}function d(j,R){this.h=R;for(var C=[],P=!0,L=j.length-1;0<=L;L--){var z=j[L]|0;P&&z==R||(C[L]=z,P=!1)}this.g=C}var p={};function f(j){return-128<=j&&128>j?l(j,function(R){return new d([R|0],0>R?-1:0)}):new d([j|0],0>j?-1:0)}function m(j){if(isNaN(j)||!isFinite(j))return b;if(0>j)return M(m(-j));for(var R=[],C=1,P=0;j>=C;P++)R[P]=j/C|0,C*=4294967296;return new d(R,0)}function y(j,R){if(j.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(j.charAt(0)=="-")return M(y(j.substring(1),R));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(R,8)),P=b,L=0;L<j.length;L+=8){var z=Math.min(8,j.length-L),N=parseInt(j.substring(L,L+z),R);8>z?(z=m(Math.pow(R,z)),P=P.j(z).add(m(N))):(P=P.j(C),P=P.add(m(N)))}return P}var b=f(0),T=f(1),I=f(16777216);i=d.prototype,i.m=function(){if(U(this))return-M(this).m();for(var j=0,R=1,C=0;C<this.g.length;C++){var P=this.i(C);j+=(0<=P?P:4294967296+P)*R,R*=4294967296}return j},i.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(S(this))return"0";if(U(this))return"-"+M(this).toString(j);for(var R=m(Math.pow(j,6)),C=this,P="";;){var L=ce(C,R).g;C=F(C,L.j(R));var z=((0<C.g.length?C.g[0]:C.h)>>>0).toString(j);if(C=L,S(C))return z+P;for(;6>z.length;)z="0"+z;P=z+P}},i.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function S(j){if(j.h!=0)return!1;for(var R=0;R<j.g.length;R++)if(j.g[R]!=0)return!1;return!0}function U(j){return j.h==-1}i.l=function(j){return j=F(this,j),U(j)?-1:S(j)?0:1};function M(j){for(var R=j.g.length,C=[],P=0;P<R;P++)C[P]=~j.g[P];return new d(C,~j.h).add(T)}i.abs=function(){return U(this)?M(this):this},i.add=function(j){for(var R=Math.max(this.g.length,j.g.length),C=[],P=0,L=0;L<=R;L++){var z=P+(this.i(L)&65535)+(j.i(L)&65535),N=(z>>>16)+(this.i(L)>>>16)+(j.i(L)>>>16);P=N>>>16,z&=65535,N&=65535,C[L]=N<<16|z}return new d(C,C[C.length-1]&-2147483648?-1:0)};function F(j,R){return j.add(M(R))}i.j=function(j){if(S(this)||S(j))return b;if(U(this))return U(j)?M(this).j(M(j)):M(M(this).j(j));if(U(j))return M(this.j(M(j)));if(0>this.l(I)&&0>j.l(I))return m(this.m()*j.m());for(var R=this.g.length+j.g.length,C=[],P=0;P<2*R;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var L=0;L<j.g.length;L++){var z=this.i(P)>>>16,N=this.i(P)&65535,ye=j.i(L)>>>16,_e=j.i(L)&65535;C[2*P+2*L]+=N*_e,Z(C,2*P+2*L),C[2*P+2*L+1]+=z*_e,Z(C,2*P+2*L+1),C[2*P+2*L+1]+=N*ye,Z(C,2*P+2*L+1),C[2*P+2*L+2]+=z*ye,Z(C,2*P+2*L+2)}for(P=0;P<R;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=R;P<2*R;P++)C[P]=0;return new d(C,0)};function Z(j,R){for(;(j[R]&65535)!=j[R];)j[R+1]+=j[R]>>>16,j[R]&=65535,R++}function G(j,R){this.g=j,this.h=R}function ce(j,R){if(S(R))throw Error("division by zero");if(S(j))return new G(b,b);if(U(j))return R=ce(M(j),R),new G(M(R.g),M(R.h));if(U(R))return R=ce(j,M(R)),new G(M(R.g),R.h);if(30<j.g.length){if(U(j)||U(R))throw Error("slowDivide_ only works with positive integers.");for(var C=T,P=R;0>=P.l(j);)C=ue(C),P=ue(P);var L=Te(C,1),z=Te(P,1);for(P=Te(P,2),C=Te(C,2);!S(P);){var N=z.add(P);0>=N.l(j)&&(L=L.add(C),z=N),P=Te(P,1),C=Te(C,1)}return R=F(j,L.j(R)),new G(L,R)}for(L=b;0<=j.l(R);){for(C=Math.max(1,Math.floor(j.m()/R.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),z=m(C),N=z.j(R);U(N)||0<N.l(j);)C-=P,z=m(C),N=z.j(R);S(z)&&(z=T),L=L.add(z),j=F(j,N)}return new G(L,j)}i.A=function(j){return ce(this,j).h},i.and=function(j){for(var R=Math.max(this.g.length,j.g.length),C=[],P=0;P<R;P++)C[P]=this.i(P)&j.i(P);return new d(C,this.h&j.h)},i.or=function(j){for(var R=Math.max(this.g.length,j.g.length),C=[],P=0;P<R;P++)C[P]=this.i(P)|j.i(P);return new d(C,this.h|j.h)},i.xor=function(j){for(var R=Math.max(this.g.length,j.g.length),C=[],P=0;P<R;P++)C[P]=this.i(P)^j.i(P);return new d(C,this.h^j.h)};function ue(j){for(var R=j.g.length+1,C=[],P=0;P<R;P++)C[P]=j.i(P)<<1|j.i(P-1)>>>31;return new d(C,j.h)}function Te(j,R){var C=R>>5;R%=32;for(var P=j.g.length-C,L=[],z=0;z<P;z++)L[z]=0<R?j.i(z+C)>>>R|j.i(z+C+1)<<32-R:j.i(z+C);return new d(L,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,pT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=m,d.fromString=y,Or=d}).apply(typeof yb<"u"?yb:typeof self<"u"?self:typeof window<"u"?window:{});var md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mT,hc,gT,Cd,bm,vT,yT,_T;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,_,E){return u==Array.prototype||u==Object.prototype||(u[_]=E.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof md=="object"&&md];for(var _=0;_<u.length;++_){var E=u[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function o(u,_){if(_)e:{var E=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var q=u[A];if(!(q in E))break e;E=E[q]}u=u[u.length-1],A=E[u],_=_(A),_!=A&&_!=null&&e(E,u,{configurable:!0,writable:!0,value:_})}}function l(u,_){u instanceof String&&(u+="");var E=0,A=!1,q={next:function(){if(!A&&E<u.length){var X=E++;return{value:_(X,u[X]),done:!1}}return A=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(u){return u||function(){return l(this,function(_,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function f(u){var _=typeof u;return _=_!="object"?_:u?Array.isArray(u)?"array":_:"null",_=="array"||_=="object"&&typeof u.length=="number"}function m(u){var _=typeof u;return _=="object"&&u!=null||_=="function"}function y(u,_,E){return u.call.apply(u.bind,arguments)}function b(u,_,E){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,A),u.apply(_,q)}}return function(){return u.apply(_,arguments)}}function T(u,_,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:b,T.apply(null,arguments)}function I(u,_){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,_){function E(){}E.prototype=_.prototype,u.aa=_.prototype,u.prototype=new E,u.prototype.constructor=u,u.Qb=function(A,q,X){for(var de=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)de[Ye-2]=arguments[Ye];return _.prototype[q].apply(A,de)}}function U(u){const _=u.length;if(0<_){const E=Array(_);for(let A=0;A<_;A++)E[A]=u[A];return E}return[]}function M(u,_){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(f(A)){const q=u.length||0,X=A.length||0;u.length=q+X;for(let de=0;de<X;de++)u[q+de]=A[de]}else u.push(A)}}class F{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function Z(u){return/^[\s\xa0]*$/.test(u)}function G(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function ce(u){return ce[" "](u),u}ce[" "]=function(){};var ue=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function Te(u,_,E){for(const A in u)_.call(E,u[A],A,u)}function j(u,_){for(const E in u)_.call(void 0,u[E],E,u)}function R(u){const _={};for(const E in u)_[E]=u[E];return _}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,_){let E,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(E in A)u[E]=A[E];for(let X=0;X<C.length;X++)E=C[X],Object.prototype.hasOwnProperty.call(A,E)&&(u[E]=A[E])}}function L(u){var _=1;u=u.split(":");const E=[];for(;0<_&&u.length;)E.push(u.shift()),_--;return u.length&&E.push(u.join(":")),E}function z(u){p.setTimeout(()=>{throw u},0)}function N(){var u=se;let _=null;return u.g&&(_=u.g,u.g=u.g.next,u.g||(u.h=null),_.next=null),_}class ye{constructor(){this.h=this.g=null}add(_,E){const A=_e.get();A.set(_,E),this.h?this.h.next=A:this.g=A,this.h=A}}var _e=new F(()=>new Q,u=>u.reset());class Q{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let re,he=!1,se=new ye,O=()=>{const u=p.Promise.resolve(void 0);re=()=>{u.then(J)}};var J=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(E){z(E)}var _=_e;_.j(u),100>_.h&&(_.h++,u.next=_.g,_.g=u)}he=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(u,_){this.type=u,this.g=this.target=_,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,_=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};p.addEventListener("test",E,_),p.removeEventListener("test",E,_)}catch{}return u}();function ke(u,_){if(ie.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var E=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=_,_=u.relatedTarget){if(ue){e:{try{ce(_.nodeName);var q=!0;break e}catch{}q=!1}q||(_=null)}}else E=="mouseover"?_=u.fromElement:E=="mouseout"&&(_=u.toElement);this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:we[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ke.aa.h.call(this)}}S(ke,ie);var we={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),Je=0;function dn(u,_,E,A,q){this.listener=u,this.proxy=null,this.src=_,this.type=E,this.capture=!!A,this.ha=q,this.key=++Je,this.da=this.fa=!1}function Sn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function jt(u){this.src=u,this.g={},this.h=0}jt.prototype.add=function(u,_,E,A,q){var X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);var de=ni(u,_,A,q);return-1<de?(_=u[de],E||(_.fa=!1)):(_=new dn(_,this.src,X,!!A,q),_.fa=E,u.push(_)),_};function hn(u,_){var E=_.type;if(E in u.g){var A=u.g[E],q=Array.prototype.indexOf.call(A,_,void 0),X;(X=0<=q)&&Array.prototype.splice.call(A,q,1),X&&(Sn(_),u.g[E].length==0&&(delete u.g[E],u.h--))}}function ni(u,_,E,A){for(var q=0;q<u.length;++q){var X=u[q];if(!X.da&&X.listener==_&&X.capture==!!E&&X.ha==A)return q}return-1}var ii="closure_lm_"+(1e6*Math.random()|0),zi={};function ha(u,_,E,A,q){if(Array.isArray(_)){for(var X=0;X<_.length;X++)ha(u,_[X],E,A,q);return null}return E=Se(E),u&&u[wt]?u.K(_,E,m(A)?!!A.capture:!1,q):Rt(u,_,E,!1,A,q)}function Rt(u,_,E,A,q,X){if(!_)throw Error("Invalid event type");var de=m(q)?!!q.capture:!!q,Ye=Ti(u);if(Ye||(u[ii]=Ye=new jt(u)),E=Ye.add(_,E,A,de,X),E.proxy)return E;if(A=ai(),E.proxy=A,A.src=u,A.listener=E,u.addEventListener)pe||(q=de),q===void 0&&(q=!1),u.addEventListener(_.toString(),A,q);else if(u.attachEvent)u.attachEvent(qn(_.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ai(){function u(E){return _.call(u.src,u.listener,E)}const _=wi;return u}function Fn(u,_,E,A,q){if(Array.isArray(_))for(var X=0;X<_.length;X++)Fn(u,_[X],E,A,q);else A=m(A)?!!A.capture:!!A,E=Se(E),u&&u[wt]?(u=u.i,_=String(_).toString(),_ in u.g&&(X=u.g[_],E=ni(X,E,A,q),-1<E&&(Sn(X[E]),Array.prototype.splice.call(X,E,1),X.length==0&&(delete u.g[_],u.h--)))):u&&(u=Ti(u))&&(_=u.g[_.toString()],u=-1,_&&(u=ni(_,E,A,q)),(E=-1<u?_[u]:null)&&Rn(E))}function Rn(u){if(typeof u!="number"&&u&&!u.da){var _=u.src;if(_&&_[wt])hn(_.i,u);else{var E=u.type,A=u.proxy;_.removeEventListener?_.removeEventListener(E,A,u.capture):_.detachEvent?_.detachEvent(qn(E),A):_.addListener&&_.removeListener&&_.removeListener(A),(E=Ti(_))?(hn(E,u),E.h==0&&(E.src=null,_[ii]=null)):Sn(u)}}}function qn(u){return u in zi?zi[u]:zi[u]="on"+u}function wi(u,_){if(u.da)u=!0;else{_=new ke(_,this);var E=u.listener,A=u.ha||u.src;u.fa&&Rn(u),u=E.call(A,_)}return u}function Ti(u){return u=u[ii],u instanceof jt?u:null}var fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Se(u){return typeof u=="function"?u:(u[fe]||(u[fe]=function(_){return u.handleEvent(_)}),u[fe])}function Le(){le.call(this),this.i=new jt(this),this.M=this,this.F=null}S(Le,le),Le.prototype[wt]=!0,Le.prototype.removeEventListener=function(u,_,E,A){Fn(this,u,_,E,A)};function Ce(u,_){var E,A=u.F;if(A)for(E=[];A;A=A.F)E.push(A);if(u=u.M,A=_.type||_,typeof _=="string")_=new ie(_,u);else if(_ instanceof ie)_.target=_.target||u;else{var q=_;_=new ie(A,u),P(_,q)}if(q=!0,E)for(var X=E.length-1;0<=X;X--){var de=_.g=E[X];q=it(de,A,!0,_)&&q}if(de=_.g=u,q=it(de,A,!0,_)&&q,q=it(de,A,!1,_)&&q,E)for(X=0;X<E.length;X++)de=_.g=E[X],q=it(de,A,!1,_)&&q}Le.prototype.N=function(){if(Le.aa.N.call(this),this.i){var u=this.i,_;for(_ in u.g){for(var E=u.g[_],A=0;A<E.length;A++)Sn(E[A]);delete u.g[_],u.h--}}this.F=null},Le.prototype.K=function(u,_,E,A){return this.i.add(String(u),_,!1,E,A)},Le.prototype.L=function(u,_,E,A){return this.i.add(String(u),_,!0,E,A)};function it(u,_,E,A){if(_=u.i.g[String(_)],!_)return!0;_=_.concat();for(var q=!0,X=0;X<_.length;++X){var de=_[X];if(de&&!de.da&&de.capture==E){var Ye=de.listener,Ht=de.ha||de.src;de.fa&&hn(u.i,de),q=Ye.call(Ht,A)!==!1&&q}}return q&&!A.defaultPrevented}function ht(u,_,E){if(typeof u=="function")E&&(u=T(u,E));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:p.setTimeout(u,_||0)}function fn(u){u.g=ht(()=>{u.g=null,u.i&&(u.i=!1,fn(u))},u.l);const _=u.h;u.h=null,u.m.apply(null,_)}class Ka extends le{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:fn(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function In(u){le.call(this),this.h=u,this.g={}}S(In,le);var Hn=[];function Cn(u){Te(u.g,function(_,E){this.g.hasOwnProperty(E)&&Rn(_)},u),u.g={}}In.prototype.N=function(){In.aa.N.call(this),Cn(this)},In.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yt=p.JSON.stringify,Gn=p.JSON.parse,Nn=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function ri(){}ri.prototype.h=null;function ge(u){return u.h||(u.h=u.i())}function oe(){}var me={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Re(){ie.call(this,"d")}S(Re,ie);function Oe(){ie.call(this,"c")}S(Oe,ie);var Ue={},rt=null;function Dn(){return rt=rt||new Le}Ue.La="serverreachability";function Qa(u){ie.call(this,Ue.La,u)}S(Qa,ie);function Ya(u){const _=Dn();Ce(_,new Qa(_))}Ue.STAT_EVENT="statevent";function $c(u,_){ie.call(this,Ue.STAT_EVENT,u),this.stat=_}S($c,ie);function yt(u){const _=Dn();Ce(_,new $c(_,u))}Ue.Ma="timingevent";function qt(u,_){ie.call(this,Ue.Ma,u),this.size=_}S(qt,ie);function Lt(u,_){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},_)}function si(){this.g=!0}si.prototype.xa=function(){this.g=!1};function sl(u,_,E,A,q,X){u.info(function(){if(u.g)if(X)for(var de="",Ye=X.split("&"),Ht=0;Ht<Ye.length;Ht++){var Xe=Ye[Ht].split("=");if(1<Xe.length){var Wt=Xe[0];Xe=Xe[1];var Gt=Wt.split("_");de=2<=Gt.length&&Gt[1]=="type"?de+(Wt+"="+Xe+"&"):de+(Wt+"=redacted&")}}else de=null;else de=X;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+_+`
`+E+`
`+de})}function Uh(u,_,E,A,q,X,de){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+_+`
`+E+`
`+X+" "+de})}function Xa(u,_,E,A){u.info(function(){return"XMLHTTP TEXT ("+_+"): "+qr(u,E)+(A?" "+A:"")})}function Kc(u,_){u.info(function(){return"TIMEOUT: "+_})}si.prototype.info=function(){};function qr(u,_){if(!u.g)return _;if(!_)return null;try{var E=JSON.parse(_);if(E){for(u=0;u<E.length;u++)if(Array.isArray(E[u])){var A=E[u];if(!(2>A.length)){var q=A[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var de=1;de<q.length;de++)q[de]=""}}}}return Yt(E)}catch{return _}}var Wa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bi;function Fi(){}S(Fi,ri),Fi.prototype.g=function(){return new XMLHttpRequest},Fi.prototype.i=function(){return{}},Bi=new Fi;function bn(u,_,E,A){this.j=u,this.i=_,this.l=E,this.R=A||1,this.U=new In(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ot}function Ot(){this.i=null,this.g="",this.h=!1}var ol={},Ls={};function xi(u,_,E){u.L=1,u.v=Qr($n(_)),u.m=E,u.P=!0,pa(u,null)}function pa(u,_){u.F=Date.now(),Hr(u),u.A=$n(u.v);var E=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),fl(E.i,"t",A),u.C=0,E=u.j.J,u.h=new Ot,u.g=cu(u.j,E?_:null,!u.m),0<u.O&&(u.M=new Ka(T(u.Y,u,u.g),u.O)),_=u.U,E=u.g,A=u.ca;var q="readystatechange";Array.isArray(q)||(q&&(Hn[0]=q.toString()),q=Hn);for(var X=0;X<q.length;X++){var de=ha(E,q[X],A||_.handleEvent,!1,_.h||_);if(!de)break;_.g[de.key]=de}_=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,_)):(u.u="GET",u.g.ea(u.A,u.u,null,_)),Ya(),sl(u.i,u.u,u.A,u.l,u.R,u.m)}bn.prototype.ca=function(u){u=u.target;const _=this.M;_&&ui(u)==3?_.j():this.Y(u)},bn.prototype.Y=function(u){try{if(u==this.g)e:{const Gt=ui(this.g);var _=this.g.Ba();const wa=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||tu(this.g)))){this.J||Gt!=4||_==7||(_==8||0>=wa?Ya(3):Ya(2)),Za(this);var E=this.g.Z();this.X=E;t:if(Qc(this)){var A=tu(this.g);u="";var q=A.length,X=ui(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nn(this),qi(this);var de="";break t}this.h.i=new p.TextDecoder}for(_=0;_<q;_++)this.h.h=!0,u+=this.h.i.decode(A[_],{stream:!(X&&_==q-1)});A.length=0,this.h.g+=u,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=E==200,Uh(this.i,this.u,this.A,this.l,this.R,Gt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Ht=this.g;if((Ye=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Ye)){var Xe=Ye;break t}}Xe=null}if(E=Xe)Xa(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gr(this,E);else{this.o=!1,this.s=3,yt(12),nn(this),qi(this);break e}}if(this.P){E=!0;let an;for(;!this.J&&this.C<de.length;)if(an=Yc(this,de),an==Ls){Gt==4&&(this.s=4,yt(14),E=!1),Xa(this.i,this.l,null,"[Incomplete Response]");break}else if(an==ol){this.s=4,yt(15),Xa(this.i,this.l,de,"[Invalid Chunk]"),E=!1;break}else Xa(this.i,this.l,an,null),Gr(this,an);if(Qc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||de.length!=0||this.h.h||(this.s=1,yt(16),E=!1),this.o=this.o&&E,!E)Xa(this.i,this.l,de,"[Invalid Chunked Response]"),nn(this),qi(this);else if(0<de.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),ns(Wt),Wt.M=!0,yt(11))}}else Xa(this.i,this.l,de,null),Gr(this,de);Gt==4&&nn(this),this.o&&!this.J&&(Gt==4?su(this.j,this):(this.o=!1,Hr(this)))}else Hh(this.g),E==400&&0<de.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),nn(this),qi(this)}}}catch{}finally{}};function Qc(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Yc(u,_){var E=u.C,A=_.indexOf(`
`,E);return A==-1?Ls:(E=Number(_.substring(E,A)),isNaN(E)?ol:(A+=1,A+E>_.length?Ls:(_=_.slice(A,A+E),u.C=A+E,_)))}bn.prototype.cancel=function(){this.J=!0,nn(this)};function Hr(u){u.S=Date.now()+u.I,Xc(u,u.I)}function Xc(u,_){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Lt(T(u.ba,u),_)}function Za(u){u.B&&(p.clearTimeout(u.B),u.B=null)}bn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Kc(this.i,this.A),this.L!=2&&(Ya(),yt(17)),nn(this),this.s=2,qi(this)):Xc(this,this.S-u)};function qi(u){u.j.G==0||u.J||su(u.j,u)}function nn(u){Za(u);var _=u.M;_&&typeof _.ma=="function"&&_.ma(),u.M=null,Cn(u.U),u.g&&(_=u.g,u.g=null,_.abort(),_.ma())}function Gr(u,_){try{var E=u.j;if(E.G!=0&&(E.g==u||ll(E.h,u))){if(!u.K&&ll(E.h,u)&&E.G==3){try{var A=E.Da.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<u.F)Ys(E),Ks(E);else break e;yl(E),yt(18)}}else E.za=q[1],0<E.za-E.T&&37500>q[2]&&E.F&&E.v==0&&!E.C&&(E.C=Lt(T(E.Za,E),6e3));if(1>=Us(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else ba(E,11)}else if((u.K||E.g==u)&&Ys(E),!Z(_))for(q=E.Da.g.parse(_),_=0;_<q.length;_++){let Xe=q[_];if(E.T=Xe[0],Xe=Xe[1],E.G==2)if(Xe[0]=="c"){E.K=Xe[1],E.ia=Xe[2];const Wt=Xe[3];Wt!=null&&(E.la=Wt,E.j.info("VER="+E.la));const Gt=Xe[4];Gt!=null&&(E.Aa=Gt,E.j.info("SVER="+E.Aa));const wa=Xe[5];wa!=null&&typeof wa=="number"&&0<wa&&(A=1.5*wa,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const an=u.g;if(an){const Xi=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xi){var X=A.h;X.g||Xi.indexOf("spdy")==-1&&Xi.indexOf("quic")==-1&&Xi.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(zs(X,X.h),X.h=null))}if(A.D){const El=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;El&&(A.ya=El,lt(A.I,A.D,El))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-u.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var de=u;if(A.qa=lu(A,A.J?A.ia:null,A.W),de.K){wn(A.h,de);var Ye=de,Ht=A.L;Ht&&(Ye.I=Ht),Ye.B&&(Za(Ye),Hr(Ye)),A.g=de}else au(A);0<E.i.length&&Qs(E)}else Xe[0]!="stop"&&Xe[0]!="close"||ba(E,7);else E.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?ba(E,7):gl(E):Xe[0]!="noop"&&E.l&&E.l.ta(Xe),E.v=0)}}Ya(4)}catch{}}var Wc=class{constructor(u,_){this.g=u,this.map=_}};function ma(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Us(u){return u.h?1:u.g?u.g.size:0}function ll(u,_){return u.h?u.h==_:u.g?u.g.has(_):!1}function zs(u,_){u.g?u.g.add(_):u.h=_}function wn(u,_){u.h&&u.h==_?u.h=null:u.g&&u.g.has(_)&&u.g.delete(_)}ma.prototype.cancel=function(){if(this.i=cl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function cl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let _=u.i;for(const E of u.g.values())_=_.concat(E.D);return _}return U(u.i)}function zh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(f(u)){for(var _=[],E=u.length,A=0;A<E;A++)_.push(u[A]);return _}_=[],E=0;for(A in u)_[E++]=u[A];return _}function Bs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(f(u)||typeof u=="string"){var _=[];u=u.length;for(var E=0;E<u;E++)_.push(E);return _}_=[],E=0;for(const A in u)_[E++]=A;return _}}}function ul(u,_){if(u.forEach&&typeof u.forEach=="function")u.forEach(_,void 0);else if(f(u)||typeof u=="string")Array.prototype.forEach.call(u,_,void 0);else for(var E=Bs(u),A=zh(u),q=A.length,X=0;X<q;X++)_.call(void 0,A[X],E&&E[X],u)}var $r=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bh(u,_){if(u){u=u.split("&");for(var E=0;E<u.length;E++){var A=u[E].indexOf("="),q=null;if(0<=A){var X=u[E].substring(0,A);q=u[E].substring(A+1)}else X=u[E];_(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Vt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Vt){this.h=u.h,Kr(this,u.j),this.o=u.o,this.g=u.g,Ja(this,u.s),this.l=u.l;var _=u.i,E=new va;E.i=_.i,_.g&&(E.g=new Map(_.g),E.h=_.h),ga(this,E),this.m=u.m}else u&&(_=String(u).match($r))?(this.h=!1,Kr(this,_[1]||"",!0),this.o=oi(_[2]||""),this.g=oi(_[3]||"",!0),Ja(this,_[4]),this.l=oi(_[5]||"",!0),ga(this,_[6]||"",!0),this.m=oi(_[7]||"")):(this.h=!1,this.i=new va(null,this.h))}Vt.prototype.toString=function(){var u=[],_=this.j;_&&u.push(Yr(_,dl,!0),":");var E=this.g;return(E||_=="file")&&(u.push("//"),(_=this.o)&&u.push(Yr(_,dl,!0),"@"),u.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&u.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Yr(E,E.charAt(0)=="/"?Fh:hl,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Yr(E,Fs)),u.join("")};function $n(u){return new Vt(u)}function Kr(u,_,E){u.j=E?oi(_,!0):_,u.j&&(u.j=u.j.replace(/:$/,""))}function Ja(u,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);u.s=_}else u.s=null}function ga(u,_,E){_ instanceof va?(u.i=_,Jc(u.i,u.h)):(E||(_=Yr(_,qh)),u.i=new va(_,u.h))}function lt(u,_,E){u.i.set(_,E)}function Qr(u){return lt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function oi(u,_){return u?_?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Yr(u,_,E){return typeof u=="string"?(u=encodeURI(u).replace(_,Zc),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Zc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var dl=/[#\/\?@]/g,hl=/[#\?:]/g,Fh=/[#\?]/g,qh=/[#\?@]/g,Fs=/#/g;function va(u,_){this.h=this.g=null,this.i=u||null,this.j=!!_}function li(u){u.g||(u.g=new Map,u.h=0,u.i&&Bh(u.i,function(_,E){u.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}i=va.prototype,i.add=function(u,_){li(this),this.i=null,u=Hi(this,u);var E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(_),this.h+=1,this};function ya(u,_){li(u),_=Hi(u,_),u.g.has(_)&&(u.i=null,u.h-=u.g.get(_).length,u.g.delete(_))}function _a(u,_){return li(u),_=Hi(u,_),u.g.has(_)}i.forEach=function(u,_){li(this),this.g.forEach(function(E,A){E.forEach(function(q){u.call(_,q,A,this)},this)},this)},i.na=function(){li(this);const u=Array.from(this.g.values()),_=Array.from(this.g.keys()),E=[];for(let A=0;A<_.length;A++){const q=u[A];for(let X=0;X<q.length;X++)E.push(_[A])}return E},i.V=function(u){li(this);let _=[];if(typeof u=="string")_a(this,u)&&(_=_.concat(this.g.get(Hi(this,u))));else{u=Array.from(this.g.values());for(let E=0;E<u.length;E++)_=_.concat(u[E])}return _},i.set=function(u,_){return li(this),this.i=null,u=Hi(this,u),_a(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[_]),this.h+=1,this},i.get=function(u,_){return u?(u=this.V(u),0<u.length?String(u[0]):_):_};function fl(u,_,E){ya(u,_),0<E.length&&(u.i=null,u.g.set(Hi(u,_),U(E)),u.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],_=Array.from(this.g.keys());for(var E=0;E<_.length;E++){var A=_[E];const X=encodeURIComponent(String(A)),de=this.V(A);for(A=0;A<de.length;A++){var q=X;de[A]!==""&&(q+="="+encodeURIComponent(String(de[A]))),u.push(q)}}return this.i=u.join("&")};function Hi(u,_){return _=String(_),u.j&&(_=_.toLowerCase()),_}function Jc(u,_){_&&!u.j&&(li(u),u.i=null,u.g.forEach(function(E,A){var q=A.toLowerCase();A!=q&&(ya(this,A),fl(this,q,E))},u)),u.j=_}function Xr(u,_){const E=new si;if(p.Image){const A=new Image;A.onload=I(ci,E,"TestLoadImage: loaded",!0,_,A),A.onerror=I(ci,E,"TestLoadImage: error",!1,_,A),A.onabort=I(ci,E,"TestLoadImage: abort",!1,_,A),A.ontimeout=I(ci,E,"TestLoadImage: timeout",!1,_,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else _(!1)}function Ai(u,_){const E=new si,A=new AbortController,q=setTimeout(()=>{A.abort(),ci(E,"TestPingServer: timeout",!1,_)},1e4);fetch(u,{signal:A.signal}).then(X=>{clearTimeout(q),X.ok?ci(E,"TestPingServer: ok",!0,_):ci(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),ci(E,"TestPingServer: error",!1,_)})}function ci(u,_,E,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(E)}catch{}}function Wr(){this.g=new Nn}function Gi(u,_,E){const A=E||"";try{ul(u,function(q,X){let de=q;m(q)&&(de=Yt(q)),_.push(A+X+"="+encodeURIComponent(de))})}catch(q){throw _.push(A+"type="+encodeURIComponent("_badmap")),q}}function er(u){this.l=u.Ub||null,this.j=u.eb||!1}S(er,ri),er.prototype.g=function(){return new Ea(this.l,this.j)},er.prototype.i=function(u){return function(){return u}}({});function Ea(u,_){Le.call(this),this.D=u,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Ea,Le),i=Ea.prototype,i.open=function(u,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=_,this.readyState=1,Ki(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(_.body=u),(this.D||p).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$i(this)),this.readyState=0},i.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ki(this)),this.g&&(this.readyState=3,Ki(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function pl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}i.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var _=u.value?u.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!u.done}))&&(this.response=this.responseText+=_)}u.done?$i(this):Ki(this),this.readyState==3&&pl(this)}},i.Ra=function(u){this.g&&(this.response=this.responseText=u,$i(this))},i.Qa=function(u){this.g&&(this.response=u,$i(this))},i.ga=function(){this.g&&$i(this)};function $i(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ki(u)}i.setRequestHeader=function(u,_){this.u.append(u,_)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=_.next();return u.join(`\r
`)};function Ki(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ea.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ml(u){let _="";return Te(u,function(E,A){_+=A,_+=":",_+=E,_+=`\r
`}),_}function Xt(u,_,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=ml(E),typeof u=="string"?E!=null&&encodeURIComponent(String(E)):lt(u,_,E))}function at(u){Le.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(at,Le);var qs=/^https?$/i,Zr=["POST","PUT"];i=at.prototype,i.Ha=function(u){this.J=u},i.ea=function(u,_,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);_=_?_.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bi.g(),this.v=this.o?ge(this.o):ge(Bi),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(_,String(u),!0),this.B=!1}catch(X){eu(this,X);return}if(u=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)E.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())E.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),q=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Zr,_,void 0))||A||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,de]of E)this.g.setRequestHeader(X,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jr(this),this.u=!0,this.g.send(u),this.u=!1}catch(X){eu(this,X)}};function eu(u,_){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=_,u.m=5,Hs(u),Qi(u)}function Hs(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ce(this,"complete"),Ce(this,"abort"),Qi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),at.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Gs(this):this.bb())},i.bb=function(){Gs(this)};function Gs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||ui(u)!=4||u.Z()!=2)){if(u.u&&ui(u)==4)ht(u.Ea,0,u);else if(Ce(u,"readystatechange"),ui(u)==4){u.h=!1;try{const de=u.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var A;if(A=de===0){var q=String(u.D).match($r)[1]||null;!q&&p.self&&p.self.location&&(q=p.self.location.protocol.slice(0,-1)),A=!qs.test(q?q.toLowerCase():"")}E=A}if(E)Ce(u,"complete"),Ce(u,"success");else{u.m=6;try{var X=2<ui(u)?u.g.statusText:""}catch{X=""}u.l=X+" ["+u.Z()+"]",Hs(u)}}finally{Qi(u)}}}}function Qi(u,_){if(u.g){Jr(u);const E=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,_||Ce(u,"ready");try{E.onreadystatechange=A}catch{}}}function Jr(u){u.I&&(p.clearTimeout(u.I),u.I=null)}i.isActive=function(){return!!this.g};function ui(u){return u.g?u.g.readyState:0}i.Z=function(){try{return 2<ui(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(u){if(this.g){var _=this.g.responseText;return u&&_.indexOf(u)==0&&(_=_.substring(u.length)),Gn(_)}};function tu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Hh(u){const _={};u=(u.g&&2<=ui(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(Z(u[A]))continue;var E=L(u[A]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=_[q]||[];_[q]=X,X.push(E)}j(_,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function es(u,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||_}function $s(u){this.Aa=0,this.i=[],this.j=new si,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=es("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=es("baseRetryDelayMs",5e3,u),this.cb=es("retryDelaySeedMs",1e4,u),this.Wa=es("forwardChannelMaxRetries",2,u),this.wa=es("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ma(u&&u.concurrentRequestLimit),this.Da=new Wr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=$s.prototype,i.la=8,i.G=1,i.connect=function(u,_,E,A){yt(0),this.W=u,this.H=_||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=lu(this,null,this.W),Qs(this)};function gl(u){if(nu(u),u.G==3){var _=u.U++,E=$n(u.I);if(lt(E,"SID",u.K),lt(E,"RID",_),lt(E,"TYPE","terminate"),ts(u,E),_=new bn(u,u.j,_),_.L=2,_.v=Qr($n(E)),E=!1,p.navigator&&p.navigator.sendBeacon)try{E=p.navigator.sendBeacon(_.v.toString(),"")}catch{}!E&&p.Image&&(new Image().src=_.v,E=!0),E||(_.g=cu(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Hr(_)}ou(u)}function Ks(u){u.g&&(ns(u),u.g.cancel(),u.g=null)}function nu(u){Ks(u),u.u&&(p.clearTimeout(u.u),u.u=null),Ys(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function Qs(u){if(!Vs(u.h)&&!u.s){u.s=!0;var _=u.Ga;re||O(),he||(re(),he=!0),se.add(_,u),u.B=0}}function Gh(u,_){return Us(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=_.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Lt(T(u.Ga,u,_),_l(u,u.B)),u.B++,!0)}i.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const q=new bn(this,this.j,u);let X=this.o;if(this.S&&(X?(X=R(X),P(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,4096<_){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=iu(this,q,_),E=$n(this.I),lt(E,"RID",u),lt(E,"CVER",22),this.D&&lt(E,"X-HTTP-Session-Id",this.D),ts(this,E),X&&(this.O?_="headers="+encodeURIComponent(String(ml(X)))+"&"+_:this.m&&Xt(E,this.m,X)),zs(this.h,q),this.Ua&&lt(E,"TYPE","init"),this.P?(lt(E,"$req",_),lt(E,"SID","null"),q.T=!0,xi(q,E,null)):xi(q,E,_),this.G=2}}else this.G==3&&(u?vl(this,u):this.i.length==0||Vs(this.h)||vl(this))};function vl(u,_){var E;_?E=_.l:E=u.U++;const A=$n(u.I);lt(A,"SID",u.K),lt(A,"RID",E),lt(A,"AID",u.T),ts(u,A),u.m&&u.o&&Xt(A,u.m,u.o),E=new bn(u,u.j,E,u.B+1),u.m===null&&(E.H=u.o),_&&(u.i=_.D.concat(u.i)),_=iu(u,E,1e3),E.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),zs(u.h,E),xi(E,A,_)}function ts(u,_){u.H&&Te(u.H,function(E,A){lt(_,A,E)}),u.l&&ul({},function(E,A){lt(_,A,E)})}function iu(u,_,E){E=Math.min(u.i.length,E);var A=u.l?T(u.l.Na,u.l,u):null;e:{var q=u.i;let X=-1;for(;;){const de=["count="+E];X==-1?0<E?(X=q[0].g,de.push("ofs="+X)):X=0:de.push("ofs="+X);let Ye=!0;for(let Ht=0;Ht<E;Ht++){let Xe=q[Ht].g;const Wt=q[Ht].map;if(Xe-=X,0>Xe)X=Math.max(0,q[Ht].g-100),Ye=!1;else try{Gi(Wt,de,"req"+Xe+"_")}catch{A&&A(Wt)}}if(Ye){A=de.join("&");break e}}}return u=u.i.splice(0,E),_.D=u,A}function au(u){if(!u.g&&!u.u){u.Y=1;var _=u.Fa;re||O(),he||(re(),he=!0),se.add(_,u),u.v=0}}function yl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Lt(T(u.Fa,u),_l(u,u.v)),u.v++,!0)}i.Fa=function(){if(this.u=null,ru(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Lt(T(this.ab,this),u)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),Ks(this),ru(this))};function ns(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function ru(u){u.g=new bn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var _=$n(u.qa);lt(_,"RID","rpc"),lt(_,"SID",u.K),lt(_,"AID",u.T),lt(_,"CI",u.F?"0":"1"),!u.F&&u.ja&&lt(_,"TO",u.ja),lt(_,"TYPE","xmlhttp"),ts(u,_),u.m&&u.o&&Xt(_,u.m,u.o),u.L&&(u.g.I=u.L);var E=u.g;u=u.ia,E.L=1,E.v=Qr($n(_)),E.m=null,E.P=!0,pa(E,u)}i.Za=function(){this.C!=null&&(this.C=null,Ks(this),yl(this),yt(19))};function Ys(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function su(u,_){var E=null;if(u.g==_){Ys(u),ns(u),u.g=null;var A=2}else if(ll(u.h,_))E=_.D,wn(u.h,_),A=1;else return;if(u.G!=0){if(_.o)if(A==1){E=_.m?_.m.length:0,_=Date.now()-_.F;var q=u.B;A=Dn(),Ce(A,new qt(A,E)),Qs(u)}else au(u);else if(q=_.s,q==3||q==0&&0<_.X||!(A==1&&Gh(u,_)||A==2&&yl(u)))switch(E&&0<E.length&&(_=u.h,_.i=_.i.concat(E)),q){case 1:ba(u,5);break;case 4:ba(u,10);break;case 3:ba(u,6);break;default:ba(u,2)}}}function _l(u,_){let E=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(E*=2),E*_}function ba(u,_){if(u.j.info("Error code "+_),_==2){var E=T(u.fb,u),A=u.Xa;const q=!A;A=new Vt(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Kr(A,"https"),Qr(A),q?Xr(A.toString(),E):Ai(A.toString(),E)}else yt(2);u.G=0,u.l&&u.l.sa(_),ou(u),nu(u)}i.fb=function(u){u?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function ou(u){if(u.G=0,u.ka=[],u.l){const _=cl(u.h);(_.length!=0||u.i.length!=0)&&(M(u.ka,_),M(u.ka,u.i),u.h.i.length=0,U(u.i),u.i.length=0),u.l.ra()}}function lu(u,_,E){var A=E instanceof Vt?$n(E):new Vt(E);if(A.g!="")_&&(A.g=_+"."+A.g),Ja(A,A.s);else{var q=p.location;A=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;var X=new Vt(null);A&&Kr(X,A),_&&(X.g=_),q&&Ja(X,q),E&&(X.l=E),A=X}return E=u.D,_=u.ya,E&&_&&lt(A,E,_),lt(A,"VER",u.la),ts(u,A),A}function cu(u,_,E){if(_&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=u.Ca&&!u.pa?new at(new er({eb:E})):new at(u.pa),_.Ha(u.J),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function uu(){}i=uu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Xs(){}Xs.prototype.g=function(u,_){return new Tn(u,_)};function Tn(u,_){Le.call(this),this.g=new $s(_),this.l=u,this.h=_&&_.messageUrlParams||null,u=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(u?u["X-WebChannel-Content-Type"]=_.messageContentType:u={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(u?u["X-WebChannel-Client-Profile"]=_.va:u={"X-WebChannel-Client-Profile":_.va}),this.g.S=u,(u=_&&_.Sb)&&!Z(u)&&(this.g.m=u),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!Z(_)&&(this.g.D=_,u=this.h,u!==null&&_ in u&&(u=this.h,_ in u&&delete u[_])),this.j=new Yi(this)}S(Tn,Le),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){gl(this.g)},Tn.prototype.o=function(u){var _=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.u&&(E={},E.__data__=Yt(u),u=E);_.i.push(new Wc(_.Ya++,u)),_.G==3&&Qs(_)},Tn.prototype.N=function(){this.g.l=null,delete this.j,gl(this.g),delete this.g,Tn.aa.N.call(this)};function du(u){Re.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var _=u.__sm__;if(_){e:{for(const E in _){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,_=_!==null&&u in _?_[u]:void 0),this.data=_}else this.data=u}S(du,Re);function hu(){Oe.call(this),this.status=1}S(hu,Oe);function Yi(u){this.g=u}S(Yi,uu),Yi.prototype.ua=function(){Ce(this.g,"a")},Yi.prototype.ta=function(u){Ce(this.g,new du(u))},Yi.prototype.sa=function(u){Ce(this.g,new hu)},Yi.prototype.ra=function(){Ce(this.g,"b")},Xs.prototype.createWebChannel=Xs.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,_T=function(){return new Xs},yT=function(){return Dn()},vT=Ue,bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wa.NO_ERROR=0,Wa.TIMEOUT=8,Wa.HTTP_ERROR=6,Cd=Wa,fa.COMPLETE="complete",gT=fa,oe.EventType=me,me.OPEN="a",me.CLOSE="b",me.ERROR="c",me.MESSAGE="d",Le.prototype.listen=Le.prototype.K,hc=oe,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,mT=at}).apply(typeof md<"u"?md:typeof self<"u"?self:typeof window<"u"?window:{});const _b="@firebase/firestore",Eb="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new ph("@firebase/firestore");function Ro(){return Cs.logLevel}function ve(i,...e){if(Cs.logLevel<=Ke.DEBUG){const t=e.map(xg);Cs.debug(`Firestore (${Jo}): ${i}`,...t)}}function Ga(i,...e){if(Cs.logLevel<=Ke.ERROR){const t=e.map(xg);Cs.error(`Firestore (${Jo}): ${i}`,...t)}}function jo(i,...e){if(Cs.logLevel<=Ke.WARN){const t=e.map(xg);Cs.warn(`Firestore (${Jo}): ${i}`,...t)}}function xg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(i="Unexpected state"){const e=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: `+i;throw Ga(e),new Error(e)}function nt(i,e){i||Me()}function je(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends bi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class K2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yn.UNAUTHENTICATED))}shutdown(){}}class Q2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Y2{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){nt(this.o===void 0);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let l=new Ba;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ba,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const f=l;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},p=f=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(f=>p(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?p(f):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ba)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(nt(typeof r.accessToken=="string"),new ET(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string"),new yn(e)}}class X2{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class W2{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new X2(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z2{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,jn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){nt(this.o===void 0);const r=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.R;return this.R=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const o=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new bb(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(nt(typeof t.token=="string"),this.R=t.token,new bb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<i;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=J2(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%62))}return r}}function Fe(i,e){return i<e?-1:i>e?1:0}function wm(i,e){let t=0;for(;t<i.length&&t<e.length;){const r=i.codePointAt(t),o=e.codePointAt(t);if(r!==o){if(r<128&&o<128)return Fe(r,o);{const l=bT(),d=eO(l.encode(wb(i,t)),l.encode(wb(e,t)));return d!==0?d:Fe(r,o)}}t+=r>65535?2:1}return Fe(i.length,e.length)}function wb(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function eO(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return Fe(i[t],e[t]);return Fe(i.length,e.length)}function Lo(i,e,t){return i.length===e.length&&i.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=-62135596800,xb=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*xb);return new At(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new be(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new be(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Tb)throw new be(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xb}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Tb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new At(0,0))}static max(){return new Ve(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="__name__";class ia{constructor(e,t,r){t===void 0?t=0:t>e.length&&Me(),r===void 0?r=e.length-t:r>e.length-t&&Me(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ia.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ia?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=ia.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Fe(e.length,t.length)}static compareSegments(e,t){const r=ia.isNumericId(e),o=ia.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?ia.extractNumericId(e).compare(ia.extractNumericId(t)):wm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Or.fromString(e.substring(4,e.length-2))}}class gt extends ia{construct(e,t,r){return new gt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new gt(t)}static emptyPath(){return new gt([])}}const tO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends ia{construct(e,t,r){return new cn(e,t,r)}static isValidIdentifier(e){return tO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ab}static keyField(){return new cn([Ab])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(r.length===0)throw new be(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new be(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new be(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(l(),o++)}if(l(),d)throw new be(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(t)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(gt.fromString(e))}static fromName(e){return new Ie(gt.fromString(e).popFirst(5))}static empty(){return new Ie(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new gt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=-1;function nO(i,e){const t=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(r===1e9?new At(t+1,0):new At(t,r));return new Pr(o,Ie.empty(),e)}function iO(i){return new Pr(i.readTime,i.key,Ac)}class Pr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Pr(Ve.min(),Ie.empty(),Ac)}static max(){return new Pr(Ve.max(),Ie.empty(),Ac)}}function aO(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(i.documentKey,e.documentKey),t!==0?t:Fe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(i){if(i.code!==ae.FAILED_PRECONDITION||i.message!==rO)throw i;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,r)=>{t(e)})}static reject(e){return new ne((t,r)=>{r(e)})}static waitFor(e){return new ne((t,r)=>{let o=0,l=0,d=!1;e.forEach(p=>{++o,p.next(()=>{++l,d&&l===o&&t()},f=>r(f))}),d=!0,l===o&&t()})}static or(e){let t=ne.resolve(!1);for(const r of e)t=t.next(o=>o?ne.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}static mapArray(e,t){return new ne((r,o)=>{const l=e.length,d=new Array(l);let p=0;for(let f=0;f<l;f++){const m=f;t(e[m]).next(y=>{d[m]=y,++p,p===l&&r(d)},y=>o(y))}})}static doWhile(e,t){return new ne((r,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):r()};l()})}}function oO(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function tl(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}bh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=-1;function wh(i){return i==null}function $d(i){return i===0&&1/i==-1/0}function lO(i){return typeof i=="number"&&Number.isInteger(i)&&!$d(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="";function cO(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Sb(e)),e=uO(i.get(t),e);return Sb(e)}function uO(i,e){let t=e;const r=i.length;for(let o=0;o<r;o++){const l=i.charAt(o);switch(l){case"\0":t+="";break;case TT:t+="";break;default:t+=l}}return t}function Sb(i){return i+TT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Br(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function dO(i,e){const t=[];for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&t.push(e(i[r],r,i));return t}function xT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,t){this.comparator=e,this.root=t||ln.EMPTY}insert(e,t){return new St(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gd(this.root,e,this.comparator,!1)}getReverseIterator(){return new gd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gd(this.root,e,this.comparator,!0)}}class gd{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=r??ln.RED,this.left=o??ln.EMPTY,this.right=l??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new ln(e??this.key,t??this.value,r??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return ln.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Me();const e=this.left.check();if(e!==this.right.check())throw Me();return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Me()}get value(){throw Me()}get color(){throw Me()}get left(){throw Me()}get right(){throw Me()}copy(e,t,r,o,l){return this}insert(e,t,r){return new ln(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ib(this.data.getIterator())}getIteratorFrom(e){return new Ib(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Qt(this.comparator);return t.data=e,t}}class Ib{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new ei([])}unionWith(e){let t=new Qt(cn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ei(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new AT("Invalid base64 string: "+l):l}}(e);return new un(t)}static fromUint8Array(e){const t=function(o){let l="";for(let d=0;d<o.length;++d)l+=String.fromCharCode(o[d]);return l}(e);return new un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const hO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(i){if(nt(!!i),typeof i=="string"){let e=0;const t=hO.exec(i);if(nt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mt(i.seconds),nanos:Mt(i.nanos)}}function Mt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function jr(i){return typeof i=="string"?un.fromBase64String(i):un.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="server_timestamp",RT="__type__",IT="__previous_value__",CT="__local_write_time__";function Sg(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[RT])===null||t===void 0?void 0:t.stringValue)===ST}function Th(i){const e=i.mapValue.fields[IT];return Sg(e)?Th(e):e}function Sc(i){const e=Mr(i.mapValue.fields[CT].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,t,r,o,l,d,p,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=f,this.useFetchStreams=m}}const Kd="(default)";class Rc{constructor(e,t){this.projectId=e,this.database=t||Kd}static empty(){return new Rc("","")}get isDefaultDatabase(){return this.database===Kd}isEqual(e){return e instanceof Rc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="__type__",pO="__max__",vd={mapValue:{}},DT="__vector__",Qd="value";function Lr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Sg(i)?4:gO(i)?9007199254740991:mO(i)?10:11:Me()}function oa(i,e){if(i===e)return!0;const t=Lr(i);if(t!==Lr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Sc(i).isEqual(Sc(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const d=Mr(o.timestampValue),p=Mr(l.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,l){return jr(o.bytesValue).isEqual(jr(l.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,l){return Mt(o.geoPointValue.latitude)===Mt(l.geoPointValue.latitude)&&Mt(o.geoPointValue.longitude)===Mt(l.geoPointValue.longitude)}(i,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return Mt(o.integerValue)===Mt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const d=Mt(o.doubleValue),p=Mt(l.doubleValue);return d===p?$d(d)===$d(p):isNaN(d)&&isNaN(p)}return!1}(i,e);case 9:return Lo(i.arrayValue.values||[],e.arrayValue.values||[],oa);case 10:case 11:return function(o,l){const d=o.mapValue.fields||{},p=l.mapValue.fields||{};if(Rb(d)!==Rb(p))return!1;for(const f in d)if(d.hasOwnProperty(f)&&(p[f]===void 0||!oa(d[f],p[f])))return!1;return!0}(i,e);default:return Me()}}function Ic(i,e){return(i.values||[]).find(t=>oa(t,e))!==void 0}function Vo(i,e){if(i===e)return 0;const t=Lr(i),r=Lr(e);if(t!==r)return Fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(i.booleanValue,e.booleanValue);case 2:return function(l,d){const p=Mt(l.integerValue||l.doubleValue),f=Mt(d.integerValue||d.doubleValue);return p<f?-1:p>f?1:p===f?0:isNaN(p)?isNaN(f)?0:-1:1}(i,e);case 3:return Cb(i.timestampValue,e.timestampValue);case 4:return Cb(Sc(i),Sc(e));case 5:return wm(i.stringValue,e.stringValue);case 6:return function(l,d){const p=jr(l),f=jr(d);return p.compareTo(f)}(i.bytesValue,e.bytesValue);case 7:return function(l,d){const p=l.split("/"),f=d.split("/");for(let m=0;m<p.length&&m<f.length;m++){const y=Fe(p[m],f[m]);if(y!==0)return y}return Fe(p.length,f.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,d){const p=Fe(Mt(l.latitude),Mt(d.latitude));return p!==0?p:Fe(Mt(l.longitude),Mt(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Nb(i.arrayValue,e.arrayValue);case 10:return function(l,d){var p,f,m,y;const b=l.fields||{},T=d.fields||{},I=(p=b[Qd])===null||p===void 0?void 0:p.arrayValue,S=(f=T[Qd])===null||f===void 0?void 0:f.arrayValue,U=Fe(((m=I==null?void 0:I.values)===null||m===void 0?void 0:m.length)||0,((y=S==null?void 0:S.values)===null||y===void 0?void 0:y.length)||0);return U!==0?U:Nb(I,S)}(i.mapValue,e.mapValue);case 11:return function(l,d){if(l===vd.mapValue&&d===vd.mapValue)return 0;if(l===vd.mapValue)return 1;if(d===vd.mapValue)return-1;const p=l.fields||{},f=Object.keys(p),m=d.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let b=0;b<f.length&&b<y.length;++b){const T=wm(f[b],y[b]);if(T!==0)return T;const I=Vo(p[f[b]],m[y[b]]);if(I!==0)return I}return Fe(f.length,y.length)}(i.mapValue,e.mapValue);default:throw Me()}}function Cb(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Fe(i,e);const t=Mr(i),r=Mr(e),o=Fe(t.seconds,r.seconds);return o!==0?o:Fe(t.nanos,r.nanos)}function Nb(i,e){const t=i.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const l=Vo(t[o],r[o]);if(l)return l}return Fe(t.length,r.length)}function Uo(i){return Tm(i)}function Tm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const r=Mr(t);return`time(${r.seconds},${r.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return jr(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return Ie.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let r="[",o=!0;for(const l of t.values||[])o?o=!1:r+=",",r+=Tm(l);return r+"]"}(i.arrayValue):"mapValue"in i?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const d of r)l?l=!1:o+=",",o+=`${d}:${Tm(t.fields[d])}`;return o+"}"}(i.mapValue):Me()}function Nd(i){switch(Lr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Th(i);return e?16+Nd(e):16;case 5:return 2*i.stringValue.length;case 6:return jr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,l)=>o+Nd(l),0)}(i.arrayValue);case 10:case 11:return function(r){let o=0;return Br(r.fields,(l,d)=>{o+=l.length+Nd(d)}),o}(i.mapValue);default:throw Me()}}function Db(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function xm(i){return!!i&&"integerValue"in i}function Rg(i){return!!i&&"arrayValue"in i}function Ob(i){return!!i&&"nullValue"in i}function kb(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Dd(i){return!!i&&"mapValue"in i}function mO(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[NT])===null||t===void 0?void 0:t.stringValue)===DT}function yc(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Br(i.mapValue.fields,(t,r)=>e.mapValue.fields[t]=yc(r)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yc(i.arrayValue.values[t]);return e}return Object.assign({},i)}function gO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===pO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Dd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yc(t)}setAll(e){let t=cn.emptyPath(),r={},o=[];e.forEach((d,p)=>{if(!t.isImmediateParentOf(p)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=p.popLast()}d?r[p.lastSegment()]=yc(d):o.push(p.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());Dd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Dd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Br(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new Ln(yc(this.value))}}function OT(i){const e=[];return Br(i.fields,(t,r)=>{const o=new cn([t]);if(Dd(r)){const l=OT(r.mapValue).fields;if(l.length===0)e.push(o);else for(const d of l)e.push(o.child(d))}else e.push(o)}),new ei(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,t,r,o,l,d,p){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=l,this.data=d,this.documentState=p}static newInvalidDocument(e){return new _n(e,0,Ve.min(),Ve.min(),Ve.min(),Ln.empty(),0)}static newFoundDocument(e,t,r,o){return new _n(e,1,t,Ve.min(),r,o,0)}static newNoDocument(e,t){return new _n(e,2,t,Ve.min(),Ve.min(),Ln.empty(),0)}static newUnknownDocument(e,t){return new _n(e,3,t,Ve.min(),Ve.min(),Ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,t){this.position=e,this.inclusive=t}}function Pb(i,e,t){let r=0;for(let o=0;o<i.position.length;o++){const l=e[o],d=i.position[o];if(l.field.isKeyField()?r=Ie.comparator(Ie.fromName(d.referenceValue),t.key):r=Vo(d,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function Mb(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!oa(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,t="asc"){this.field=e,this.dir=t}}function vO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{}class Ft extends kT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new _O(e,t,r):t==="array-contains"?new wO(e,r):t==="in"?new TO(e,r):t==="not-in"?new xO(e,r):t==="array-contains-any"?new AO(e,r):new Ft(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new EO(e,r):new bO(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Vo(t,this.value)):t!==null&&Lr(this.value)===Lr(t)&&this.matchesComparison(Vo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends kT{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ji(e,t)}matches(e){return PT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function PT(i){return i.op==="and"}function MT(i){return yO(i)&&PT(i)}function yO(i){for(const e of i.filters)if(e instanceof ji)return!1;return!0}function Am(i){if(i instanceof Ft)return i.field.canonicalString()+i.op.toString()+Uo(i.value);if(MT(i))return i.filters.map(e=>Am(e)).join(",");{const e=i.filters.map(t=>Am(t)).join(",");return`${i.op}(${e})`}}function jT(i,e){return i instanceof Ft?function(r,o){return o instanceof Ft&&r.op===o.op&&r.field.isEqual(o.field)&&oa(r.value,o.value)}(i,e):i instanceof ji?function(r,o){return o instanceof ji&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((l,d,p)=>l&&jT(d,o.filters[p]),!0):!1}(i,e):void Me()}function LT(i){return i instanceof Ft?function(t){return`${t.field.canonicalString()} ${t.op} ${Uo(t.value)}`}(i):i instanceof ji?function(t){return t.op.toString()+" {"+t.getFilters().map(LT).join(" ,")+"}"}(i):"Filter"}class _O extends Ft{constructor(e,t,r){super(e,t,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class EO extends Ft{constructor(e,t){super(e,"in",t),this.keys=VT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class bO extends Ft{constructor(e,t){super(e,"not-in",t),this.keys=VT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function VT(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class wO extends Ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rg(t)&&Ic(t.arrayValue,this.value)}}class TO extends Ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ic(this.value.arrayValue,t)}}class xO extends Ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ic(this.value.arrayValue,t)}}class AO extends Ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ic(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,t=null,r=[],o=[],l=null,d=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=d,this.endAt=p,this.le=null}}function jb(i,e=null,t=[],r=[],o=null,l=null,d=null){return new SO(i,e,t,r,o,l,d)}function Ig(i){const e=je(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Am(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),wh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Uo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Uo(r)).join(",")),e.le=t}return e.le}function Cg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!vO(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!jT(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Mb(i.startAt,e.startAt)&&Mb(i.endAt,e.endAt)}function Sm(i){return Ie.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t=null,r=[],o=[],l=null,d="F",p=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=d,this.startAt=p,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function RO(i,e,t,r,o,l,d,p){return new zc(i,e,t,r,o,l,d,p)}function UT(i){return new zc(i)}function Lb(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function zT(i){return i.collectionGroup!==null}function _c(i){const e=je(i);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Qt(cn.comparator);return d.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(p=p.add(m.field))})}),p})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Xd(l,r))}),t.has(cn.keyField().canonicalString())||e.he.push(new Xd(cn.keyField(),r))}return e.he}function ra(i){const e=je(i);return e.Pe||(e.Pe=BT(e,_c(i))),e.Pe}function IO(i){const e=je(i);return e.Te||(e.Te=BT(e,i.explicitOrderBy)),e.Te}function BT(i,e){if(i.limitType==="F")return jb(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Xd(o.field,l)});const t=i.endAt?new Yd(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Yd(i.startAt.position,i.startAt.inclusive):null;return jb(i.path,i.collectionGroup,e,i.filters,i.limit,t,r)}}function Rm(i,e){const t=i.filters.concat([e]);return new zc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Im(i,e,t){return new zc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function xh(i,e){return Cg(ra(i),ra(e))&&i.limitType===e.limitType}function FT(i){return`${Ig(ra(i))}|lt:${i.limitType}`}function Io(i){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>LT(o)).join(", ")}]`),wh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Uo(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Uo(o)).join(",")),`Target(${r})`}(ra(i))}; limitType=${i.limitType})`}function Ah(i,e){return e.isFoundDocument()&&function(r,o){const l=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ie.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(i,e)&&function(r,o){for(const l of _c(r))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(i,e)&&function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0}(i,e)&&function(r,o){return!(r.startAt&&!function(d,p,f){const m=Pb(d,p,f);return d.inclusive?m<=0:m<0}(r.startAt,_c(r),o)||r.endAt&&!function(d,p,f){const m=Pb(d,p,f);return d.inclusive?m>=0:m>0}(r.endAt,_c(r),o))}(i,e)}function CO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function qT(i){return(e,t)=>{let r=!1;for(const o of _c(i)){const l=NO(o,e,t);if(l!==0)return l;r=r||o.field.isKeyField()}return 0}}function NO(i,e,t){const r=i.field.isKeyField()?Ie.comparator(e.key,t.key):function(l,d,p){const f=d.data.field(l),m=p.data.field(l);return f!==null&&m!==null?Vo(f,m):Me()}(i.field,e,t);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,l]of r)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Br(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return xT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=new St(Ie.comparator);function $a(){return DO}const HT=new St(Ie.comparator);function fc(...i){let e=HT;for(const t of i)e=e.insert(t.key,t);return e}function GT(i){let e=HT;return i.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ws(){return Ec()}function $T(){return Ec()}function Ec(){return new Ps(i=>i.toString(),(i,e)=>i.isEqual(e))}const OO=new St(Ie.comparator),kO=new Qt(Ie.comparator);function Qe(...i){let e=kO;for(const t of i)e=e.add(t);return e}const PO=new Qt(Fe);function MO(){return PO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$d(e)?"-0":e}}function KT(i){return{integerValue:""+i}}function jO(i,e){return lO(e)?KT(e):Ng(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this._=void 0}}function LO(i,e,t){return i instanceof Wd?function(o,l){const d={fields:{[RT]:{stringValue:ST},[CT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Sg(l)&&(l=Th(l)),l&&(d.fields[IT]=l),{mapValue:d}}(t,e):i instanceof Cc?YT(i,e):i instanceof Nc?XT(i,e):function(o,l){const d=QT(o,l),p=Vb(d)+Vb(o.Ie);return xm(d)&&xm(o.Ie)?KT(p):Ng(o.serializer,p)}(i,e)}function VO(i,e,t){return i instanceof Cc?YT(i,e):i instanceof Nc?XT(i,e):t}function QT(i,e){return i instanceof Zd?function(r){return xm(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class Wd extends Sh{}class Cc extends Sh{constructor(e){super(),this.elements=e}}function YT(i,e){const t=WT(e);for(const r of i.elements)t.some(o=>oa(o,r))||t.push(r);return{arrayValue:{values:t}}}class Nc extends Sh{constructor(e){super(),this.elements=e}}function XT(i,e){let t=WT(e);for(const r of i.elements)t=t.filter(o=>!oa(o,r));return{arrayValue:{values:t}}}class Zd extends Sh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Vb(i){return Mt(i.integerValue||i.doubleValue)}function WT(i){return Rg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function UO(i,e){return i.field.isEqual(e.field)&&function(r,o){return r instanceof Cc&&o instanceof Cc||r instanceof Nc&&o instanceof Nc?Lo(r.elements,o.elements,oa):r instanceof Zd&&o instanceof Zd?oa(r.Ie,o.Ie):r instanceof Wd&&o instanceof Wd}(i.transform,e.transform)}class zO{constructor(e,t){this.version=e,this.transformResults=t}}class _i{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Od(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Rh{}function ZT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Dg(i.key,_i.none()):new Bc(i.key,i.data,_i.none());{const t=i.data,r=Ln.empty();let o=new Qt(cn.comparator);for(let l of e.fields)if(!o.has(l)){let d=t.field(l);d===null&&l.length>1&&(l=l.popLast(),d=t.field(l)),d===null?r.delete(l):r.set(l,d),o=o.add(l)}return new Fr(i.key,r,new ei(o.toArray()),_i.none())}}function BO(i,e,t){i instanceof Bc?function(o,l,d){const p=o.value.clone(),f=zb(o.fieldTransforms,l,d.transformResults);p.setAll(f),l.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(i,e,t):i instanceof Fr?function(o,l,d){if(!Od(o.precondition,l))return void l.convertToUnknownDocument(d.version);const p=zb(o.fieldTransforms,l,d.transformResults),f=l.data;f.setAll(JT(o)),f.setAll(p),l.convertToFoundDocument(d.version,f).setHasCommittedMutations()}(i,e,t):function(o,l,d){l.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function bc(i,e,t,r){return i instanceof Bc?function(l,d,p,f){if(!Od(l.precondition,d))return p;const m=l.value.clone(),y=Bb(l.fieldTransforms,f,d);return m.setAll(y),d.convertToFoundDocument(d.version,m).setHasLocalMutations(),null}(i,e,t,r):i instanceof Fr?function(l,d,p,f){if(!Od(l.precondition,d))return p;const m=Bb(l.fieldTransforms,f,d),y=d.data;return y.setAll(JT(l)),y.setAll(m),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),p===null?null:p.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(i,e,t,r):function(l,d,p){return Od(l.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(i,e,t)}function FO(i,e){let t=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),l=QT(r.transform,o||null);l!=null&&(t===null&&(t=Ln.empty()),t.set(r.field,l))}return t||null}function Ub(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Lo(r,o,(l,d)=>UO(l,d))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Bc extends Rh{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Fr extends Rh{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function JT(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=i.data.field(t);e.set(t,r)}}),e}function zb(i,e,t){const r=new Map;nt(i.length===t.length);for(let o=0;o<t.length;o++){const l=i[o],d=l.transform,p=e.data.field(l.field);r.set(l.field,VO(d,p,t[o]))}return r}function Bb(i,e,t){const r=new Map;for(const o of i){const l=o.transform,d=t.data.field(o.field);r.set(o.field,LO(l,d,e))}return r}class Dg extends Rh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qO extends Rh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&BO(l,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=bc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=bc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=$T();return this.mutations.forEach(o=>{const l=e.get(o.key),d=l.overlayedDocument;let p=this.applyToLocalView(d,l.mutatedFields);p=t.has(o.key)?null:p;const f=ZT(d,p);f!==null&&r.set(o.key,f),d.isValidDocument()||d.convertToNoDocument(Ve.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qe())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,(t,r)=>Ub(t,r))&&Lo(this.baseMutations,e.baseMutations,(t,r)=>Ub(t,r))}}class Og{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){nt(e.mutations.length===r.length);let o=function(){return OO}();const l=e.mutations;for(let d=0;d<l.length;d++)o=o.insert(l[d].key,r[d].version);return new Og(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,t,r){this.alias=e,this.aggregateType=t,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,Ze;function QO(i){switch(i){case ae.OK:return Me();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Me()}}function ex(i){if(i===void 0)return Ga("GRPC error has no .code"),ae.UNKNOWN;switch(i){case Bt.OK:return ae.OK;case Bt.CANCELLED:return ae.CANCELLED;case Bt.UNKNOWN:return ae.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return ae.INTERNAL;case Bt.UNAVAILABLE:return ae.UNAVAILABLE;case Bt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Bt.NOT_FOUND:return ae.NOT_FOUND;case Bt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Bt.ABORTED:return ae.ABORTED;case Bt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Bt.DATA_LOSS:return ae.DATA_LOSS;default:return Me()}}(Ze=Bt||(Bt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=new Or([4294967295,4294967295],0);function Fb(i){const e=bT().encode(i),t=new pT;return t.update(e),new Uint8Array(t.digest())}function qb(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Or([t,r],0),new Or([o,l],0)]}class kg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new pc(`Invalid padding: ${t}`);if(r<0)throw new pc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new pc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new pc(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Or.fromNumber(this.Ee)}Ae(e,t,r){let o=e.add(t.multiply(Or.fromNumber(r)));return o.compare(YO)===1&&(o=new Or([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Fb(e),[r,o]=qb(t);for(let l=0;l<this.hashCount;l++){const d=this.Ae(r,o,l);if(!this.Re(d))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),d=new kg(l,o,t);return r.forEach(p=>d.insert(p)),d}insert(e){if(this.Ee===0)return;const t=Fb(e),[r,o]=qb(t);for(let l=0;l<this.hashCount;l++){const d=this.Ae(r,o,l);this.Ve(d)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Fc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ih(Ve.min(),o,new St(Fe),$a(),Qe())}}class Fc{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Fc(r,t,Qe(),Qe(),Qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,t,r,o){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=o}}class tx{constructor(e,t){this.targetId=e,this.ge=t}}class nx{constructor(e,t,r=un.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Hb{constructor(){this.pe=0,this.ye=Gb(),this.we=un.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Qe(),t=Qe(),r=Qe();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Me()}}),new Fc(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=Gb()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,nt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class XO{constructor(e){this.ke=e,this.qe=new Map,this.Qe=$a(),this.$e=yd(),this.Ue=yd(),this.Ke=new St(Fe)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Me()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,r=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(Sm(l))if(r===0){const d=new Ie(l.path);this.ze(t,d,_n.newNoDocument(d,Ve.min()))}else nt(r===1);else{const d=this.et(t);if(d!==r){const p=this.tt(e),f=p?this.nt(p,e,d):1;if(f!==0){this.Ye(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:l=0}=t;let d,p;try{d=jr(r).toUint8Array()}catch(f){if(f instanceof AT)return jo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{p=new kg(d,o,l)}catch(f){return jo(f instanceof pc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return p.Ee===0?null:p}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let o=0;return r.forEach(l=>{const d=this.ke.it(),p=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;e.mightContain(p)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,d)=>{const p=this.Xe(d);if(p){if(l.current&&Sm(p.target)){const f=new Ie(p.target.path);this._t(f).has(d)||this.ut(d,f)||this.ze(d,f,_n.newNoDocument(f,e))}l.ve&&(t.set(d,l.Fe()),l.Me())}});let r=Qe();this.Ue.forEach((l,d)=>{let p=!0;d.forEachWhile(f=>{const m=this.Xe(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(r=r.add(l))}),this.Qe.forEach((l,d)=>d.setReadTime(e));const o=new Ih(e,t,this.Ke,this.Qe,r);return this.Qe=$a(),this.$e=yd(),this.Ue=yd(),this.Ke=new St(Fe),o}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Hb,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Qt(Fe),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Qt(Fe),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Hb),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function yd(){return new St(Ie.comparator)}function Gb(){return new St(Ie.comparator)}const WO={asc:"ASCENDING",desc:"DESCENDING"},ZO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JO={and:"AND",or:"OR"};class ek{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Cm(i,e){return i.useProto3Json||wh(e)?e:{value:e}}function Jd(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ix(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function tk(i,e){return Jd(i,e.toTimestamp())}function sa(i){return nt(!!i),Ve.fromTimestamp(function(t){const r=Mr(t);return new At(r.seconds,r.nanos)}(i))}function Pg(i,e){return Nm(i,e).canonicalString()}function Nm(i,e){const t=function(o){return new gt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function ax(i){const e=gt.fromString(i);return nt(ux(e)),e}function Dm(i,e){return Pg(i.databaseId,e.path)}function tm(i,e){const t=ax(e);if(t.get(1)!==i.databaseId.projectId)throw new be(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new be(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Ie(sx(t))}function rx(i,e){return Pg(i.databaseId,e)}function nk(i){const e=ax(i);return e.length===4?gt.emptyPath():sx(e)}function Om(i){return new gt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function sx(i){return nt(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function $b(i,e,t){return{name:Dm(i,e),fields:t.value.mapValue.fields}}function ik(i,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Me()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(m,y){return m.useProto3Json?(nt(y===void 0||typeof y=="string"),un.fromBase64String(y||"")):(nt(y===void 0||y instanceof Buffer||y instanceof Uint8Array),un.fromUint8Array(y||new Uint8Array))}(i,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(m){const y=m.code===void 0?ae.UNKNOWN:ex(m.code);return new be(y,m.message||"")}(d);t=new nx(r,o,l,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=tm(i,r.document.name),l=sa(r.document.updateTime),d=r.document.createTime?sa(r.document.createTime):Ve.min(),p=new Ln({mapValue:{fields:r.document.fields}}),f=_n.newFoundDocument(o,l,d,p),m=r.targetIds||[],y=r.removedTargetIds||[];t=new kd(m,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=tm(i,r.document),l=r.readTime?sa(r.readTime):Ve.min(),d=_n.newNoDocument(o,l),p=r.removedTargetIds||[];t=new kd([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=tm(i,r.document),l=r.removedTargetIds||[];t=new kd([],l,o,null)}else{if(!("filter"in e))return Me();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:l}=r,d=new KO(o,l),p=r.targetId;t=new tx(p,d)}}return t}function ak(i,e){let t;if(e instanceof Bc)t={update:$b(i,e.key,e.value)};else if(e instanceof Dg)t={delete:Dm(i,e.key)};else if(e instanceof Fr)t={update:$b(i,e.key,e.data),updateMask:fk(e.fieldMask)};else{if(!(e instanceof qO))return Me();t={verify:Dm(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(l,d){const p=d.transform;if(p instanceof Wd)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Cc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Nc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Zd)return{fieldPath:d.field.canonicalString(),increment:p.Ie};throw Me()}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:tk(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Me()}(i,e.precondition)),t}function rk(i,e){return i&&i.length>0?(nt(e!==void 0),i.map(t=>function(o,l){let d=o.updateTime?sa(o.updateTime):sa(l);return d.isEqual(Ve.min())&&(d=sa(l)),new zO(d,o.transformResults||[])}(t,e))):[]}function sk(i,e){return{documents:[rx(i,e.path)]}}function ox(i,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=rx(i,o);const l=function(m){if(m.length!==0)return cx(ji.create(m,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const d=function(m){if(m.length!==0)return m.map(y=>function(T){return{field:Sr(T.field),direction:uk(T.dir)}}(y))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const p=Cm(i,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:o}}function ok(i,e,t,r){const{ht:o,parent:l}=ox(i,e),d={},p=[];let f=0;return t.forEach(m=>{const y="aggregate_"+f++;d[y]=m.alias,m.aggregateType==="count"?p.push({alias:y,count:{}}):m.aggregateType==="avg"?p.push({alias:y,avg:{field:Sr(m.fieldPath)}}):m.aggregateType==="sum"&&p.push({alias:y,sum:{field:Sr(m.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:p,structuredQuery:o.structuredQuery},parent:o.parent},Pt:d,parent:l}}function lk(i){let e=nk(i.parent);const t=i.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){nt(r===1);const y=t.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=function(b){const T=lx(b);return T instanceof ji&&MT(T)?T.getFilters():[T]}(t.where));let d=[];t.orderBy&&(d=function(b){return b.map(T=>function(S){return new Xd(Co(S.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(T))}(t.orderBy));let p=null;t.limit&&(p=function(b){let T;return T=typeof b=="object"?b.value:b,wh(T)?null:T}(t.limit));let f=null;t.startAt&&(f=function(b){const T=!!b.before,I=b.values||[];return new Yd(I,T)}(t.startAt));let m=null;return t.endAt&&(m=function(b){const T=!b.before,I=b.values||[];return new Yd(I,T)}(t.endAt)),RO(e,o,d,l,p,"F",f,m)}function ck(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function lx(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Co(t.unaryFilter.field);return Ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Co(t.unaryFilter.field);return Ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Co(t.unaryFilter.field);return Ft.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Co(t.unaryFilter.field);return Ft.create(d,"!=",{nullValue:"NULL_VALUE"});default:return Me()}}(i):i.fieldFilter!==void 0?function(t){return Ft.create(Co(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Me()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return ji.create(t.compositeFilter.filters.map(r=>lx(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Me()}}(t.compositeFilter.op))}(i):Me()}function uk(i){return WO[i]}function dk(i){return ZO[i]}function hk(i){return JO[i]}function Sr(i){return{fieldPath:i.canonicalString()}}function Co(i){return cn.fromServerFormat(i.fieldPath)}function cx(i){return i instanceof Ft?function(t){if(t.op==="=="){if(kb(t.value))return{unaryFilter:{field:Sr(t.field),op:"IS_NAN"}};if(Ob(t.value))return{unaryFilter:{field:Sr(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(kb(t.value))return{unaryFilter:{field:Sr(t.field),op:"IS_NOT_NAN"}};if(Ob(t.value))return{unaryFilter:{field:Sr(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sr(t.field),op:dk(t.op),value:t.value}}}(i):i instanceof ji?function(t){const r=t.getFilters().map(o=>cx(o));return r.length===1?r[0]:{compositeFilter:{op:hk(t.op),filters:r}}}(i):Me()}function fk(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ux(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,t,r,o,l=Ve.min(),d=Ve.min(),p=un.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=f}withSequenceNumber(e){return new Cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.Tt=e}}function mk(i){const e=lk({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Im(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.Tn=new vk}addToCollectionParentIndex(e,t){return this.Tn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Pr.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Pr.min())}updateCollectionGroup(e,t,r){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class vk{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Qt(gt.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Qt(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dx=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(dx,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new zo(0)}static Kn(){return new zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="LruGarbageCollector",yk=1048576;function Yb([i,e],[t,r]){const o=Fe(i,t);return o===0?Fe(e,r):o}class _k{constructor(e){this.Hn=e,this.buffer=new Qt(Yb),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Yb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ek{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ve(Qb,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){tl(t)?ve(Qb,"Ignoring IndexedDB error during garbage collection: ",t):await el(t)}await this.er(3e5)})}}class bk{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(bh.ae);const r=new _k(t);return this.tr.forEachTarget(e,o=>r.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>r.Zn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Kb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kb):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,o,l,d,p,f,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(r=b,p=Date.now(),this.removeTargets(e,r,t))).next(b=>(l=b,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(b=>(m=Date.now(),Ro()<=Ke.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-y}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${l} targets in `+(f-p)+`ms
	Removed ${b} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:b})))}}function wk(i,e){return new bk(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.changes=new Ps(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&bc(r.mutation,o,ei.empty(),At.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Qe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Qe()){const o=ws();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(l=>{let d=fc();return l.forEach((p,f)=>{d=d.insert(p,f.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=ws();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Qe()))}populateOverlays(e,t,r){const o=[];return r.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((d,p)=>{t.set(d,p)})})}computeViews(e,t,r,o){let l=$a();const d=Ec(),p=function(){return Ec()}();return t.forEach((f,m)=>{const y=r.get(m.key);o.has(m.key)&&(y===void 0||y.mutation instanceof Fr)?l=l.insert(m.key,m):y!==void 0?(d.set(m.key,y.mutation.getFieldMask()),bc(y.mutation,m,y.mutation.getFieldMask(),At.now())):d.set(m.key,ei.empty())}),this.recalculateAndSaveOverlays(e,l).next(f=>(f.forEach((m,y)=>d.set(m,y)),t.forEach((m,y)=>{var b;return p.set(m,new xk(y,(b=d.get(m))!==null&&b!==void 0?b:null))}),p))}recalculateAndSaveOverlays(e,t){const r=Ec();let o=new St((d,p)=>d-p),l=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const p of d)p.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let y=r.get(f)||ei.empty();y=p.applyToLocalView(m,y),r.set(f,y);const b=(o.get(p.batchId)||Qe()).add(f);o=o.insert(p.batchId,b)})}).next(()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const f=p.getNext(),m=f.key,y=f.value,b=$T();y.forEach(T=>{if(!l.has(T)){const I=ZT(t.get(T),r.get(T));I!==null&&b.set(T,I),l=l.add(T)}}),d.push(this.documentOverlayCache.saveOverlays(e,m,b))}return ne.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(d){return Ie.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(l=>{const d=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-l.size):ne.resolve(ws());let p=Ac,f=l;return d.next(m=>ne.forEach(m,(y,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),l.get(y)?ne.resolve():this.remoteDocumentCache.getEntry(e,y).next(T=>{f=f.insert(y,T)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,f,m,Qe())).next(y=>({batchId:p,changes:GT(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next(r=>{let o=fc();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const l=t.collectionGroup;let d=fc();return this.indexManager.getCollectionParents(e,l).next(p=>ne.forEach(p,f=>{const m=function(b,T){return new zc(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(y=>{y.forEach((b,T)=>{d=d.insert(b,T)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,r,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(d=>(l=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,o))).next(d=>{l.forEach((f,m)=>{const y=m.getKey();d.get(y)===null&&(d=d.insert(y,_n.newInvalidDocument(y)))});let p=fc();return d.forEach((f,m)=>{const y=l.get(f);y!==void 0&&bc(y.mutation,m,ei.empty(),At.now()),Ah(t,m)&&(p=p.insert(f,m))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ne.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:sa(o.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:mk(o.bundledQuery),readTime:sa(o.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.overlays=new St(Ie.comparator),this.Rr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ws();return ne.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&r.set(o,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,l)=>{this.Et(e,t,l)}),ne.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Rr.get(r);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(r)),ne.resolve()}getOverlaysForCollection(e,t,r){const o=ws(),l=t.length+1,d=new Ie(t.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const f=p.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&f.largestBatchId>r&&o.set(f.getKey(),f)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new St((m,y)=>m-y);const d=this.overlays.getIterator();for(;d.hasNext();){const m=d.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let y=l.get(m.largestBatchId);y===null&&(y=ws(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const p=ws(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,y)=>p.set(m,y)),!(p.size()>=o)););return ne.resolve(p)}Et(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(r.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new GO(t,r));let l=this.Rr.get(t);l===void 0&&(l=Qe(),this.Rr.set(t,l)),this.Rr.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(){this.Vr=new Qt(tn.mr),this.gr=new Qt(tn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new tn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new tn(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new Ie(new gt([])),r=new tn(t,e),o=new tn(t,e+1),l=[];return this.gr.forEachInRange([r,o],d=>{this.wr(d),l.push(d.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ie(new gt([])),r=new tn(t,e),o=new tn(t,e+1);let l=Qe();return this.gr.forEachInRange([r,o],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new tn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class tn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ie.comparator(e.key,t.key)||Fe(e.Cr,t.Cr)}static pr(e,t){return Fe(e.Cr,t.Cr)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Qt(tn.mr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new HO(l,t,r,o);this.mutationQueue.push(d);for(const p of o)this.Mr=this.Mr.add(new tn(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(d)}lookupMutationBatch(e,t){return ne.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Nr(r),l=o<0?0:o;return ne.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Ag:this.Fr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new tn(t,0),o=new tn(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([r,o],d=>{const p=this.Or(d.Cr);l.push(p)}),ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Qt(Fe);return t.forEach(o=>{const l=new tn(o,0),d=new tn(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,d],p=>{r=r.add(p.Cr)})}),ne.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;Ie.isDocumentKey(l)||(l=l.child(""));const d=new tn(new Ie(l),0);let p=new Qt(Fe);return this.Mr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(p=p.add(f.Cr)),!0)},d),ne.resolve(this.Br(p))}Br(e){const t=[];return e.forEach(r=>{const o=this.Or(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){nt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ne.forEach(t.mutations,o=>{const l=new tn(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new tn(t,0),o=this.Mr.firstAfterOrEqual(r);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.kr=e,this.docs=function(){return new St(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,d=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ne.resolve(r?r.document.mutableCopy():_n.newInvalidDocument(t))}getEntries(e,t){let r=$a();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():_n.newInvalidDocument(o))}),ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let l=$a();const d=t.path,p=new Ie(d.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(p);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!d.isPrefixOf(m.path))break;m.path.length>d.length+1||aO(iO(y),r)<=0||(o.has(y.key)||Ah(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ne.resolve(l)}getAllFromCollectionGroup(e,t,r,o){Me()}qr(e,t){return ne.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Dk(this)}getSize(e){return ne.resolve(this.size)}}class Dk extends Tk{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(r)}),ne.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.persistence=e,this.Qr=new Ps(t=>Ig(t),Cg),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Mg,this.targetCount=0,this.Kr=zo.Un()}forEachTarget(e,t){return this.Qr.forEach((r,o)=>t(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ne.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new zo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.zn(t),ne.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.Qr.forEach((d,p)=>{p.sequenceNumber<=t&&r.get(p.targetId)===null&&(this.Qr.delete(d),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),ne.waitFor(l).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ne.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),ne.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(d=>{l.push(o.markPotentiallyOrphaned(e,d))}),ne.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return ne.resolve(r)}containsKey(e,t){return ne.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new bh(0),this.zr=!1,this.zr=!0,this.jr=new Ik,this.referenceDelegate=e(this),this.Hr=new Ok(this),this.indexManager=new gk,this.remoteDocumentCache=function(o){return new Nk(o)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new pk(t),this.Yr=new Sk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Rk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new Ck(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){ve("MemoryPersistence","Starting transaction:",e);const o=new kk(this.Gr.next());return this.referenceDelegate.Zr(),r(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return ne.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class kk extends sO{constructor(e){super(),this.currentSequenceNumber=e}}class jg{constructor(e){this.persistence=e,this.ti=new Mg,this.ni=null}static ri(e){return new jg(e)}get ii(){if(this.ni)return this.ni;throw Me()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ne.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ne.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ii,r=>{const o=Ie.fromPath(r);return this.si(e,o).next(l=>{l||t.removeEntry(o,Ve.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ne.or([()=>ne.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class eh{constructor(e,t){this.persistence=e,this.oi=new Ps(r=>cO(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=wk(this,t)}static ri(e,t){return new eh(e,t)}Zr(){}Xr(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ne.forEach(this.oi,(r,o)=>this.ar(e,r,o).next(l=>l?ne.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,t).next(p=>{p||(r++,l.removeEntry(d,Ve.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ne.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Nd(e.data.value)),t}ar(e,t,r){return ne.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return ne.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=o}static Yi(e,t){let r=Qe(),o=Qe();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Lg(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return zI()?8:oO(En())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,o){const l={result:null};return this.rs(e,t).next(d=>{l.result=d}).next(()=>{if(!l.result)return this.ss(e,t,o,r).next(d=>{l.result=d})}).next(()=>{if(l.result)return;const d=new Pk;return this._s(e,t,d).next(p=>{if(l.result=p,this.Xi)return this.us(e,t,d,p.size)})}).next(()=>l.result)}us(e,t,r,o){return r.documentReadCount<this.es?(Ro()<=Ke.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Io(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ne.resolve()):(Ro()<=Ke.DEBUG&&ve("QueryEngine","Query:",Io(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ts*o?(Ro()<=Ke.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Io(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ra(t))):ne.resolve())}rs(e,t){if(Lb(t))return ne.resolve(null);let r=ra(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Im(t,null,"F"),r=ra(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const d=Qe(...l);return this.ns.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.cs(t,p);return this.ls(t,m,d,f.readTime)?this.rs(e,Im(t,null,"F")):this.hs(e,m,t,f)}))})))}ss(e,t,r,o){return Lb(t)||o.isEqual(Ve.min())?ne.resolve(null):this.ns.getDocuments(e,r).next(l=>{const d=this.cs(t,l);return this.ls(t,d,r,o)?ne.resolve(null):(Ro()<=Ke.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Io(t)),this.hs(e,d,t,nO(o,Ac)).next(p=>p))})}cs(e,t){let r=new Qt(qT(e));return t.forEach((o,l)=>{Ah(e,l)&&(r=r.add(l))}),r}ls(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,r){return Ro()<=Ke.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Io(t)),this.ns.getDocumentsMatchingQuery(e,t,Pr.min(),r)}hs(e,t,r,o){return this.ns.getDocumentsMatchingQuery(e,r,o).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="LocalStore",jk=3e8;class Lk{constructor(e,t,r,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new St(Fe),this.Is=new Ps(l=>Ig(l),Cg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ak(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function Vk(i,e,t,r){return new Lk(i,e,t,r)}async function fx(i,e){const t=je(i);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const d=[],p=[];let f=Qe();for(const m of o){d.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of l){p.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next(m=>({Rs:m,removedBatchIds:d,addedBatchIds:p}))})})}function Uk(i,e){const t=je(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(p,f,m,y){const b=m.batch,T=b.keys();let I=ne.resolve();return T.forEach(S=>{I=I.next(()=>y.getEntry(f,S)).next(U=>{const M=m.docVersions.get(S);nt(M!==null),U.version.compareTo(M)<0&&(b.applyToRemoteDocument(U,m),U.isValidDocument()&&(U.setReadTime(m.commitVersion),y.addEntry(U)))})}),I.next(()=>p.mutationQueue.removeMutationBatch(f,b))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(p){let f=Qe();for(let m=0;m<p.mutationResults.length;++m)p.mutationResults[m].transformResults.length>0&&(f=f.add(p.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function px(i){const e=je(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function zk(i,e){const t=je(i),r=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const p=[];e.targetChanges.forEach((y,b)=>{const T=o.get(b);if(!T)return;p.push(t.Hr.removeMatchingKeys(l,y.removedDocuments,b).next(()=>t.Hr.addMatchingKeys(l,y.addedDocuments,b)));let I=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?I=I.withResumeToken(un.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,r)),o=o.insert(b,I),function(U,M,F){return U.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=jk?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(T,I,y)&&p.push(t.Hr.updateTargetData(l,I))});let f=$a(),m=Qe();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))}),p.push(Bk(l,d,e.documentUpdates).next(y=>{f=y.Vs,m=y.fs})),!r.isEqual(Ve.min())){const y=t.Hr.getLastRemoteSnapshotVersion(l).next(b=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,r));p.push(y)}return ne.waitFor(p).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,f,m)).next(()=>f)}).then(l=>(t.Ts=o,l))}function Bk(i,e,t){let r=Qe(),o=Qe();return t.forEach(l=>r=r.add(l)),e.getEntries(i,r).next(l=>{let d=$a();return t.forEach((p,f)=>{const m=l.get(p);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(p)),f.isNoDocument()&&f.version.isEqual(Ve.min())?(e.removeEntry(p,f.readTime),d=d.insert(p,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),d=d.insert(p,f)):ve(Vg,"Ignoring outdated watch update for ",p,". Current version:",m.version," Watch version:",f.version)}),{Vs:d,fs:o}})}function Fk(i,e){const t=je(i);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ag),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qk(i,e){const t=je(i);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Hr.getTargetData(r,e).next(l=>l?(o=l,ne.resolve(o)):t.Hr.allocateTargetId(r).next(d=>(o=new Cr(e,d,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ts.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function km(i,e,t){const r=je(i),o=r.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!tl(d))throw d;ve(Vg,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ts=r.Ts.remove(e),r.Is.delete(o.target)}function Xb(i,e,t){const r=je(i);let o=Ve.min(),l=Qe();return r.persistence.runTransaction("Execute query","readwrite",d=>function(f,m,y){const b=je(f),T=b.Is.get(y);return T!==void 0?ne.resolve(b.Ts.get(T)):b.Hr.getTargetData(m,y)}(r,d,ra(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(d,p.targetId).next(f=>{l=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(d,e,t?o:Ve.min(),t?l:Qe())).next(p=>(Hk(r,CO(e),p),{documents:p,gs:l})))}function Hk(i,e,t){let r=i.Es.get(e)||Ve.min();t.forEach((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),i.Es.set(e,r)}class Wb{constructor(){this.activeTargetIds=MO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gk{constructor(){this.ho=new Wb,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Wb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="ConnectivityMonitor";class Jb{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ve(Zb,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ve(Zb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d=null;function Pm(){return _d===null?_d=function(){return 268435456+Math.round(2147483648*Math.random())}():_d++,"0x"+_d.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="RestConnection",Kk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qk{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${o}`,this.wo=this.databaseId.database===Kd?`project_id=${r}`:`project_id=${r}&database_id=${o}`}So(e,t,r,o,l){const d=Pm(),p=this.bo(e,t.toUriEncodedString());ve(nm,`Sending RPC '${e}' ${d}:`,p,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,o,l),this.vo(e,p,f,r).then(m=>(ve(nm,`Received RPC '${e}' ${d}: `,m),m),m=>{throw jo(nm,`RPC '${e}' ${d} failed with error: `,m,"url: ",p,"request:",r),m})}Co(e,t,r,o,l,d){return this.So(e,t,r,o,l)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}bo(e,t){const r=Kk[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class Xk extends Qk{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,o){const l=Pm();return new Promise((d,p)=>{const f=new mT;f.setWithCredentials(!0),f.listenOnce(gT.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Cd.NO_ERROR:const y=f.getResponseJson();ve(gn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),d(y);break;case Cd.TIMEOUT:ve(gn,`RPC '${e}' ${l} timed out`),p(new be(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Cd.HTTP_ERROR:const b=f.getStatus();if(ve(gn,`RPC '${e}' ${l} failed with status:`,b,"response text:",f.getResponseText()),b>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const I=T==null?void 0:T.error;if(I&&I.status&&I.message){const S=function(M){const F=M.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(F)>=0?F:ae.UNKNOWN}(I.status);p(new be(S,I.message))}else p(new be(ae.UNKNOWN,"Server responded with status "+f.getStatus()))}else p(new be(ae.UNAVAILABLE,"Connection failed."));break;default:Me()}}finally{ve(gn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(o);ve(gn,`RPC '${e}' ${l} sending request:`,o),f.send(t,"POST",m,r,15)})}Wo(e,t,r){const o=Pm(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=_T(),p=yT(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=l.join("");ve(gn,`Creating RPC '${e}' stream ${o}: ${y}`,f);const b=d.createWebChannel(y,f);let T=!1,I=!1;const S=new Yk({Fo:M=>{I?ve(gn,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(T||(ve(gn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),T=!0),ve(gn,`RPC '${e}' stream ${o} sending:`,M),b.send(M))},Mo:()=>b.close()}),U=(M,F,Z)=>{M.listen(F,G=>{try{Z(G)}catch(ce){setTimeout(()=>{throw ce},0)}})};return U(b,hc.EventType.OPEN,()=>{I||(ve(gn,`RPC '${e}' stream ${o} transport opened.`),S.Qo())}),U(b,hc.EventType.CLOSE,()=>{I||(I=!0,ve(gn,`RPC '${e}' stream ${o} transport closed`),S.Uo())}),U(b,hc.EventType.ERROR,M=>{I||(I=!0,jo(gn,`RPC '${e}' stream ${o} transport errored:`,M),S.Uo(new be(ae.UNAVAILABLE,"The operation could not be completed")))}),U(b,hc.EventType.MESSAGE,M=>{var F;if(!I){const Z=M.data[0];nt(!!Z);const G=Z,ce=(G==null?void 0:G.error)||((F=G[0])===null||F===void 0?void 0:F.error);if(ce){ve(gn,`RPC '${e}' stream ${o} received error:`,ce);const ue=ce.status;let Te=function(C){const P=Bt[C];if(P!==void 0)return ex(P)}(ue),j=ce.message;Te===void 0&&(Te=ae.INTERNAL,j="Unknown error status: "+ue+" with message "+ce.message),I=!0,S.Uo(new be(Te,j)),b.close()}else ve(gn,`RPC '${e}' stream ${o} received:`,Z),S.Ko(Z)}}),U(p,vT.STAT_EVENT,M=>{M.stat===bm.PROXY?ve(gn,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===bm.NOPROXY&&ve(gn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{S.$o()},0),S}}function im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(i){return new ek(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,t,r=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-r);o>0&&ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="PersistentStream";class gx{constructor(e,t,r,o,l,d,p,f){this.Ti=e,this.n_=r,this.r_=o,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new mx(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(Ga(t.toString()),Ga("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.i_===t&&this.V_(r,o)},r=>{e(()=>{const o=new be(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(o)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{r(()=>this.m_(o))}),this.stream.onMessage(o=>{r(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ve(e0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ve(e0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wk extends gx{constructor(e,t,r,o,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=ik(this.serializer,e),r=function(l){if(!("targetChange"in l))return Ve.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?Ve.min():d.readTime?sa(d.readTime):Ve.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Om(this.serializer),t.addTarget=function(l,d){let p;const f=d.target;if(p=Sm(f)?{documents:sk(l,f)}:{query:ox(l,f).ht},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=ix(l,d.resumeToken);const m=Cm(l,d.expectedCount);m!==null&&(p.expectedCount=m)}else if(d.snapshotVersion.compareTo(Ve.min())>0){p.readTime=Jd(l,d.snapshotVersion.toTimestamp());const m=Cm(l,d.expectedCount);m!==null&&(p.expectedCount=m)}return p}(this.serializer,e);const r=ck(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Om(this.serializer),t.removeTarget=e,this.I_(t)}}class Zk extends gx{constructor(e,t,r,o,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return nt(!!e.streamToken),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=rk(e.writeResults,e.commitTime),r=sa(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Om(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ak(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{}class eP extends Jk{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new be(ae.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.So(e,Nm(t,r),o,l,d)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(ae.UNKNOWN,l.toString())})}Co(e,t,r,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Co(e,Nm(t,r),o,d,p,l)).catch(d=>{throw d.name==="FirebaseError"?(d.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new be(ae.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class tP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ga(t),this.N_=!1):ve("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="RemoteStore";class nP{constructor(e,t,r,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(d=>{r.enqueueAndForget(async()=>{Ms(this)&&(ve(Ns,"Restarting streams for network reachability change."),await async function(f){const m=je(f);m.W_.add(4),await qc(m),m.j_.set("Unknown"),m.W_.delete(4),await Nh(m)}(this))})}),this.j_=new tP(r,o)}}async function Nh(i){if(Ms(i))for(const e of i.G_)await e(!0)}async function qc(i){for(const e of i.G_)await e(!1)}function vx(i,e){const t=je(i);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Fg(t)?Bg(t):nl(t).c_()&&zg(t,e))}function Ug(i,e){const t=je(i),r=nl(t);t.K_.delete(e),r.c_()&&yx(t,e),t.K_.size===0&&(r.c_()?r.P_():Ms(t)&&t.j_.set("Unknown"))}function zg(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}nl(i).y_(e)}function yx(i,e){i.H_.Ne(e),nl(i).w_(e)}function Bg(i){i.H_=new XO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),nl(i).start(),i.j_.B_()}function Fg(i){return Ms(i)&&!nl(i).u_()&&i.K_.size>0}function Ms(i){return je(i).W_.size===0}function _x(i){i.H_=void 0}async function iP(i){i.j_.set("Online")}async function aP(i){i.K_.forEach((e,t)=>{zg(i,e)})}async function rP(i,e){_x(i),Fg(i)?(i.j_.q_(e),Bg(i)):i.j_.set("Unknown")}async function sP(i,e,t){if(i.j_.set("Online"),e instanceof nx&&e.state===2&&e.cause)try{await async function(o,l){const d=l.cause;for(const p of l.targetIds)o.K_.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.K_.delete(p),o.H_.removeTarget(p))}(i,e)}catch(r){ve(Ns,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await th(i,r)}else if(e instanceof kd?i.H_.We(e):e instanceof tx?i.H_.Ze(e):i.H_.je(e),!t.isEqual(Ve.min()))try{const r=await px(i.localStore);t.compareTo(r)>=0&&await function(l,d){const p=l.H_.ot(d);return p.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=l.K_.get(m);y&&l.K_.set(m,y.withResumeToken(f.resumeToken,d))}}),p.targetMismatches.forEach((f,m)=>{const y=l.K_.get(f);if(!y)return;l.K_.set(f,y.withResumeToken(un.EMPTY_BYTE_STRING,y.snapshotVersion)),yx(l,f);const b=new Cr(y.target,f,m,y.sequenceNumber);zg(l,b)}),l.remoteSyncer.applyRemoteEvent(p)}(i,t)}catch(r){ve(Ns,"Failed to raise snapshot:",r),await th(i,r)}}async function th(i,e,t){if(!tl(e))throw e;i.W_.add(1),await qc(i),i.j_.set("Offline"),t||(t=()=>px(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ve(Ns,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await Nh(i)})}function Ex(i,e){return e().catch(t=>th(i,t,e))}async function Dh(i){const e=je(i),t=Vr(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:Ag;for(;oP(e);)try{const o=await Fk(e.localStore,r);if(o===null){e.U_.length===0&&t.P_();break}r=o.batchId,lP(e,o)}catch(o){await th(e,o)}bx(e)&&wx(e)}function oP(i){return Ms(i)&&i.U_.length<10}function lP(i,e){i.U_.push(e);const t=Vr(i);t.c_()&&t.S_&&t.b_(e.mutations)}function bx(i){return Ms(i)&&!Vr(i).u_()&&i.U_.length>0}function wx(i){Vr(i).start()}async function cP(i){Vr(i).C_()}async function uP(i){const e=Vr(i);for(const t of i.U_)e.b_(t.mutations)}async function dP(i,e,t){const r=i.U_.shift(),o=Og.from(r,e,t);await Ex(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Dh(i)}async function hP(i,e){e&&Vr(i).S_&&await async function(r,o){if(function(d){return QO(d)&&d!==ae.ABORTED}(o.code)){const l=r.U_.shift();Vr(r).h_(),await Ex(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Dh(r)}}(i,e),bx(i)&&wx(i)}async function t0(i,e){const t=je(i);t.asyncQueue.verifyOperationInProgress(),ve(Ns,"RemoteStore received new credentials");const r=Ms(t);t.W_.add(3),await qc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Nh(t)}async function fP(i,e){const t=je(i);e?(t.W_.delete(2),await Nh(t)):e||(t.W_.add(2),await qc(t),t.j_.set("Unknown"))}function nl(i){return i.J_||(i.J_=function(t,r,o){const l=je(t);return l.M_(),new Wk(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{xo:iP.bind(null,i),No:aP.bind(null,i),Lo:rP.bind(null,i),p_:sP.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Fg(i)?Bg(i):i.j_.set("Unknown")):(await i.J_.stop(),_x(i))})),i.J_}function Vr(i){return i.Y_||(i.Y_=function(t,r,o){const l=je(t);return l.M_(),new Zk(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:cP.bind(null,i),Lo:hP.bind(null,i),D_:uP.bind(null,i),v_:dP.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await Dh(i)):(await i.Y_.stop(),i.U_.length>0&&(ve(Ns,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new Ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,l){const d=Date.now()+r,p=new qg(e,t,d,o,l);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hg(i,e){if(Ga("AsyncQueue",`${e}: ${i}`),tl(i))return new be(ae.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{static emptySet(e){return new Po(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ie.comparator(t.key,r.key):(t,r)=>Ie.comparator(t.key,r.key),this.keyedMap=fc(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Po)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Po;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(){this.Z_=new St(Ie.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Me():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Bo{constructor(e,t,r,o,l,d,p,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,l){const d=[];return t.forEach(p=>{d.push({type:0,doc:p})}),new Bo(e,t,Po.emptySet(t),d,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class mP{constructor(){this.queries=i0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const o=je(t),l=o.queries;o.queries=i0(),l.forEach((d,p)=>{for(const f of p.ta)f.onError(r)})})(this,new be(ae.ABORTED,"Firestore shutting down"))}}function i0(){return new Ps(i=>FT(i),xh)}async function gP(i,e){const t=je(i);let r=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(r=2):(l=new pP,r=e.ra()?0:1);try{switch(r){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const p=Hg(d,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&Gg(t)}async function vP(i,e){const t=je(i),r=e.query;let o=3;const l=t.queries.get(r);if(l){const d=l.ta.indexOf(e);d>=0&&(l.ta.splice(d,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function yP(i,e){const t=je(i);let r=!1;for(const o of e){const l=o.query,d=t.queries.get(l);if(d){for(const p of d.ta)p.oa(o)&&(r=!0);d.ea=o}}r&&Gg(t)}function _P(i,e,t){const r=je(i),o=r.queries.get(e);if(o)for(const l of o.ta)l.onError(t);r.queries.delete(e)}function Gg(i){i.ia.forEach(e=>{e.next()})}var Mm,a0;(a0=Mm||(Mm={}))._a="default",a0.Cache="cache";class EP{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Bo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Mm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.key=e}}class xx{constructor(e){this.key=e}}class bP{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Qe(),this.mutatedKeys=Qe(),this.ya=qT(e),this.wa=new Po(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new n0,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,d=o,p=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((y,b)=>{const T=o.get(y),I=Ah(this.query,b)?b:null,S=!!T&&this.mutatedKeys.has(T.key),U=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let M=!1;T&&I?T.data.isEqual(I.data)?S!==U&&(r.track({type:3,doc:I}),M=!0):this.va(T,I)||(r.track({type:2,doc:I}),M=!0,(f&&this.ya(I,f)>0||m&&this.ya(I,m)<0)&&(p=!0)):!T&&I?(r.track({type:0,doc:I}),M=!0):T&&!I&&(r.track({type:1,doc:T}),M=!0,(f||m)&&(p=!0)),M&&(I?(d=d.add(I),l=U?l.add(y):l.delete(y)):(d=d.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const y=this.query.limitType==="F"?d.last():d.first();d=d.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{wa:d,Da:r,ls:p,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((y,b)=>function(I,S){const U=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me()}};return U(I)-U(S)}(y.type,b.type)||this.ya(y.doc,b.doc)),this.Ca(r),o=o!=null&&o;const p=t&&!o?this.Fa():[],f=this.pa.size===0&&this.current&&!o?1:0,m=f!==this.ga;return this.ga=f,d.length!==0||m?{snapshot:new Bo(this.query,e.wa,l,d,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:p}:{Ma:p}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new n0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Qe(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new xx(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new Tx(r))}),t}Oa(e){this.fa=e.gs,this.pa=Qe();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Bo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const $g="SyncEngine";class wP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class TP{constructor(e){this.key=e,this.Ba=!1}}class xP{constructor(e,t,r,o,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Ps(p=>FT(p),xh),this.qa=new Map,this.Qa=new Set,this.$a=new St(Ie.comparator),this.Ua=new Map,this.Ka=new Mg,this.Wa={},this.Ga=new Map,this.za=zo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function AP(i,e,t=!0){const r=Nx(i);let o;const l=r.ka.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await Ax(r,e,t,!0),o}async function SP(i,e){const t=Nx(i);await Ax(t,e,!0,!1)}async function Ax(i,e,t,r){const o=await qk(i.localStore,ra(e)),l=o.targetId,d=i.sharedClientState.addLocalQueryTarget(l,t);let p;return r&&(p=await RP(i,e,l,d==="current",o.resumeToken)),i.isPrimaryClient&&t&&vx(i.remoteStore,o),p}async function RP(i,e,t,r,o){i.Ha=(b,T,I)=>async function(U,M,F,Z){let G=M.view.ba(F);G.ls&&(G=await Xb(U.localStore,M.query,!1).then(({documents:j})=>M.view.ba(j,G)));const ce=Z&&Z.targetChanges.get(M.targetId),ue=Z&&Z.targetMismatches.get(M.targetId)!=null,Te=M.view.applyChanges(G,U.isPrimaryClient,ce,ue);return s0(U,M.targetId,Te.Ma),Te.snapshot}(i,b,T,I);const l=await Xb(i.localStore,e,!0),d=new bP(e,l.gs),p=d.ba(l.documents),f=Fc.createSynthesizedTargetChangeForCurrentChange(t,r&&i.onlineState!=="Offline",o),m=d.applyChanges(p,i.isPrimaryClient,f);s0(i,t,m.Ma);const y=new wP(e,t,d);return i.ka.set(e,y),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),m.snapshot}async function IP(i,e,t){const r=je(i),o=r.ka.get(e),l=r.qa.get(o.targetId);if(l.length>1)return r.qa.set(o.targetId,l.filter(d=>!xh(d,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await km(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Ug(r.remoteStore,o.targetId),jm(r,o.targetId)}).catch(el)):(jm(r,o.targetId),await km(r.localStore,o.targetId,!0))}async function CP(i,e){const t=je(i),r=t.ka.get(e),o=t.qa.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ug(t.remoteStore,r.targetId))}async function NP(i,e,t){const r=LP(i);try{const o=await function(d,p){const f=je(d),m=At.now(),y=p.reduce((I,S)=>I.add(S.key),Qe());let b,T;return f.persistence.runTransaction("Locally write mutations","readwrite",I=>{let S=$a(),U=Qe();return f.ds.getEntries(I,y).next(M=>{S=M,S.forEach((F,Z)=>{Z.isValidDocument()||(U=U.add(F))})}).next(()=>f.localDocuments.getOverlayedDocuments(I,S)).next(M=>{b=M;const F=[];for(const Z of p){const G=FO(Z,b.get(Z.key).overlayedDocument);G!=null&&F.push(new Fr(Z.key,G,OT(G.value.mapValue),_i.exists(!0)))}return f.mutationQueue.addMutationBatch(I,m,F,p)}).next(M=>{T=M;const F=M.applyToLocalDocumentSet(b,U);return f.documentOverlayCache.saveOverlays(I,M.batchId,F)})}).then(()=>({batchId:T.batchId,changes:GT(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(d,p,f){let m=d.Wa[d.currentUser.toKey()];m||(m=new St(Fe)),m=m.insert(p,f),d.Wa[d.currentUser.toKey()]=m}(r,o.batchId,t),await Hc(r,o.changes),await Dh(r.remoteStore)}catch(o){const l=Hg(o,"Failed to persist write");t.reject(l)}}async function Sx(i,e){const t=je(i);try{const r=await zk(t.localStore,e);e.targetChanges.forEach((o,l)=>{const d=t.Ua.get(l);d&&(nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?nt(d.Ba):o.removedDocuments.size>0&&(nt(d.Ba),d.Ba=!1))}),await Hc(t,r,e)}catch(r){await el(r)}}function r0(i,e,t){const r=je(i);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.ka.forEach((l,d)=>{const p=d.view.sa(e);p.snapshot&&o.push(p.snapshot)}),function(d,p){const f=je(d);f.onlineState=p;let m=!1;f.queries.forEach((y,b)=>{for(const T of b.ta)T.sa(p)&&(m=!0)}),m&&Gg(f)}(r.eventManager,e),o.length&&r.La.p_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function DP(i,e,t){const r=je(i);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Ua.get(e),l=o&&o.key;if(l){let d=new St(Ie.comparator);d=d.insert(l,_n.newNoDocument(l,Ve.min()));const p=Qe().add(l),f=new Ih(Ve.min(),new Map,new St(Fe),d,p);await Sx(r,f),r.$a=r.$a.remove(l),r.Ua.delete(e),Kg(r)}else await km(r.localStore,e,!1).then(()=>jm(r,e,t)).catch(el)}async function OP(i,e){const t=je(i),r=e.batch.batchId;try{const o=await Uk(t.localStore,e);Ix(t,r,null),Rx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Hc(t,o)}catch(o){await el(o)}}async function kP(i,e,t){const r=je(i);try{const o=await function(d,p){const f=je(d);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return f.mutationQueue.lookupMutationBatch(m,p).next(b=>(nt(b!==null),y=b.keys(),f.mutationQueue.removeMutationBatch(m,b))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,p)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>f.localDocuments.getDocuments(m,y))})}(r.localStore,e);Ix(r,e,t),Rx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Hc(r,o)}catch(o){await el(o)}}function Rx(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function Ix(i,e,t){const r=je(i);let o=r.Wa[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.Wa[r.currentUser.toKey()]=o}}function jm(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.qa.get(e))i.ka.delete(r),t&&i.La.Ja(r,t);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(r=>{i.Ka.containsKey(r)||Cx(i,r)})}function Cx(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(Ug(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ua.delete(t),Kg(i))}function s0(i,e,t){for(const r of t)r instanceof Tx?(i.Ka.addReference(r.key,e),PP(i,r)):r instanceof xx?(ve($g,"Document no longer in limbo: "+r.key),i.Ka.removeReference(r.key,e),i.Ka.containsKey(r.key)||Cx(i,r.key)):Me()}function PP(i,e){const t=e.key,r=t.path.canonicalString();i.$a.get(t)||i.Qa.has(r)||(ve($g,"New document in limbo: "+t),i.Qa.add(r),Kg(i))}function Kg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new Ie(gt.fromString(e)),r=i.za.next();i.Ua.set(r,new TP(t)),i.$a=i.$a.insert(t,r),vx(i.remoteStore,new Cr(ra(UT(t.path)),r,"TargetPurposeLimboResolution",bh.ae))}}async function Hc(i,e,t){const r=je(i),o=[],l=[],d=[];r.ka.isEmpty()||(r.ka.forEach((p,f)=>{d.push(r.Ha(f,e,t).then(m=>{var y;if((m||t)&&r.isPrimaryClient){const b=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,b?"current":"not-current")}if(m){o.push(m);const b=Lg.Yi(f.targetId,m);l.push(b)}}))}),await Promise.all(d),r.La.p_(o),await async function(f,m){const y=je(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ne.forEach(m,T=>ne.forEach(T.Hi,I=>y.persistence.referenceDelegate.addReference(b,T.targetId,I)).next(()=>ne.forEach(T.Ji,I=>y.persistence.referenceDelegate.removeReference(b,T.targetId,I)))))}catch(b){if(!tl(b))throw b;ve(Vg,"Failed to update sequence numbers: "+b)}for(const b of m){const T=b.targetId;if(!b.fromCache){const I=y.Ts.get(T),S=I.snapshotVersion,U=I.withLastLimboFreeSnapshotVersion(S);y.Ts=y.Ts.insert(T,U)}}}(r.localStore,l))}async function MP(i,e){const t=je(i);if(!t.currentUser.isEqual(e)){ve($g,"User change. New user:",e.toKey());const r=await fx(t.localStore,e);t.currentUser=e,function(l,d){l.Ga.forEach(p=>{p.forEach(f=>{f.reject(new be(ae.CANCELLED,d))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hc(t,r.Rs)}}function jP(i,e){const t=je(i),r=t.Ua.get(e);if(r&&r.Ba)return Qe().add(r.key);{let o=Qe();const l=t.qa.get(e);if(!l)return o;for(const d of l){const p=t.ka.get(d);o=o.unionWith(p.view.Sa)}return o}}function Nx(i){const e=je(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DP.bind(null,e),e.La.p_=yP.bind(null,e.eventManager),e.La.Ja=_P.bind(null,e.eventManager),e}function LP(i){const e=je(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kP.bind(null,e),e}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ch(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Vk(this.persistence,new Mk,e.initialUser,this.serializer)}Xa(e){return new hx(jg.ri,this.serializer)}Za(e){return new Gk}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class VP extends nh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){nt(this.persistence.referenceDelegate instanceof eh);const r=this.persistence.referenceDelegate.garbageCollector;return new Ek(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new hx(r=>eh.ri(r,t),this.serializer)}}class Lm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>r0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=MP.bind(null,this.syncEngine),await fP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mP}()}createDatastore(e){const t=Ch(e.databaseInfo.databaseId),r=function(l){return new Xk(l)}(e.databaseInfo);return function(l,d,p,f){return new eP(l,d,p,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,l,d,p){return new nP(r,o,l,d,p)}(this.localStore,this.datastore,e.asyncQueue,t=>r0(this.syncEngine,t,0),function(){return Jb.D()?new Jb:new $k}())}createSyncEngine(e,t){return function(o,l,d,p,f,m,y){const b=new xP(o,l,d,p,f,m);return y&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=je(o);ve(Ns,"RemoteStore shutting down."),l.W_.add(5),await qc(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Lm.provider={build:()=>new Lm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ga("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="FirestoreClient";class zP{constructor(e,t,r,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=yn.UNAUTHENTICATED,this.clientId=wT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async d=>{ve(Ur,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(ve(Ur,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Hg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function am(i,e){i.asyncQueue.verifyOperationInProgress(),ve(Ur,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let r=t.initialUser;i.setCredentialChangeListener(async o=>{r.isEqual(o)||(await fx(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function o0(i,e){i.asyncQueue.verifyOperationInProgress();const t=await BP(i);ve(Ur,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(r=>t0(e.remoteStore,r)),i.setAppCheckTokenChangeListener((r,o)=>t0(e.remoteStore,o)),i._onlineComponents=e}async function BP(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ve(Ur,"Using user provided OfflineComponentProvider");try{await am(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;jo("Error using user provided cache. Falling back to memory cache: "+t),await am(i,new nh)}}else ve(Ur,"Using default OfflineComponentProvider"),await am(i,new VP(void 0));return i._offlineComponents}async function Qg(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ve(Ur,"Using user provided OnlineComponentProvider"),await o0(i,i._uninitializedComponentsProvider._online)):(ve(Ur,"Using default OnlineComponentProvider"),await o0(i,new Lm))),i._onlineComponents}function FP(i){return Qg(i).then(e=>e.syncEngine)}function qP(i){return Qg(i).then(e=>e.datastore)}async function HP(i){const e=await Qg(i),t=e.eventManager;return t.onListen=AP.bind(null,e.syncEngine),t.onUnlisten=IP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=SP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=CP.bind(null,e.syncEngine),t}function GP(i,e,t={}){const r=new Ba;return i.asyncQueue.enqueueAndForget(async()=>function(l,d,p,f,m){const y=new UP({next:T=>{y.su(),d.enqueueAndForget(()=>vP(l,b)),T.fromCache&&f.source==="server"?m.reject(new be(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),b=new EP(p,y,{includeMetadataChanges:!0,Ta:!0});return gP(l,b)}(await HP(i),i.asyncQueue,e,t,r)),r.promise}function $P(i,e,t){const r=new Ba;return i.asyncQueue.enqueueAndForget(async()=>{try{const o=await qP(i);r.resolve(async function(d,p,f){var m;const y=je(d),{request:b,Pt:T,parent:I}=ok(y.serializer,IO(p),f);y.connection.fo||delete b.parent;const S=(await y.Co("RunAggregationQuery",y.serializer.databaseId,I,b,1)).filter(M=>!!M.result);nt(S.length===1);const U=(m=S[0].result)===null||m===void 0?void 0:m.aggregateFields;return Object.keys(U).reduce((M,F)=>(M[T[F]]=U[F],M),{})}(o,e,t))}catch(o){r.reject(o)}}),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(i,e,t){if(!t)throw new be(ae.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function KP(i,e,t,r){if(e===!0&&r===!0)throw new be(ae.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function c0(i){if(!Ie.isDocumentKey(i))throw new be(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function u0(i){if(Ie.isDocumentKey(i))throw new be(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Oh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Me()}function la(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new be(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Oh(i);throw new be(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="firestore.googleapis.com",d0=!0;class h0{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new be(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kx,this.ssl=d0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:d0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yk)throw new be(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new be(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new be(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new be(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kh{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new K2;switch(r.type){case"firstParty":return new W2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=l0.get(t);r&&(ve("ComponentProvider","Removing Datastore"),l0.delete(t),r.terminate())}(this),Promise.resolve()}}function QP(i,e,t,r={}){var o;const l=(i=la(i,kh))._getSettings(),d=Object.assign(Object.assign({},l),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${t}`;l.host!==kx&&l.host!==p&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:p,ssl:!1,emulatorOptions:r});if(!xs(f,d)&&(i._setSettings(f),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=yn.MOCK_USER;else{m=PI(r.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new be(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new yn(b)}i._authCredentials=new Q2(new ET(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new il(this.firestore,e,this._query)}}class Bn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bn(this.firestore,e,this._key)}}class kr extends il{constructor(e,t,r){super(e,t,UT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bn(this.firestore,null,new Ie(e))}withConverter(e){return new kr(this.firestore,e,this._path)}}function An(i,e,...t){if(i=vt(i),Ox("collection","path",e),i instanceof kh){const r=gt.fromString(e,...t);return u0(r),new kr(i,null,r)}{if(!(i instanceof Bn||i instanceof kr))throw new be(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(gt.fromString(e,...t));return u0(r),new kr(i.firestore,null,r)}}function ih(i,e,...t){if(i=vt(i),arguments.length===1&&(e=wT.newId()),Ox("doc","path",e),i instanceof kh){const r=gt.fromString(e,...t);return c0(r),new Bn(i,null,new Ie(r))}{if(!(i instanceof Bn||i instanceof kr))throw new be(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(gt.fromString(e,...t));return c0(r),new Bn(i.firestore,i instanceof kr?i.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="AsyncQueue";class p0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new mx(this,"async_queue_retry"),this.Su=()=>{const r=im();r&&ve(f0,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=im();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=im();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ba;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!tl(e))throw e;ve(f0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const o=function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),p}(r);throw Ga("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=qg.createAndSchedule(this,e,t,r,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&Me()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class js extends kh{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new p0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p0(e),this._firestoreClient=void 0,await e}}}function Rr(i,e){const t=typeof i=="object"?i:mh(),r=typeof i=="string"?i:Kd,o=Yo(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const l=tw("firestore");l&&QP(o,...l)}return o}function Yg(i){if(i._terminated)throw new be(ae.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||YP(i),i._firestoreClient}function YP(i){var e,t,r;const o=i._freezeSettings(),l=function(p,f,m,y){return new fO(p,f,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Dx(y.experimentalLongPollingOptions),y.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new zP(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(p){const f=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(f),_online:f}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class WP{constructor(e,t,r){this._userDataWriter=t,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fo(un.fromBase64String(e))}catch(t){throw new be(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fo(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new be(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new be(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new be(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=/^__.*__$/;class JP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Fr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bc(e,this.data,t,this.fieldTransforms)}}class Px{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Fr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Mx(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me()}}class Jg{constructor(e,t,r,o,l,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Jg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:r,Qu:!1});return o.$u(e),o}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:r,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ah(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Mx(this.Lu)&&ZP.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class eM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ch(e)}ju(e,t,r,o=!1){return new Jg({Lu:e,methodName:t,zu:r,path:cn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mh(i){const e=i._freezeSettings(),t=Ch(i._databaseId);return new eM(i._databaseId,!!e.ignoreUndefinedProperties,t)}function jx(i,e,t,r,o,l={}){const d=i.ju(l.merge||l.mergeFields?2:0,e,t,o);ev("Data must be an object, but it was:",d,r);const p=Lx(r,d);let f,m;if(l.merge)f=new ei(d.fieldMask),m=d.fieldTransforms;else if(l.mergeFields){const y=[];for(const b of l.mergeFields){const T=Vm(e,b,t);if(!d.contains(T))throw new be(ae.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Ux(y,T)||y.push(T)}f=new ei(y),m=d.fieldTransforms.filter(b=>f.covers(b.field))}else f=null,m=d.fieldTransforms;return new JP(new Ln(p),f,m)}class jh extends Xg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jh}}function tM(i,e,t,r){const o=i.ju(1,e,t);ev("Data must be an object, but it was:",o,r);const l=[],d=Ln.empty();Br(r,(f,m)=>{const y=tv(e,f,t);m=vt(m);const b=o.Uu(y);if(m instanceof jh)l.push(y);else{const T=Gc(m,b);T!=null&&(l.push(y),d.set(y,T))}});const p=new ei(l);return new Px(d,p,o.fieldTransforms)}function nM(i,e,t,r,o,l){const d=i.ju(1,e,t),p=[Vm(e,r,t)],f=[o];if(l.length%2!=0)throw new be(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)p.push(Vm(e,l[T])),f.push(l[T+1]);const m=[],y=Ln.empty();for(let T=p.length-1;T>=0;--T)if(!Ux(m,p[T])){const I=p[T];let S=f[T];S=vt(S);const U=d.Uu(I);if(S instanceof jh)m.push(I);else{const M=Gc(S,U);M!=null&&(m.push(I),y.set(I,M))}}const b=new ei(m);return new Px(y,b,d.fieldTransforms)}function iM(i,e,t,r=!1){return Gc(t,i.ju(r?4:3,e))}function Gc(i,e){if(Vx(i=vt(i)))return ev("Unsupported field value:",e,i),Lx(i,e);if(i instanceof Xg)return function(r,o){if(!Mx(o.Lu))throw o.Wu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,o){const l=[];let d=0;for(const p of r){let f=Gc(p,o.Ku(d));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),d++}return{arrayValue:{values:l}}}(i,e)}return function(r,o){if((r=vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jO(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=At.fromDate(r);return{timestampValue:Jd(o.serializer,l)}}if(r instanceof At){const l=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jd(o.serializer,l)}}if(r instanceof Wg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fo)return{bytesValue:ix(o.serializer,r._byteString)};if(r instanceof Bn){const l=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(l))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Pg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Zg)return function(d,p){return{mapValue:{fields:{[NT]:{stringValue:DT},[Qd]:{arrayValue:{values:d.toArray().map(m=>{if(typeof m!="number")throw p.Wu("VectorValues must only contain numeric values.");return Ng(p.serializer,m)})}}}}}}(r,o);throw o.Wu(`Unsupported field value: ${Oh(r)}`)}(i,e)}function Lx(i,e){const t={};return xT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Br(i,(r,o)=>{const l=Gc(o,e.qu(r));l!=null&&(t[r]=l)}),{mapValue:{fields:t}}}function Vx(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof At||i instanceof Wg||i instanceof Fo||i instanceof Bn||i instanceof Xg||i instanceof Zg)}function ev(i,e,t){if(!Vx(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const r=Oh(t);throw r==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+r)}}function Vm(i,e,t){if((e=vt(e))instanceof Ph)return e._internalPath;if(typeof e=="string")return tv(i,e);throw ah("Field path arguments must be of type string or ",i,!1,void 0,t)}const aM=new RegExp("[~\\*/\\[\\]]");function tv(i,e,t){if(e.search(aM)>=0)throw ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Ph(...e.split("."))._internalPath}catch{throw ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function ah(i,e,t,r,o){const l=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let f="";return(l||d)&&(f+=" (found",l&&(f+=` in field ${r}`),d&&(f+=` in document ${o}`),f+=")"),new be(ae.INVALID_ARGUMENT,p+i+f)}function Ux(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class rM extends zx{data(){return super.data()}}function nv(i,e){return typeof e=="string"?tv(i,e):e instanceof Ph?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new be(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iv{}class oM extends iv{}function Ts(i,e,...t){let r=[];e instanceof iv&&r.push(e),r=r.concat(t),function(l){const d=l.filter(f=>f instanceof av).length,p=l.filter(f=>f instanceof Lh).length;if(d>1||d>0&&p>0)throw new be(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)i=o._apply(i);return i}class Lh extends oM{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Lh(e,t,r)}_apply(e){const t=this._parse(e);return Bx(e._query,t),new il(e.firestore,e.converter,Rm(e._query,t))}_parse(e){const t=Mh(e.firestore);return function(l,d,p,f,m,y,b){let T;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new be(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){g0(b,y);const S=[];for(const U of b)S.push(m0(f,l,U));T={arrayValue:{values:S}}}else T=m0(f,l,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||g0(b,y),T=iM(p,d,b,y==="in"||y==="not-in");return Ft.create(m,y,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Di(i,e,t){const r=e,o=nv("where",i);return Lh._create(o,r,t)}class av extends iv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new av(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ji.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let d=o;const p=l.getFlattenedFilters();for(const f of p)Bx(d,f),d=Rm(d,f)}(e._query,t),new il(e.firestore,e.converter,Rm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function m0(i,e,t){if(typeof(t=vt(t))=="string"){if(t==="")throw new be(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zT(e)&&t.indexOf("/")!==-1)throw new be(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(gt.fromString(t));if(!Ie.isDocumentKey(r))throw new be(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Db(i,new Ie(r))}if(t instanceof Bn)return Db(i,t._key);throw new be(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oh(t)}.`)}function g0(i,e){if(!Array.isArray(i)||i.length===0)throw new be(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Bx(i,e){const t=function(o,l){for(const d of o)for(const p of d.getFlattenedFilters())if(l.indexOf(p.op)>=0)return p.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new be(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class lM{convertValue(e,t="none"){switch(Lr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Me()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Br(e,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertVectorValue(e){var t,r,o;const l=(o=(r=(t=e.fields)===null||t===void 0?void 0:t[Qd].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(d=>Mt(d.doubleValue));return new Zg(l)}convertGeoPoint(e){return new Wg(Mt(e.latitude),Mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Th(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Sc(e));default:return null}}convertTimestamp(e){const t=Mr(e);return new At(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=gt.fromString(e);nt(ux(r));const o=new Rc(r.get(1),r.get(3)),l=new Ie(r.popFirst(5));return o.isEqual(t)||Ga(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(i,e,t){let r;return r=i?i.toFirestore(e):e,r}function cM(){return new XP("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uM extends zx{constructor(e,t,r,o,l,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Pd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(nv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Pd extends uM{data(e={}){return super.data(e)}}class dM{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ed(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Pd(this._firestore,this._userDataWriter,r.key,r,new Ed(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new be(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(p=>{const f=new Pd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ed(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:f,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>l||p.type!==3).map(p=>{const f=new Pd(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ed(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,y=-1;return p.type!==0&&(m=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),y=d.indexOf(p.doc.key)),{type:hM(p.type),doc:f,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function hM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me()}}class qx extends lM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bn(this.firestore,null,t)}}function Ir(i){i=la(i,il);const e=la(i.firestore,js),t=Yg(e),r=new qx(e);return sM(i._query),GP(t,i._query).then(o=>new dM(e,r,i,o))}function fM(i,e,t){i=la(i,Bn);const r=la(i.firestore,js),o=Fx(i.converter,e);return Vh(r,[jx(Mh(r),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,_i.none())])}function Hx(i,e,t,...r){i=la(i,Bn);const o=la(i.firestore,js),l=Mh(o);let d;return d=typeof(e=vt(e))=="string"||e instanceof Ph?nM(l,"updateDoc",i._key,e,t,r):tM(l,"updateDoc",i._key,e),Vh(o,[d.toMutation(i._key,_i.exists(!0))])}function pM(i){return Vh(la(i.firestore,js),[new Dg(i._key,_i.none())])}function Gx(i,e){const t=la(i.firestore,js),r=ih(i),o=Fx(i.converter,e);return Vh(t,[jx(Mh(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,_i.exists(!1))]).then(()=>r)}function Vh(i,e){return function(r,o){const l=new Ba;return r.asyncQueue.enqueueAndForget(async()=>NP(await FP(r),o,l)),l.promise}(Yg(i),e)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(i){return mM(i,{count:cM()})}function mM(i,e){const t=la(i.firestore,js),r=Yg(t),o=dO(e,(l,d)=>new $O(d,l.aggregateType,l._internalFieldPath));return $P(r,i._query,o).then(l=>function(p,f,m){const y=new qx(p);return new WP(f,y,m)}(t,i,l))}(function(e,t=!0){(function(o){Jo=o})(Xo),Mi(new Ei("firestore",(r,{instanceIdentifier:o,options:l})=>{const d=r.getProvider("app").getImmediate(),p=new js(new Y2(r.getProvider("auth-internal")),new Z2(d,r.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new be(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rc(m.options.projectId,y)}(d,o),d);return l=Object.assign({useFetchStreams:t},l),p._setSettings(l),p},"PUBLIC").setMultipleInstances(!0)),Un(_b,Eb,e),Un(_b,Eb,"esm2017")})();const gM={apiKey:"AIzaSyBvJN_tCgAo_EchtZDzrtKcZ6x8W-GniAk",authDomain:"bin-buddy-v1.firebaseapp.com",projectId:"bin-buddy-v1",storageBucket:"rbin-buddy-v1.firebasestorage.app",messagingSenderId:"881998622573",appId:"1:881998622573:web:d1571774c28ee2e5cab464",measurementId:"G-PRK6MDP30W"},$x=uw(gM),ki=Uc($x),vM=new ja,Ci=Rr($x);function yM(){var i,e,t;return!!(document.referrer.startsWith("android-app://")||(i=window.matchMedia)!=null&&i.call(window,"(display-mode: standalone)").matches||(e=window.matchMedia)!=null&&e.call(window,"(display-mode: fullscreen)").matches||(t=window.matchMedia)!=null&&t.call(window,"(display-mode: minimal-ui)").matches||window.navigator.standalone===!0)}const Li=()=>{const[i,e]=D.useState(!1),[t,r]=D.useState(null),[o,l]=D.useState(!0),[d,p]=D.useState(!0);D.useEffect(()=>{e(yM());const y=Zo(ki,b=>{r(b||null),l(!1)});return()=>y()},[]);const f=()=>{p(!d)},m=()=>{p(!0)};return v.jsxs("nav",{className:"navbar navbar-expand-lg navbar-light bg-white shadow-sm px-4 vh-10",children:[v.jsx("a",{className:"navbar-brand",href:"#",children:v.jsx("img",{src:"/icons/icon-192x192.png",alt:"Logo",height:"40"})}),v.jsx("button",{className:"navbar-toggler",type:"button",onClick:f,"aria-controls":"navbarNav","aria-expanded":!d,"aria-label":"Toggle navigation",children:v.jsx("span",{className:"navbar-toggler-icon"})}),v.jsxs("div",{className:`collapse navbar-collapse justify-content-end ${d?"":"show"}`,id:"navbarNav",children:[v.jsxs("ul",{className:"navbar-nav me-3 d-flex gap-4",children:[v.jsx("li",{className:"nav-item",children:v.jsx(Et,{to:"/",className:"nav-link text-decoration-none text-dark",onClick:m,children:"Home"})}),v.jsx("li",{className:"nav-item",children:v.jsx("a",{className:"nav-link",href:"#",onClick:m,children:"How it works"})}),!i&&v.jsx("li",{className:"nav-item",children:v.jsx(Et,{to:"/ourApp",className:"nav-link text-decoration-none text-dark",onClick:m,children:"Our App"})}),v.jsx("li",{className:"nav-item",children:v.jsx(Et,{to:"/categorizer",className:"nav-link text-decoration-none text-dark",onClick:m,children:"Try us"})})]}),!o&&(t?v.jsx(Et,{to:"/profile",className:"btn btn-profile text-decoration-none",onClick:m,children:t.displayName||"User"}):v.jsx(Et,{to:"/signin",className:"btn btn-signin text-decoration-none",onClick:m,children:"Sign Up"}))]})]})},Kx=D.createContext(),_M=({children:i})=>{const[e,t]=D.useState(null),[r,o]=D.useState(!0);return D.useEffect(()=>{const l=Zo(ki,d=>{t(d),o(!1)});return()=>l()},[]),v.jsx(Kx.Provider,{value:{user:e,loading:r},children:i})},EM=()=>D.useContext(Kx),bM=async()=>{try{const i=await Gx(An(Ci,"dummy"),{name:"John Doe",email:"test"});console.log("Document written with ID: ",i.id)}catch(i){console.error("Error adding document: ",i)}},wM=()=>{const{user:i,loading:e}=EM();return D.useEffect(()=>{!e&&i&&i.getIdTokenResult().then(t=>{t.claims.admin?console.log("User is admin"):console.log("User is not admin")}).catch(t=>{console.log("Error getting token result:",t)})},[i,e]),v.jsxs("div",{children:[v.jsx(Li,{}),v.jsx("div",{className:"container mt-5",children:v.jsx("button",{className:"btn btn-primary",onClick:bM,children:"Click Me"})})]})};function Qx(){const i=Qo(),e=()=>{jN(ki,vM).then(t=>{const r=t.user;console.log("User Info:",r),i("/categorizer")}).catch(t=>{console.error("Error signing in with Google:",t)})};return v.jsxs("button",{className:"btn w-100 d-flex align-items-center justify-content-center gap-2 border",onClick:e,children:[v.jsx("img",{src:"https://img.icons8.com/?size=100&id=V5cGWnc9R4xj&format=png&color=000000",alt:"Google logo",style:{width:"28px"}}),v.jsx("span",{className:"text-sm font-medium text-[#5F6368]",children:"Login with Google"})]})}const TM=()=>{const[i,e]=D.useState(""),t=Qo(),[r,o]=Dt.useState(""),[l,d]=Dt.useState("");D.useEffect(()=>{const f=Zo(ki,m=>{m&&t("/categorizer")});return()=>f()},[t]);const p=async()=>{const f=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(r===""||l===""){e("Please fill in all fields!");return}else if(f.test(r)){if(l.length<6){e("Password must be at least 6 characters long!");return}}else{e("Please enter a valid email address!");return}e("");try{await hN(ki,r,l),console.log("User signed in successfully"),t("/categorizer")}catch(m){console.error("Error signing in:",m),e("Invalid email or password")}};return v.jsx(v.Fragment,{children:v.jsxs("div",{className:"d-flex flex-column vh-100",children:[v.jsx(Li,{}),v.jsx("main",{className:"flex-fill",children:v.jsx("div",{className:"container-fluid h-100 p-0",children:v.jsxs("div",{className:"row h-100 m-0",children:[v.jsx("div",{className:"col-12 col-md-7 p-0",children:v.jsx("img",{src:"https://img.freepik.com/free-photo/used-plastic-bottles-recycling-bins-earth-day-campaign_53876-104848.jpg?t=st=1744912132~exp=1744915732~hmac=22486357cfb1855af022c6fd4a7baa301610b26a825048aa1f845fbdb81d5f48&w=996",alt:"Recyclables",className:"w-100 h-100 object-fit-cover"})}),v.jsx("div",{className:"col-12 col-md-5 d-flex flex-column justify-content-center align-items-center",children:v.jsxs("div",{className:"form-container",style:{width:"80%"},children:[v.jsx("p",{className:"fw-bold fs-4 empty",children:"Welcome Back!"}),v.jsxs("p",{className:"fw-light text-secondary f-9",children:["Don't have an account?","  ",v.jsx(Et,{to:"/register",className:"text-decoration-none fw-semibold text-muted",children:"Create a new account now!"})]}),v.jsx("div",{className:"row g-2 mb-2",children:v.jsx(Qx,{})}),v.jsxs("div",{className:"d-flex align-items-center my-3",children:[v.jsx("hr",{className:"flex-grow-1 m-0"}),v.jsx("p",{className:"px-2 m-0 text-secondary f-9",children:"Or"}),v.jsx("hr",{className:"flex-grow-1 m-0"})]}),v.jsxs("div",{className:"form-floating mb-3",children:[v.jsx("input",{type:"email",className:"form-control form-control-sm border-0 border-bottom fs-9",id:"email-input",placeholder:"Email",value:r,onChange:f=>{o(f.target.value),e("")}}),v.jsx("label",{htmlFor:"email-input",className:"text-muted",style:{fontSize:"14px"},children:"Email"})]}),v.jsxs("div",{className:"form-floating mb-3",children:[v.jsx("input",{type:"password",className:"form-control form-control-sm border-0 border-bottom fs-9",id:"password-input",placeholder:"Password",value:l,onChange:f=>{d(f.target.value),e("")},onKeyDown:f=>{f.key==="Enter"&&p()}}),v.jsx("label",{htmlFor:"password-input",className:"text-muted",style:{fontSize:"14px"},children:"Password"})]}),i&&v.jsx("p",{className:"fw-light text-danger text-start f-9",children:i}),v.jsx("button",{className:"btn rounded-3 col-12 mb-3",type:"button",style:{backgroundColor:"#80BC44",color:"#fff"},onClick:p,children:"Sign in"}),v.jsx(Et,{to:"/forgot-password",className:"text-decoration-none fw-semibold text-muted",children:"Forgot Password?"})]})})]})})})]})})},xM=()=>{const[i,e]=D.useState(""),[t,r]=D.useState(""),[o,l]=D.useState(""),[d,p]=D.useState(""),[f,m]=D.useState(!1),y=Qo();D.useEffect(()=>{const T=Zo(ki,I=>{I&&y("/categorizer")});return()=>T()},[y]);const b=async()=>{const T=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,I=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/;if(t!==o){p("Passwords do not match!");return}if(!i||!t||!o){p("Please fill in all fields!");return}if(t.length<6){p("Password must be at least 6 characters long!");return}if(!T.test(i)){p("Please enter a valid email address!");return}if(!f){p("Please agree to the Terms of Service!");return}if(!I.test(t)){p("Password must contain at least one letter and one number!");return}p("");try{await dN(ki,i,t),y("/categorizer")}catch(S){console.error("Error signing up:",S),p("Failed to create an account. Please try again.")}};return v.jsxs("div",{className:"d-flex flex-column vh-100",children:[v.jsx(Li,{}),v.jsx("main",{className:"flex-fill",children:v.jsx("div",{className:"container-fluid h-100 p-0",children:v.jsxs("div",{className:"row h-100 m-0",children:[v.jsx("div",{className:"col-12 col-md-7 d-block d-md-none",children:v.jsx("img",{src:"https://img.freepik.com/free-photo/used-plastic-bottles-recycling-bins-earth-day-campaign_53876-104848.jpg",alt:"Recyclables",className:"w-100 h-100 object-fit-cover"})}),v.jsx("div",{className:"col-12 col-md-5 d-flex flex-column justify-content-center align-items-center",children:v.jsxs("div",{style:{width:"80%"},children:[v.jsx("p",{className:"fw-bold fs-4",children:"Welcome Back!"}),v.jsxs("p",{className:"fw-light text-secondary",children:["Already have an account?"," ",v.jsx(Et,{to:"/signin",className:"text-decoration-none fw-semibold text-muted",children:"Sign in now!"})]}),v.jsx("div",{className:"row g-2 mb-2",children:v.jsx(Qx,{})}),v.jsxs("div",{className:"d-flex align-items-center",children:[v.jsx("hr",{className:"flex-grow-1 m-0"}),v.jsx("p",{className:"px-2 m-0 text-secondary",children:"Or"}),v.jsx("hr",{className:"flex-grow-1 m-0"})]}),v.jsxs("div",{className:"form-floating mb-1",children:[v.jsx("input",{type:"email",className:"form-control form-control-sm mb-2 border-0 border-bottom",id:"email",placeholder:"Email",onChange:T=>e(T.target.value)}),v.jsx("label",{htmlFor:"email",className:"text-muted",style:{fontSize:"14px"},children:"Email"})]}),v.jsxs("div",{className:"form-floating mb-3",children:[v.jsx("input",{type:"password",className:"form-control form-control-sm mb-2 border-0 border-bottom",id:"password",placeholder:"Password",onChange:T=>r(T.target.value)}),v.jsx("label",{htmlFor:"password",className:"text-muted",style:{fontSize:"14px"},children:"Password"})]}),v.jsxs("div",{className:"form-floating mb-3",children:[v.jsx("input",{type:"password",className:"form-control form-control-sm mb-2 border-0 border-bottom",id:"confirmPassword",placeholder:"Confirm Password",onChange:T=>l(T.target.value)}),v.jsx("label",{htmlFor:"confirmPassword",className:"text-muted",style:{fontSize:"14px"},children:"Confirm Password"})]}),v.jsxs("div",{className:"form-check text-start mb-3",children:[v.jsx("input",{className:"form-check-input",type:"checkbox",id:"terms",onChange:T=>m(T.target.checked)}),v.jsxs("label",{className:"form-check-label text-muted",htmlFor:"terms",children:["I agree to the ",v.jsx("span",{className:"fw-bold",children:"Terms of Service"}),"."]})]}),v.jsx("button",{className:"btn rounded-3 col-12 mb-2",style:{backgroundColor:"#80BC44",color:"#fff"},onClick:b,children:"Sign Up"}),d&&v.jsx("p",{className:"fw-light text-danger text-start",children:d})]})}),v.jsx("div",{className:"col-12 col-md-7 p-0 d-none d-md-block",children:v.jsx("img",{src:"https://img.freepik.com/free-photo/used-plastic-bottles-recycling-bins-earth-day-campaign_53876-104848.jpg",alt:"Recyclables",className:"w-100 h-100 object-fit-cover"})})]})})})]})};var rm={exports:{}},sm,v0;function AM(){if(v0)return sm;v0=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return sm=i,sm}var om,y0;function SM(){if(y0)return om;y0=1;var i=AM();function e(){}function t(){}return t.resetWarningCache=e,om=function(){function r(d,p,f,m,y,b){if(b!==i){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}r.isRequired=r;function o(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},om}var _0;function RM(){return _0||(_0=1,rm.exports=SM()()),rm.exports}var IM=RM();const pt=Qm(IM),CM=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function qo(i,e,t){const r=NM(i),{webkitRelativePath:o}=i,l=typeof e=="string"?e:typeof o=="string"&&o.length>0?o:`./${i.name}`;return typeof r.path!="string"&&E0(r,"path",l),E0(r,"relativePath",l),r}function NM(i){const{name:e}=i;if(e&&e.lastIndexOf(".")!==-1&&!i.type){const r=e.split(".").pop().toLowerCase(),o=CM.get(r);o&&Object.defineProperty(i,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return i}function E0(i,e,t){Object.defineProperty(i,e,{value:t,writable:!1,configurable:!1,enumerable:!0})}const DM=[".DS_Store","Thumbs.db"];function OM(i){return ks(this,void 0,void 0,function*(){return rh(i)&&kM(i.dataTransfer)?LM(i.dataTransfer,i.type):PM(i)?MM(i):Array.isArray(i)&&i.every(e=>"getFile"in e&&typeof e.getFile=="function")?jM(i):[]})}function kM(i){return rh(i)}function PM(i){return rh(i)&&rh(i.target)}function rh(i){return typeof i=="object"&&i!==null}function MM(i){return Um(i.target.files).map(e=>qo(e))}function jM(i){return ks(this,void 0,void 0,function*(){return(yield Promise.all(i.map(t=>t.getFile()))).map(t=>qo(t))})}function LM(i,e){return ks(this,void 0,void 0,function*(){if(i.items){const t=Um(i.items).filter(o=>o.kind==="file");if(e!=="drop")return t;const r=yield Promise.all(t.map(VM));return b0(Yx(r))}return b0(Um(i.files).map(t=>qo(t)))})}function b0(i){return i.filter(e=>DM.indexOf(e.name)===-1)}function Um(i){if(i===null)return[];const e=[];for(let t=0;t<i.length;t++){const r=i[t];e.push(r)}return e}function VM(i){if(typeof i.webkitGetAsEntry!="function")return w0(i);const e=i.webkitGetAsEntry();return e&&e.isDirectory?Xx(e):w0(i,e)}function Yx(i){return i.reduce((e,t)=>[...e,...Array.isArray(t)?Yx(t):[t]],[])}function w0(i,e){return ks(this,void 0,void 0,function*(){var t;if(globalThis.isSecureContext&&typeof i.getAsFileSystemHandle=="function"){const l=yield i.getAsFileSystemHandle();if(l===null)throw new Error(`${i} is not a File`);if(l!==void 0){const d=yield l.getFile();return d.handle=l,qo(d)}}const r=i.getAsFile();if(!r)throw new Error(`${i} is not a File`);return qo(r,(t=e==null?void 0:e.fullPath)!==null&&t!==void 0?t:void 0)})}function UM(i){return ks(this,void 0,void 0,function*(){return i.isDirectory?Xx(i):zM(i)})}function Xx(i){const e=i.createReader();return new Promise((t,r)=>{const o=[];function l(){e.readEntries(d=>ks(this,void 0,void 0,function*(){if(d.length){const p=Promise.all(d.map(UM));o.push(p),l()}else try{const p=yield Promise.all(o);t(p)}catch(p){r(p)}}),d=>{r(d)})}l()})}function zM(i){return ks(this,void 0,void 0,function*(){return new Promise((e,t)=>{i.file(r=>{const o=qo(r,i.fullPath);e(o)},r=>{t(r)})})})}var bd={},T0;function BM(){return T0||(T0=1,bd.__esModule=!0,bd.default=function(i,e){if(i&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var r=i.name||"",o=(i.type||"").toLowerCase(),l=o.replace(/\/.*$/,"");return t.some(function(d){var p=d.trim().toLowerCase();return p.charAt(0)==="."?r.toLowerCase().endsWith(p):p.endsWith("/*")?l===p.replace(/\/.*$/,""):o===p})}return!0}),bd}var FM=BM();const lm=Qm(FM);function x0(i){return GM(i)||HM(i)||Zx(i)||qM()}function qM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HM(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function GM(i){if(Array.isArray(i))return zm(i)}function A0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,r)}return t}function S0(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?A0(Object(t),!0).forEach(function(r){Wx(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):A0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function Wx(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Dc(i,e){return QM(i)||KM(i,e)||Zx(i,e)||$M()}function $M(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zx(i,e){if(i){if(typeof i=="string")return zm(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return zm(i,e)}}function zm(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}function KM(i,e){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var r=[],o=!0,l=!1,d,p;try{for(t=t.call(i);!(o=(d=t.next()).done)&&(r.push(d.value),!(e&&r.length===e));o=!0);}catch(f){l=!0,p=f}finally{try{!o&&t.return!=null&&t.return()}finally{if(l)throw p}}return r}}function QM(i){if(Array.isArray(i))return i}var YM=typeof lm=="function"?lm:lm.default,XM="file-invalid-type",WM="file-too-large",ZM="file-too-small",JM="too-many-files",ej=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e.split(","),r=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:XM,message:"File type must be ".concat(r)}},R0=function(e){return{code:WM,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},I0=function(e){return{code:ZM,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},tj={code:JM,message:"Too many files"};function Jx(i,e){var t=i.type==="application/x-moz-file"||YM(i,e);return[t,t?null:ej(e)]}function eA(i,e,t){if(_s(i.size))if(_s(e)&&_s(t)){if(i.size>t)return[!1,R0(t)];if(i.size<e)return[!1,I0(e)]}else{if(_s(e)&&i.size<e)return[!1,I0(e)];if(_s(t)&&i.size>t)return[!1,R0(t)]}return[!0,null]}function _s(i){return i!=null}function nj(i){var e=i.files,t=i.accept,r=i.minSize,o=i.maxSize,l=i.multiple,d=i.maxFiles,p=i.validator;return!l&&e.length>1||l&&d>=1&&e.length>d?!1:e.every(function(f){var m=Jx(f,t),y=Dc(m,1),b=y[0],T=eA(f,r,o),I=Dc(T,1),S=I[0],U=p?p(f):null;return b&&S&&!U})}function sh(i){return typeof i.isPropagationStopped=="function"?i.isPropagationStopped():typeof i.cancelBubble<"u"?i.cancelBubble:!1}function wd(i){return i.dataTransfer?Array.prototype.some.call(i.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!i.target&&!!i.target.files}function C0(i){i.preventDefault()}function ij(i){return i.indexOf("MSIE")!==-1||i.indexOf("Trident/")!==-1}function aj(i){return i.indexOf("Edge/")!==-1}function rj(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return ij(i)||aj(i)}function na(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return function(r){for(var o=arguments.length,l=new Array(o>1?o-1:0),d=1;d<o;d++)l[d-1]=arguments[d];return e.some(function(p){return!sh(r)&&p&&p.apply(void 0,[r].concat(l)),sh(r)})}}function sj(){return"showOpenFilePicker"in window}function oj(i){if(_s(i)){var e=Object.entries(i).filter(function(t){var r=Dc(t,2),o=r[0],l=r[1],d=!0;return tA(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),d=!1),(!Array.isArray(l)||!l.every(nA))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),d=!1),d}).reduce(function(t,r){var o=Dc(r,2),l=o[0],d=o[1];return S0(S0({},t),{},Wx({},l,d))},{});return[{description:"Files",accept:e}]}return i}function lj(i){if(_s(i))return Object.entries(i).reduce(function(e,t){var r=Dc(t,2),o=r[0],l=r[1];return[].concat(x0(e),[o],x0(l))},[]).filter(function(e){return tA(e)||nA(e)}).join(",")}function cj(i){return i instanceof DOMException&&(i.name==="AbortError"||i.code===i.ABORT_ERR)}function uj(i){return i instanceof DOMException&&(i.name==="SecurityError"||i.code===i.SECURITY_ERR)}function tA(i){return i==="audio/*"||i==="video/*"||i==="image/*"||i==="text/*"||i==="application/*"||/\w+\/[-+.\w]+/g.test(i)}function nA(i){return/^.*\.[\w]+$/.test(i)}var dj=["children"],hj=["open"],fj=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],pj=["refKey","onChange","onClick"];function mj(i){return yj(i)||vj(i)||iA(i)||gj()}function gj(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vj(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function yj(i){if(Array.isArray(i))return Bm(i)}function cm(i,e){return bj(i)||Ej(i,e)||iA(i,e)||_j()}function _j(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iA(i,e){if(i){if(typeof i=="string")return Bm(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Bm(i,e)}}function Bm(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=i[t];return r}function Ej(i,e){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var r=[],o=!0,l=!1,d,p;try{for(t=t.call(i);!(o=(d=t.next()).done)&&(r.push(d.value),!(e&&r.length===e));o=!0);}catch(f){l=!0,p=f}finally{try{!o&&t.return!=null&&t.return()}finally{if(l)throw p}}return r}}function bj(i){if(Array.isArray(i))return i}function N0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,r)}return t}function xt(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?N0(Object(t),!0).forEach(function(r){Fm(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):N0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function Fm(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function oh(i,e){if(i==null)return{};var t=wj(i,e),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(o=0;o<l.length;o++)r=l[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(t[r]=i[r])}return t}function wj(i,e){if(i==null)return{};var t={},r=Object.keys(i),o,l;for(l=0;l<r.length;l++)o=r[l],!(e.indexOf(o)>=0)&&(t[o]=i[o]);return t}var rv=D.forwardRef(function(i,e){var t=i.children,r=oh(i,dj),o=rA(r),l=o.open,d=oh(o,hj);return D.useImperativeHandle(e,function(){return{open:l}},[l]),Dt.createElement(D.Fragment,null,t(xt(xt({},d),{},{open:l})))});rv.displayName="Dropzone";var aA={disabled:!1,getFilesFromEvent:OM,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};rv.defaultProps=aA;rv.propTypes={children:pt.func,accept:pt.objectOf(pt.arrayOf(pt.string)),multiple:pt.bool,preventDropOnDocument:pt.bool,noClick:pt.bool,noKeyboard:pt.bool,noDrag:pt.bool,noDragEventsBubbling:pt.bool,minSize:pt.number,maxSize:pt.number,maxFiles:pt.number,disabled:pt.bool,getFilesFromEvent:pt.func,onFileDialogCancel:pt.func,onFileDialogOpen:pt.func,useFsAccessApi:pt.bool,autoFocus:pt.bool,onDragEnter:pt.func,onDragLeave:pt.func,onDragOver:pt.func,onDrop:pt.func,onDropAccepted:pt.func,onDropRejected:pt.func,onError:pt.func,validator:pt.func};var qm={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function rA(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=xt(xt({},aA),i),t=e.accept,r=e.disabled,o=e.getFilesFromEvent,l=e.maxSize,d=e.minSize,p=e.multiple,f=e.maxFiles,m=e.onDragEnter,y=e.onDragLeave,b=e.onDragOver,T=e.onDrop,I=e.onDropAccepted,S=e.onDropRejected,U=e.onFileDialogCancel,M=e.onFileDialogOpen,F=e.useFsAccessApi,Z=e.autoFocus,G=e.preventDropOnDocument,ce=e.noClick,ue=e.noKeyboard,Te=e.noDrag,j=e.noDragEventsBubbling,R=e.onError,C=e.validator,P=D.useMemo(function(){return lj(t)},[t]),L=D.useMemo(function(){return oj(t)},[t]),z=D.useMemo(function(){return typeof M=="function"?M:D0},[M]),N=D.useMemo(function(){return typeof U=="function"?U:D0},[U]),ye=D.useRef(null),_e=D.useRef(null),Q=D.useReducer(Tj,qm),re=cm(Q,2),he=re[0],se=re[1],O=he.isFocused,J=he.isFileDialogActive,le=D.useRef(typeof window<"u"&&window.isSecureContext&&F&&sj()),ie=function(){!le.current&&J&&setTimeout(function(){if(_e.current){var Se=_e.current.files;Se.length||(se({type:"closeDialog"}),N())}},300)};D.useEffect(function(){return window.addEventListener("focus",ie,!1),function(){window.removeEventListener("focus",ie,!1)}},[_e,J,N,le]);var pe=D.useRef([]),ke=function(Se){ye.current&&ye.current.contains(Se.target)||(Se.preventDefault(),pe.current=[])};D.useEffect(function(){return G&&(document.addEventListener("dragover",C0,!1),document.addEventListener("drop",ke,!1)),function(){G&&(document.removeEventListener("dragover",C0),document.removeEventListener("drop",ke))}},[ye,G]),D.useEffect(function(){return!r&&Z&&ye.current&&ye.current.focus(),function(){}},[ye,Z,r]);var we=D.useCallback(function(fe){R?R(fe):console.error(fe)},[R]),wt=D.useCallback(function(fe){fe.preventDefault(),fe.persist(),Rn(fe),pe.current=[].concat(mj(pe.current),[fe.target]),wd(fe)&&Promise.resolve(o(fe)).then(function(Se){if(!(sh(fe)&&!j)){var Le=Se.length,Ce=Le>0&&nj({files:Se,accept:P,minSize:d,maxSize:l,multiple:p,maxFiles:f,validator:C}),it=Le>0&&!Ce;se({isDragAccept:Ce,isDragReject:it,isDragActive:!0,type:"setDraggedFiles"}),m&&m(fe)}}).catch(function(Se){return we(Se)})},[o,m,we,j,P,d,l,p,f,C]),Je=D.useCallback(function(fe){fe.preventDefault(),fe.persist(),Rn(fe);var Se=wd(fe);if(Se&&fe.dataTransfer)try{fe.dataTransfer.dropEffect="copy"}catch{}return Se&&b&&b(fe),!1},[b,j]),dn=D.useCallback(function(fe){fe.preventDefault(),fe.persist(),Rn(fe);var Se=pe.current.filter(function(Ce){return ye.current&&ye.current.contains(Ce)}),Le=Se.indexOf(fe.target);Le!==-1&&Se.splice(Le,1),pe.current=Se,!(Se.length>0)&&(se({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),wd(fe)&&y&&y(fe))},[ye,y,j]),Sn=D.useCallback(function(fe,Se){var Le=[],Ce=[];fe.forEach(function(it){var ht=Jx(it,P),fn=cm(ht,2),Ka=fn[0],In=fn[1],Hn=eA(it,d,l),Cn=cm(Hn,2),Yt=Cn[0],Gn=Cn[1],Nn=C?C(it):null;if(Ka&&Yt&&!Nn)Le.push(it);else{var ri=[In,Gn];Nn&&(ri=ri.concat(Nn)),Ce.push({file:it,errors:ri.filter(function(ge){return ge})})}}),(!p&&Le.length>1||p&&f>=1&&Le.length>f)&&(Le.forEach(function(it){Ce.push({file:it,errors:[tj]})}),Le.splice(0)),se({acceptedFiles:Le,fileRejections:Ce,isDragReject:Ce.length>0,type:"setFiles"}),T&&T(Le,Ce,Se),Ce.length>0&&S&&S(Ce,Se),Le.length>0&&I&&I(Le,Se)},[se,p,P,d,l,f,T,I,S,C]),jt=D.useCallback(function(fe){fe.preventDefault(),fe.persist(),Rn(fe),pe.current=[],wd(fe)&&Promise.resolve(o(fe)).then(function(Se){sh(fe)&&!j||Sn(Se,fe)}).catch(function(Se){return we(Se)}),se({type:"reset"})},[o,Sn,we,j]),hn=D.useCallback(function(){if(le.current){se({type:"openDialog"}),z();var fe={multiple:p,types:L};window.showOpenFilePicker(fe).then(function(Se){return o(Se)}).then(function(Se){Sn(Se,null),se({type:"closeDialog"})}).catch(function(Se){cj(Se)?(N(Se),se({type:"closeDialog"})):uj(Se)?(le.current=!1,_e.current?(_e.current.value=null,_e.current.click()):we(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):we(Se)});return}_e.current&&(se({type:"openDialog"}),z(),_e.current.value=null,_e.current.click())},[se,z,N,F,Sn,we,L,p]),ni=D.useCallback(function(fe){!ye.current||!ye.current.isEqualNode(fe.target)||(fe.key===" "||fe.key==="Enter"||fe.keyCode===32||fe.keyCode===13)&&(fe.preventDefault(),hn())},[ye,hn]),ii=D.useCallback(function(){se({type:"focus"})},[]),zi=D.useCallback(function(){se({type:"blur"})},[]),ha=D.useCallback(function(){ce||(rj()?setTimeout(hn,0):hn())},[ce,hn]),Rt=function(Se){return r?null:Se},ai=function(Se){return ue?null:Rt(Se)},Fn=function(Se){return Te?null:Rt(Se)},Rn=function(Se){j&&Se.stopPropagation()},qn=D.useMemo(function(){return function(){var fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Se=fe.refKey,Le=Se===void 0?"ref":Se,Ce=fe.role,it=fe.onKeyDown,ht=fe.onFocus,fn=fe.onBlur,Ka=fe.onClick,In=fe.onDragEnter,Hn=fe.onDragOver,Cn=fe.onDragLeave,Yt=fe.onDrop,Gn=oh(fe,fj);return xt(xt(Fm({onKeyDown:ai(na(it,ni)),onFocus:ai(na(ht,ii)),onBlur:ai(na(fn,zi)),onClick:Rt(na(Ka,ha)),onDragEnter:Fn(na(In,wt)),onDragOver:Fn(na(Hn,Je)),onDragLeave:Fn(na(Cn,dn)),onDrop:Fn(na(Yt,jt)),role:typeof Ce=="string"&&Ce!==""?Ce:"presentation"},Le,ye),!r&&!ue?{tabIndex:0}:{}),Gn)}},[ye,ni,ii,zi,ha,wt,Je,dn,jt,ue,Te,r]),wi=D.useCallback(function(fe){fe.stopPropagation()},[]),Ti=D.useMemo(function(){return function(){var fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Se=fe.refKey,Le=Se===void 0?"ref":Se,Ce=fe.onChange,it=fe.onClick,ht=oh(fe,pj),fn=Fm({accept:P,multiple:p,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Rt(na(Ce,jt)),onClick:Rt(na(it,wi)),tabIndex:-1},Le,_e);return xt(xt({},fn),ht)}},[_e,t,p,jt,r]);return xt(xt({},he),{},{isFocused:O&&!r,getRootProps:qn,getInputProps:Ti,rootRef:ye,inputRef:_e,open:Rt(hn)})}function Tj(i,e){switch(e.type){case"focus":return xt(xt({},i),{},{isFocused:!0});case"blur":return xt(xt({},i),{},{isFocused:!1});case"openDialog":return xt(xt({},qm),{},{isFileDialogActive:!0});case"closeDialog":return xt(xt({},i),{},{isFileDialogActive:!1});case"setDraggedFiles":return xt(xt({},i),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return xt(xt({},i),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return xt({},qm);default:return i}}function D0(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj="type.googleapis.com/google.protobuf.Int64Value",Aj="type.googleapis.com/google.protobuf.UInt64Value";function sA(i,e){const t={};for(const r in i)i.hasOwnProperty(r)&&(t[r]=e(i[r]));return t}function lh(i){if(i==null)return null;if(i instanceof Number&&(i=i.valueOf()),typeof i=="number"&&isFinite(i)||i===!0||i===!1||Object.prototype.toString.call(i)==="[object String]")return i;if(i instanceof Date)return i.toISOString();if(Array.isArray(i))return i.map(e=>lh(e));if(typeof i=="function"||typeof i=="object")return sA(i,e=>lh(e));throw new Error("Data cannot be encoded in JSON: "+i)}function Ho(i){if(i==null)return i;if(i["@type"])switch(i["@type"]){case xj:case Aj:{const e=Number(i.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+i);return e}default:throw new Error("Data cannot be decoded from JSON: "+i)}return Array.isArray(i)?i.map(e=>Ho(e)):typeof i=="function"||typeof i=="object"?sA(i,e=>Ho(e)):i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vn extends bi{constructor(e,t,r){super(`${sv}/${e}`,t||""),this.details=r,Object.setPrototypeOf(this,Vn.prototype)}}function Sj(i){if(i>=200&&i<300)return"ok";switch(i){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function ch(i,e){let t=Sj(i),r=t,o;try{const l=e&&e.error;if(l){const d=l.status;if(typeof d=="string"){if(!O0[d])return new Vn("internal","internal");t=O0[d],r=d}const p=l.message;typeof p=="string"&&(r=p),o=l.details,o!==void 0&&(o=Ho(o))}}catch{}return t==="ok"?null:new Vn(t,r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,t,r,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,jn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||t.get().then(l=>this.auth=l,()=>{}),this.messaging||r.get().then(l=>this.messaging=l,()=>{}),this.appCheck||o==null||o.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),r=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:t,messagingToken:r,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="us-central1",Ij=/^data: (.*?)(?:\n|$)/;function Cj(i){let e=null;return{promise:new Promise((t,r)=>{e=setTimeout(()=>{r(new Vn("deadline-exceeded","deadline-exceeded"))},i)}),cancel:()=>{e&&clearTimeout(e)}}}class Nj{constructor(e,t,r,o,l=Hm,d=(...p)=>fetch(...p)){this.app=e,this.fetchImpl=d,this.emulatorOrigin=null,this.contextProvider=new Rj(e,t,r,o),this.cancelAllRequests=new Promise(p=>{this.deleteService=()=>Promise.resolve(p())});try{const p=new URL(l);this.customDomain=p.origin+(p.pathname==="/"?"":p.pathname),this.region=Hm}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function Dj(i,e,t){i.emulatorOrigin=`http://${e}:${t}`}function Oj(i,e,t){const r=o=>Pj(i,e,o,{});return r.stream=(o,l)=>jj(i,e,o,l),r}async function kj(i,e,t,r){t["Content-Type"]="application/json";let o;try{o=await r(i,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let l=null;try{l=await o.json()}catch{}return{status:o.status,json:l}}async function oA(i,e){const t={},r=await i.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(t.Authorization="Bearer "+r.authToken),r.messagingToken&&(t["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=r.appCheckToken),t}function Pj(i,e,t,r){const o=i._url(e);return Mj(i,o,t,r)}async function Mj(i,e,t,r){t=lh(t);const o={data:t},l=await oA(i,r),d=r.timeout||7e4,p=Cj(d),f=await Promise.race([kj(e,o,l,i.fetchImpl),p.promise,i.cancelAllRequests]);if(p.cancel(),!f)throw new Vn("cancelled","Firebase Functions instance was deleted.");const m=ch(f.status,f.json);if(m)throw m;if(!f.json)throw new Vn("internal","Response is not valid JSON object.");let y=f.json.data;if(typeof y>"u"&&(y=f.json.result),typeof y>"u")throw new Vn("internal","Response is missing data field.");return{data:Ho(y)}}function jj(i,e,t,r){const o=i._url(e);return Lj(i,o,t,r||{})}async function Lj(i,e,t,r){var o;t=lh(t);const l={data:t},d=await oA(i,r);d["Content-Type"]="application/json",d.Accept="text/event-stream";let p;try{p=await i.fetchImpl(e,{method:"POST",body:JSON.stringify(l),headers:d,signal:r==null?void 0:r.signal})}catch(I){if(I instanceof Error&&I.name==="AbortError"){const U=new Vn("cancelled","Request was cancelled.");return{data:Promise.reject(U),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(U)}}}}}}const S=ch(0,null);return{data:Promise.reject(S),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(S)}}}}}}let f,m;const y=new Promise((I,S)=>{f=I,m=S});(o=r==null?void 0:r.signal)===null||o===void 0||o.addEventListener("abort",()=>{const I=new Vn("cancelled","Request was cancelled.");m(I)});const b=p.body.getReader(),T=Vj(b,f,m,r==null?void 0:r.signal);return{stream:{[Symbol.asyncIterator](){const I=T.getReader();return{async next(){const{value:S,done:U}=await I.read();return{value:S,done:U}},async return(){return await I.cancel(),{done:!0,value:void 0}}}}},data:y}}function Vj(i,e,t,r){const o=(d,p)=>{const f=d.match(Ij);if(!f)return;const m=f[1];try{const y=JSON.parse(m);if("result"in y){e(Ho(y.result));return}if("message"in y){p.enqueue(Ho(y.message));return}if("error"in y){const b=ch(0,y);p.error(b),t(b);return}}catch(y){if(y instanceof Vn){p.error(y),t(y);return}}},l=new TextDecoder;return new ReadableStream({start(d){let p="";return f();async function f(){if(r!=null&&r.aborted){const m=new Vn("cancelled","Request was cancelled");return d.error(m),t(m),Promise.resolve()}try{const{value:m,done:y}=await i.read();if(y){p.trim()&&o(p.trim(),d),d.close();return}if(r!=null&&r.aborted){const T=new Vn("cancelled","Request was cancelled");d.error(T),t(T),await i.cancel();return}p+=l.decode(m,{stream:!0});const b=p.split(`
`);p=b.pop()||"";for(const T of b)T.trim()&&o(T.trim(),d);return f()}catch(m){const y=m instanceof Vn?m:ch(0,null);d.error(y),t(y)}}},cancel(){return i.cancel()}})}const k0="@firebase/functions",P0="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="auth-internal",zj="app-check-internal",Bj="messaging-internal";function Fj(i){const e=(t,{instanceIdentifier:r})=>{const o=t.getProvider("app").getImmediate(),l=t.getProvider(Uj),d=t.getProvider(Bj),p=t.getProvider(zj);return new Nj(o,l,d,p,r)};Mi(new Ei(sv,e,"PUBLIC").setMultipleInstances(!0)),Un(k0,P0,i),Un(k0,P0,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(i=mh(),e=Hm){const r=Yo(vt(i),sv).getImmediate({identifier:e}),o=tw("functions");return o&&Hj(r,...o),r}function Hj(i,e,t){Dj(vt(i),e,t)}function Gj(i,e,t){return Oj(vt(i),e)}Fj();const $j=()=>{const[i,e]=D.useState([]),[t,r]=D.useState(!1),[o,l]=D.useState(!1),[d,p]=D.useState(Te()),[f,m]=D.useState(""),[y,b]=D.useState(!1),[T,I]=D.useState(""),[S,U]=D.useState(!1),M=6,F=Uc(),{getRootProps:Z,getInputProps:G,isDragActive:ce,open:ue}=rA({accept:{"image/*":[".jpeg",".jpg",".png"]},noClick:!0,onDrop:N=>{const ye=N.map(_e=>Object.assign(_e,{preview:URL.createObjectURL(_e)}));e(ye),r(ye.length>0)}});D.useEffect(()=>{const N=ye=>{var Q;const _e=(Q=ye.clipboardData)==null?void 0:Q.items;if(_e){for(const re of _e)if(re.type.startsWith("image/")){const he=re.getAsFile();if(he){const se=URL.createObjectURL(he),O=Object.assign(he,{preview:se});e(J=>[...J,O]),r(!0)}}}};return document.addEventListener("paste",N),()=>{document.removeEventListener("paste",N)}},[]),D.useEffect(()=>{const N=Zo(F,ye=>{ye?U(!0):(console.log("User is not authenticated"),U(!1))});return()=>N()},[]);function Te(){return!!(document.referrer.startsWith("android-app://")||window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||window.matchMedia&&window.matchMedia("(display-mode: fullscreen)").matches||window.matchMedia&&window.matchMedia("(display-mode: minimal-ui)").matches||window.navigator.standalone===!0)}const j=i.map(N=>v.jsx("img",{src:N.preview,style:{width:"100px",height:"100px",objectFit:"cover"},alt:"preview",onLoad:()=>{URL.revokeObjectURL(N.preview)}},N.name)),R=()=>{l(!0);let N=0,ye="";if(S){const _e="plastic";N=M;const Q=F.currentUser,re=Q?Q.uid:null;ye=_e,P(re,ye,N)}},C=Rr(),P=async(N,ye,_e)=>{try{let Q=F.currentUser;const re=Q&&Q.displayName?Q.displayName:"user",he=At.now(),se=At.fromMillis(he.toMillis()+3*60*60*1e3);await Gx(An(C,"Points"),{username:re,uid:N,itemType:ye,points:_e,createdAt:he,expiresAt:se,isClaimed:!1,isExpired:!1}),console.log("Pending points stored successfully.")}catch(Q){console.error("Error storing pending points:",Q)}},L=async()=>{if(!("NDEFReader"in window)){alert("NFC is not supported on this device.");return}b(!0);try{const N=new window.NDEFReader;await N.scan(),N.onreading=ye=>{const _e=new TextDecoder;for(const Q of ye.message.records)if(Q.recordType==="text"||Q.recordType==="url"){const re=_e.decode(Q.data);try{const he=new URL(re),se=he.searchParams.get("tagUID"),O=he.searchParams.get("binID");if(console.log("NFC Tag UID:",se),console.log("NFC Bin ID:",O),console.log("NFC URL Data:",re),!se||!O){alert("Invalid NFC tag format."),m("Invalid NFC.");return}z(se,O),I("Scan successful!")}catch{m("Malformed NFC tag data."),b(!1)}}},N.onerror=ye=>{m("NFC scan failed. Please try again."),console.error("NFC scan error: ",ye),b(!1)}}catch{console.error("NFC scan failed:",err),alert("Unable to start NFC scan. Make sure NFC is enabled.")}},z=async(N,ye)=>{const _e=qj(mh(),"us-central1"),Q=Gj(_e,"verifyScan");try{const re=await Q({tagUID:N,binID:ye});if(re.data.success){alert(re.data.message);const he=Rr(),se=F.currentUser;try{const O=Ts(An(he,"Points"),Di("uid","==",se.uid),Di("isClaimed","==",!1),Di("isExpired","==",!1),Di("expiresAt",">",At.now())),J=await Ir(O);if(J.empty){console.log("No pending points found for user.");return}J.forEach(async le=>{const ie=le.ref;await Promise.all(J.docs.map(pe=>Hx(ie,{isClaimed:!0,claimedAt:At.now(),claimedBin:ye})))}),alert("Points claimed successfully!")}catch(O){console.error("Error updating points:",O.message),alert("Error updating points: "+O.message)}}else alert(err.message);b(!1)}catch(re){console.error("Error verifying NFC scan:",re),alert("Error verifying NFC scan: "+re.message)}};return v.jsxs(v.Fragment,{children:[y&&v.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",color:"#fff",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"2rem"},children:[v.jsx("div",{children:v.jsx("i",{className:"bi bi-nfc",style:{fontSize:"3rem"}})}),v.jsx("div",{children:"Please scan your NFC tag now..."})]}),o?v.jsxs(v.Fragment,{children:[v.jsx(Li,{}),v.jsx("div",{className:"container-fluid",children:v.jsx("div",{className:"d-flex flex-column",style:{minHeight:"90vh"},children:v.jsxs("div",{className:"d-flex flex-column flex-grow-1 pt-5",id:"page-3",children:[v.jsxs("div",{className:"main-section container",children:[v.jsxs("div",{className:"result-card",children:[v.jsx("img",{src:i[0].preview}),v.jsxs("div",{className:"text-block",children:[v.jsx("p",{className:"fw-bold empty fs-2 mb-2",children:"Plastic Bag (Plastic)"}),v.jsx("p",{className:"text-muted lh-sm mb-2",children:"Please rinse and throw it in our blue recycle bin"}),v.jsxs("p",{className:"text-muted lh-sm",children:["Almost there!",v.jsx("br",{}),"Install our app and dispose of your waste properly to start earning rewards."]})]})]}),v.jsxs("div",{className:"mt-5 pt-3 d-flex flex-column flex-md-row justify-content-center align-items-center gap-3 text-center",children:[v.jsxs("button",{className:"btn btn-lg rounded-4 shadow fw-bold w-100 w-md-25 text-nowrap",type:"button",style:{backgroundColor:"#80BC44",color:"#fff"},onClick:()=>window.location.reload(),children:[v.jsx("i",{className:"bi bi-lightbulb-fill me-2"})," Classify More"]}),d&&v.jsxs("button",{className:"btn btn-lg rounded-4 shadow fw-bold w-100 w-md-25 text-nowrap",type:"button",style:{backgroundColor:"#80BC44",color:"#fff"},onClick:L,children:[v.jsx("i",{className:"bi bi-lightbulb-fill me-2"})," Scan for rewards"]})]})]}),!d&&v.jsx("div",{className:"mt-auto text-center px-8 pb-3",children:v.jsxs("p",{className:"fw-semibold empty text-muted",children:["Install our app to get rewarded each time you scan and throw it correctly.",T&&v.jsx("span",{className:"text-success",children:T})]})})]})})})]}):v.jsxs("div",{...Z(),style:{position:"relative"},children:[" ",v.jsx(Li,{}),v.jsx("input",{...G()}),v.jsxs("div",{className:"container-fluid",children:[ce&&v.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.7)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",color:"white",fontSize:"24px",fontWeight:"bold"},children:"Drop image everywhere"}),v.jsx("div",{className:"d-flex flex-column",style:{minHeight:"90vh"},children:v.jsxs("div",{className:"d-flex flex-column flex-grow-1 pt-5",id:"page-1",children:[v.jsx("p",{className:"fw-bold empty fs-2 text-center",children:"What Kind of Trash Is This"}),v.jsx("p",{className:"fw-semibold empty text-muted text-center lh-sm",children:"Not sure what kind of trash you have? Upload picture"}),v.jsx("p",{className:"fw-semibold empty text-muted text-center lh-sm mb-5",children:"and let us figure it out for you."}),t?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"d-flex justify-content-center mb-5",children:v.jsx("div",{className:"card border-0",style:{height:"30vh"},children:v.jsx("div",{className:"card-body d-flex flex-column align-items-center justify-content-center text-center",children:v.jsx("img",{src:i[0].preview,alt:"Plastic Bag",className:"rounded-3 mb-3",style:{objectFit:"cover",height:"200px",width:"100%",margin:"0 auto"}})})})}),v.jsx("div",{className:"text-center",children:v.jsxs("button",{className:"btn btn-lg rounded-4 mb-4 shadow fw-bold text-center w-75 w-md-25",id:"btn-2",type:"button",style:{backgroundColor:"#80BC44",color:"#fff"},onClick:R,children:[v.jsx("i",{className:"bi bi-lightbulb-fill me-2"}),"Classify Trash"]})})]}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"d-flex justify-content-center mb-5",children:v.jsx("div",{className:"card border-0 rounded-4 shadow resizeCard",style:{height:"30vh"},children:v.jsxs("div",{className:"card-body d-flex flex-column align-items-center justify-content-center text-center",children:[v.jsxs("button",{className:"btn btn-lg rounded-4 col-8 mb-4 shadow fw-bold",id:"btn-1",type:"button",style:{backgroundColor:"#80BC44",color:"#fff"},onClick:ue,children:[v.jsx("i",{className:"bi bi-upload me-3"}),"Upload Image"]}),v.jsx("p",{className:"fw-semibold empty f-9 text-muted lh-sm",children:"or drop a file here"}),v.jsx("p",{className:"fw-semibold empty f-9 text-muted lh-sm",children:"CTRL + V to paste an image"})]})})}),v.jsx("div",{children:j}),v.jsxs("div",{className:"d-flex flex-column flex-md-row justify-content-center align-items-center mb-7 text-center gap-2",children:[v.jsxs("div",{className:"mb-2 mb-md-0 me-md-3",children:[v.jsx("p",{className:"fw-semibold text-muted mb-1",children:"No image?"}),v.jsx("p",{className:"fw-semibold text-muted mb-0",children:"Try one of these images"})]}),v.jsxs("div",{className:"d-flex flex-wrap justify-content-center gap-2",children:[v.jsx("img",{src:"https://cdn1.npcdn.net/images/1593584628fb904e0fb02092edd14651cf0f25c4a4.webp?md5id=6281642964070c8fc6df23720ee81281&new_width=1000&new_height=1000&w=1652761475&from=jpg",className:"rounded-3",style:{width:"40px",height:"40px",objectFit:"cover"}}),v.jsx("img",{src:"https://cdn1.npcdn.net/images/1593584628fb904e0fb02092edd14651cf0f25c4a4.webp?md5id=6281642964070c8fc6df23720ee81281&new_width=1000&new_height=1000&w=1652761475&from=jpg",className:"rounded-3",style:{width:"40px",height:"40px",objectFit:"cover"}}),v.jsx("img",{src:"https://cdn1.npcdn.net/images/1593584628fb904e0fb02092edd14651cf0f25c4a4.webp?md5id=6281642964070c8fc6df23720ee81281&new_width=1000&new_height=1000&w=1652761475&from=jpg",className:"rounded-3",style:{width:"40px",height:"40px",objectFit:"cover"}})]})]})]}),v.jsx("div",{className:"mt-auto text-center px-4 pb-3",children:v.jsx("p",{className:"fw-semibold empty text-muted",children:"Install our app to get rewarded each time you scan and throw it correctly."})})]})})]})]})]})},Kj=()=>{const[i,e]=D.useState(""),t=Qo(),[r,o]=D.useState(null),[l,d]=D.useState(!1),p=()=>{ki.signOut().then(()=>{console.log("User signed out successfully."),t("/")}).catch(m=>{console.error("Error signing out: ",m)})},f=m=>{pN(ki.currentUser,{displayName:m}).then(()=>{console.log("Username updated successfully."),window.location.reload()}).catch(y=>{console.error("Error updating username: ",y)})};return D.useEffect(()=>{const m=ki.onAuthStateChanged(async y=>{if(y){o(y);try{const b=await y.getIdTokenResult();d(!!b.claims.admin)}catch(b){d(!1),console.error("Error checking admin status:",b)}console.log("User is authenticated:",y)}else o(null),d(!1),console.log("User is not authenticated."),t("/")});return()=>m()},[t]),v.jsxs(v.Fragment,{children:[v.jsx(Li,{}),v.jsx("div",{className:"d-flex flex-column",children:v.jsx("div",{className:"d-flex flex-column flex-grow-1 pt-5",children:v.jsxs("div",{className:"row",children:[v.jsxs("div",{className:"col-6",children:[v.jsx("div",{className:"mx-3 my-3",children:v.jsx("p",{children:"Profile Settings"})}),v.jsx("div",{className:"card px-3 py-3",children:v.jsx("p",{children:"Change Username"})})]}),v.jsx("div",{className:"col-6",children:"4s"})]})})}),v.jsx("div",{className:"container-fluid"}),v.jsxs("div",{children:[v.jsx(Li,{}),v.jsx("button",{className:"btn btn-danger",onClick:p,children:"Log Out"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"DEBUG",children:"Change Username"}),v.jsx("input",{type:"text",placeholder:"new username",className:"form-control",onChange:m=>e(m.target.value)}),v.jsx("button",{type:"submit",className:"btn w-100 mb-4",style:{backgroundColor:"#80BC44",color:"#fff"},onClick:()=>f(i),children:"Save"})]}),l&&v.jsx(Et,{to:"/admin/dashboard",children:"Admin Dashboard"}),v.jsx("p",{children:"Version 1.1 Dev"})]})},Qj=()=>{let i;window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),i=t;const r=document.createElement("button");r.innerText="Install App",document.body.appendChild(r),e()&&(r.style.display="block"),r.addEventListener("click",()=>{i.prompt(),i.userChoice.then(o=>{o.outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),i=null})})});function e(){return/Mobi|Android/i.test(navigator.userAgent)}return window.addEventListener("appinstalled",t=>{const r=document.querySelector("button");r&&(r.style.display="none")}),v.jsxs(v.Fragment,{children:[v.jsx(Li,{}),"Our App Page"]})},al=({toggleSidebar:i})=>{const[e,t]=D.useState(null);D.useEffect(()=>{const l=Uc().currentUser;t(l||null)},[]);const r=o=>{o.preventDefault(),typeof i=="function"&&i()};return v.jsx(v.Fragment,{children:v.jsx("nav",{className:"app-header navbar navbar-expand bg-body",children:v.jsxs("div",{className:"container-fluid",children:[v.jsxs("ul",{className:"navbar-nav",children:[v.jsx("li",{className:"nav-item",children:v.jsx("a",{className:"nav-link","data-lte-toggle":"sidebar",href:"#",role:"button",onClick:r,children:v.jsx("i",{className:"bi bi-list"})})}),v.jsx("li",{className:"nav-item d-none d-md-block",children:v.jsx("a",{href:"#",className:"nav-link",children:"Home"})})]}),v.jsxs("ul",{className:"navbar-nav ms-auto",children:[v.jsx(Et,{to:"/",className:"btn btn-outline-primary mx-4",children:"Go to Homepage"}),v.jsx("li",{className:"nav-item dropdown user-menu",children:v.jsxs("a",{href:"#",className:"nav-link dropdown-toggle","data-bs-toggle":"dropdown",children:[v.jsx("img",{src:e&&e.photoURL?e.photoURL:"../../dist/assets/img/user2-160x160.jpg",className:"user-image rounded-circle shadow",alt:"User Image"}),v.jsx("span",{className:"d-none d-md-inline",children:e?e.displayName:"User"})]})})]})]})})})},rl=()=>v.jsxs("aside",{className:"app-sidebar bg-body-secondary shadow","data-bs-theme":"dark","data-toggle":"sidebar",children:[v.jsx("div",{className:"sidebar-brand d-flex justify-content-start mx-3",children:v.jsxs(Et,{to:"/admin/dashboard",className:"brand-link",children:[v.jsx("img",{src:"/icons/logo-black-white.png",alt:"AdminLTE Logo",className:"brand-image opacity-75 shadow"}),v.jsx("span",{className:"brand-text fw-light",children:"Bin Buddy Admin"})]})}),v.jsx("div",{className:"sidebar-wrapper",children:v.jsx("nav",{className:"mt-2",children:v.jsx("ul",{className:"nav sidebar-menu flex-column","data-lte-toggle":"treeview",role:"menu","data-accordion":"false",children:v.jsxs("li",{className:"nav-item menu-open",children:[v.jsx("ul",{className:"nav nav-treeview",children:v.jsx("li",{className:"nav-item",children:v.jsxs(Et,{to:"/admin/dashboard",className:"nav-link",children:[v.jsx("i",{className:"bi bi-house-fill"}),v.jsx("p",{children:"Dashboard"})]})})}),v.jsxs("ul",{className:"nav nav-treeview",children:[v.jsx("li",{className:"nav-item",children:v.jsxs(Et,{to:"/admin/dashboard/station",className:"nav-link",children:[v.jsx("i",{className:"bi bi-trash"}),v.jsx("p",{children:"Station"})]})}),v.jsx("li",{className:"nav-item",children:v.jsxs(Et,{to:"/admin/dashboard/users",className:"nav-link",children:[v.jsx("i",{className:"bi bi-person-fill"}),v.jsx("p",{children:"Users"})]})}),v.jsx("li",{className:"nav-item",children:v.jsxs(Et,{to:"/admin/dashboard/reward",className:"nav-link",children:[v.jsx("i",{className:"bi bi-star-fill"}),v.jsx("p",{children:"Reward"})]})}),v.jsx("li",{className:"nav-item",children:v.jsxs(Et,{to:"/admin/dashboard/point",className:"nav-link",children:[v.jsx("i",{className:"bi bi-123"}),v.jsx("p",{children:"Point Distribution"})]})})]})]})})})})]}),Yj=()=>{const[i,e]=D.useState(0),[t,r]=D.useState(0),[o,l]=D.useState(!0),[d,p]=D.useState("");return D.useEffect(()=>{(async()=>{const m=An(Ci,"Station"),b=(await mc(m)).data().count;e(b)})()},[]),D.useEffect(()=>{(async()=>{try{const m=await(await fetch("https://us-central1-bin-buddy-v1.cloudfunctions.net/getUserCount")).json();r(m.userCount)}catch{p("Error fetching user count.")}finally{l(!1)}})()},[]),v.jsx(v.Fragment,{children:v.jsxs("div",{className:"app-wrapper",children:[v.jsx(al,{}),v.jsx(rl,{}),v.jsxs("div",{className:"app-main",children:[v.jsx("div",{className:"app-content-header",children:v.jsx("div",{className:"container-fluid",children:v.jsxs("div",{className:"row",children:[v.jsx("div",{className:"col-sm-6",children:v.jsx("h3",{className:"mb-0",children:"Dashboard"})}),v.jsx("div",{className:"col-sm-6",children:v.jsx("ol",{className:"breadcrumb float-sm-end",children:v.jsx("li",{className:"breadcrumb-item active",children:"Dashboard"})})})]})})}),v.jsx("div",{className:"app-content",children:v.jsx("div",{className:"container-fluid",children:v.jsxs("div",{className:"row",children:[v.jsx("div",{className:"col-lg-3 col-6",children:v.jsxs("div",{className:"small-box text-bg-success",children:[v.jsxs("div",{className:"inner",style:{color:"#fff"},children:[v.jsx("h3",{className:"fw-semibold",children:i}),v.jsx("p",{children:"Total Stations"})]}),v.jsxs(Et,{to:"/admin/dashboard/station",className:"small-box-footer link-light link-underline-opacity-0 link-underline-opacity-50-hover",children:[v.jsx("i",{className:"bi bi-link-45deg"}),"More info"]})]})}),v.jsx("div",{className:"col-lg-3 col-6",children:v.jsxs("div",{className:"small-box text-bg-info",children:[v.jsxs("div",{className:"inner",style:{color:"#fff"},children:[o&&v.jsx("h3",{children:"Loading..."}),d&&v.jsx("h3",{className:"fw-semibold",children:d}),!o&&!d&&v.jsx("h3",{children:t}),v.jsx("p",{children:"Total Users"})]}),v.jsxs(Et,{to:"/admin/dashboard/users",className:"small-box-footer link-light link-underline-opacity-0 link-underline-opacity-50-hover",children:[v.jsx("i",{className:"bi bi-link-45deg"}),"More info"]})]})})]})})})]})]})})},So=({children:i})=>{const[e,t]=D.useState(!1),[r,o]=D.useState(!0);return D.useEffect(()=>{const l=Zo(ki,async d=>{if(d)try{(await d.getIdTokenResult()).claims.admin===!0?t(!0):t(!1)}catch(p){console.error("Error checking admin status:",p)}o(!1)});return()=>l()},[]),r?v.jsx("div",{children:"Loading..."}):e?i:v.jsx(HR,{to:"/"})},Xj=()=>{const[i,e]=D.useState(""),[t,r]=D.useState(""),[o,l]=D.useState("Forgot Your Password"),[d,p]=D.useState("Enter your email so that we can send you a password reset link"),f=async()=>{const m=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;if(!i){r("Please enter your email!");return}if(!m.test(i)){r("Please enter a valid email address!");return}r("");const y=Uc();try{await oN(y,i,{url:"http://localhost:5173/reset-password",handleCodeInApp:!0}),l("We've sent you a password reset email"),p("Please check your inbox and follow the instructions to reset your password."),e("")}catch(b){console.error("Error sending password reset email:",b),r("Failed to send password reset email. Please try again.")}};return v.jsxs(v.Fragment,{children:[v.jsx(Li,{}),v.jsx("div",{className:"container-fluid",children:v.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"90vh"},children:v.jsx("div",{className:"card border-0 resizeCard",children:v.jsx("div",{className:"card-body d-flex flex-column align-items-center text-center w-100",children:v.jsxs("div",{id:"page-ForPass",className:"text-center",children:[v.jsx("i",{className:"bi bi-robot",style:{fontSize:"50px"}}),v.jsx("p",{className:"fw-bold fs-2",children:o}),v.jsx("p",{className:"fw-light text-secondary f-9",children:d}),v.jsxs("div",{className:"form-floating mb-3",children:[v.jsx("input",{type:"email",className:"form-control form-control-sm border-0 border-bottom",id:"email-input",placeholder:"Email",value:i,onChange:m=>e(m.target.value)}),v.jsx("label",{htmlFor:"email-input",className:"f-9 text-muted",children:"Email"})]}),t&&v.jsx("p",{className:"fw-light text-danger f-9",children:t}),v.jsx("button",{className:"btn rounded-3 col-12 mb-4",style:{backgroundColor:"#80BC44",color:"#fff"},onClick:f,children:"Send Email"}),v.jsx(Et,{to:"/signin",className:"text-decoration-none fw-semibold text-muted",children:v.jsxs("span",{className:"f-9",children:[v.jsx("i",{className:"bi bi-chevron-left"})," Back to Login"]})})]})})})})})]})},Wj=()=>{const[i,e]=D.useState(""),[t,r]=D.useState(""),[o,l]=D.useState(""),[d,p]=D.useState("Change Password"),[f,m]=D.useState("Enter a new password to change."),[y,b]=D.useState(!1),T=async()=>{const S=new URLSearchParams(window.location.search).get("oobCode"),U=Uc(),M=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d!@#$%^&*()_+]{6,}$/;if(!i||!t){l("Please fill in all fields!");return}if(i!==t){l("Passwords do not match!");return}if(i.length<6){l("Password must be at least 6 characters long!");return}if(!M.test(i)){l("Password must contain at least one letter and one number!");return}if(!S){l("Invalid or expired password reset code. Please try again.");return}l("");try{await uN(U,S),await lN(U,S,i),p("Password Changed Successfully"),m("Your password has been changed successfully. You can now log in with your new password."),e(""),r(""),b(!0)}catch(F){console.error("Error changing password:",F),l("Invalid or expired password reset code. Please try again.")}};return v.jsxs(v.Fragment,{children:[v.jsx(Li,{}),v.jsx("div",{className:"container-fluid",style:{height:"100vh"},children:v.jsx("div",{className:"d-flex justify-content-center align-content-center flex-wrap",style:{minHeight:"90vh"},children:v.jsx("div",{className:"card border-0 resizeCard",children:v.jsx("div",{className:"card-body d-flex flex-column align-items-center justify-content-center text-center w-100 empty",children:v.jsxs("div",{className:"text-center",id:"page-newPass",children:[v.jsx("div",{className:"text-center",children:v.jsx("i",{className:"bi bi-robot text-center",style:{fontSize:"50px"}})}),v.jsx("p",{className:"fw-bold empty fs-2 text-center",children:d}),v.jsx("p",{className:"fw-light text-secondary f-9 text-center",children:f}),!y&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"form-floating mb-1",children:[v.jsx("input",{type:"password",className:"form-control form-control-sm mb-2 border-0 border-bottom",id:"new-password",placeholder:"New Password",value:i,onChange:I=>e(I.target.value)}),v.jsx("label",{className:"f-9 text-muted",htmlFor:"new-password",children:"Enter your new password"})]}),v.jsxs("div",{className:"form-floating mb-1",children:[v.jsx("input",{type:"password",className:"form-control form-control-sm mb-2 border-0 border-bottom",id:"confirm-password",placeholder:"Re-enter Password",value:t,onChange:I=>r(I.target.value),onKeyDown:I=>{I.key==="Enter"&&T()}}),v.jsx("label",{className:"f-9 text-muted",htmlFor:"confirm-password",children:"Re-enter your new password"})]}),o&&v.jsx("p",{className:"fw-light text-danger text-start f-9",children:o})]}),y?v.jsx(Et,{to:"/signin",className:"f-9 col-12 rounded-3 mb-4 btn btn-signin text-decoration-none",children:"Return to Login Page"}):v.jsx("button",{className:"btn rounded-3 col-12 mb-3",id:"btn-2",type:"button",style:{backgroundColor:"#80BC44",color:"#fff"},onClick:T,children:"Change Password"}),!y&&v.jsx("div",{className:"text-start",children:v.jsx(Et,{to:"/signin",className:"text-decoration-none fw-semibold text-muted",children:v.jsxs("span",{className:"f-9",children:[v.jsx("i",{className:"bi bi-chevron-left"})," Return to Login Page"]})})})]})})})})})]})},Zj="modulepreload",Jj=function(i){return"/"+i},M0={},eL=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=Promise.allSettled(t.map(f=>{if(f=Jj(f),f in M0)return;M0[f]=!0;const m=f.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${y}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":Zj,m||(b.as="script"),b.crossOrigin="",b.href=f,p&&b.setAttribute("nonce",p),document.head.appendChild(b),m)return new Promise((T,I)=>{b.addEventListener("load",T),b.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return o.then(d=>{for(const p of d||[])p.status==="rejected"&&l(p.reason);return e().catch(l)})};function tL(i={}){const{immediate:e=!1,onNeedRefresh:t,onOfflineReady:r,onRegistered:o,onRegisteredSW:l,onRegisterError:d}=i;let p,f;const m=async(b=!0)=>{await f};async function y(){if("serviceWorker"in navigator){if(p=await eL(async()=>{const{Workbox:b}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:b}},[]).then(({Workbox:b})=>new b("/sw.js",{scope:"/",type:"classic"})).catch(b=>{d==null||d(b)}),!p)return;p.addEventListener("activated",b=>{(b.isUpdate||b.isExternal)&&window.location.reload()}),p.addEventListener("installed",b=>{b.isUpdate||r==null||r()}),p.register({immediate:e}).then(b=>{l?l("/sw.js",b):o==null||o(b)}).catch(b=>{d==null||d(b)})}}return f=y(),m}/*!
 * AdminLTE v4.0.0-beta3 (https://adminlte.io)
 * Copyright 2014-2024 Colorlib <https://colorlib.com>
 * Licensed under MIT (https://github.com/ColorlibHQ/AdminLTE/blob/master/LICENSE)
 */(function(i,e){typeof Km=="object"&&typeof EA<"u"?e(Km):typeof define=="function"&&define.amd?define(["exports"],e):(i=typeof globalThis<"u"?globalThis:i||self,e(i.adminlte={}))})(void 0,function(i){const e=[],t=ge=>{document.readyState==="loading"?(e.length||document.addEventListener("DOMContentLoaded",()=>{for(const oe of e)oe()}),e.push(ge)):ge()},r=(ge,oe=500)=>{ge.style.transitionProperty="height, margin, padding",ge.style.transitionDuration=`${oe}ms`,ge.style.boxSizing="border-box",ge.style.height=`${ge.offsetHeight}px`,ge.style.overflow="hidden",window.setTimeout(()=>{ge.style.height="0",ge.style.paddingTop="0",ge.style.paddingBottom="0",ge.style.marginTop="0",ge.style.marginBottom="0"},1),window.setTimeout(()=>{ge.style.display="none",ge.style.removeProperty("height"),ge.style.removeProperty("padding-top"),ge.style.removeProperty("padding-bottom"),ge.style.removeProperty("margin-top"),ge.style.removeProperty("margin-bottom"),ge.style.removeProperty("overflow"),ge.style.removeProperty("transition-duration"),ge.style.removeProperty("transition-property")},oe)},o=(ge,oe=500)=>{ge.style.removeProperty("display");let{display:me}=window.getComputedStyle(ge);me==="none"&&(me="block"),ge.style.display=me;const Re=ge.offsetHeight;ge.style.overflow="hidden",ge.style.height="0",ge.style.paddingTop="0",ge.style.paddingBottom="0",ge.style.marginTop="0",ge.style.marginBottom="0",window.setTimeout(()=>{ge.style.boxSizing="border-box",ge.style.transitionProperty="height, margin, padding",ge.style.transitionDuration=`${oe}ms`,ge.style.height=`${Re}px`,ge.style.removeProperty("padding-top"),ge.style.removeProperty("padding-bottom"),ge.style.removeProperty("margin-top"),ge.style.removeProperty("margin-bottom")},1),window.setTimeout(()=>{ge.style.removeProperty("height"),ge.style.removeProperty("overflow"),ge.style.removeProperty("transition-duration"),ge.style.removeProperty("transition-property")},oe)};/**
 * --------------------------------------------
 * @file AdminLTE layout.ts
 * @description Layout for AdminLTE.
 * @license MIT
 * --------------------------------------------
 */const l="hold-transition",d="app-loaded";class p{constructor(oe){this._element=oe}holdTransition(){let oe;window.addEventListener("resize",()=>{document.body.classList.add(l),clearTimeout(oe),oe=setTimeout(()=>{document.body.classList.remove(l)},400)})}}t(()=>{new p(document.body).holdTransition(),setTimeout(()=>{document.body.classList.add(d)},400)});/**
 * --------------------------------------------
 * @file AdminLTE push-menu.ts
 * @description Push menu for AdminLTE.
 * @license MIT
 * --------------------------------------------
 */const m=".lte.push-menu",y=`open${m}`,b=`collapse${m}`,T="sidebar-mini",I="sidebar-collapse",S="sidebar-open",U="sidebar-expand",M="sidebar-overlay",F="menu-open",Z=".app-sidebar",G=".sidebar-menu",ce=".nav-item",ue=".nav-treeview",Te=".app-wrapper",j=`[class*="${U}"]`,R='[data-lte-toggle="sidebar"]',C={sidebarBreakpoint:992};class P{constructor(oe,me){this._element=oe,this._config=Object.assign(Object.assign({},C),me)}menusClose(){document.querySelectorAll(ue).forEach(Oe=>{Oe.style.removeProperty("display"),Oe.style.removeProperty("height")});const me=document.querySelector(G),Re=me==null?void 0:me.querySelectorAll(ce);Re&&Re.forEach(Oe=>{Oe.classList.remove(F)})}expand(){const oe=new Event(y);document.body.classList.remove(I),document.body.classList.add(S),this._element.dispatchEvent(oe)}collapse(){const oe=new Event(b);document.body.classList.remove(S),document.body.classList.add(I),this._element.dispatchEvent(oe)}addSidebarBreakPoint(){var oe,me,Re;const Oe=(me=(oe=document.querySelector(j))===null||oe===void 0?void 0:oe.classList)!==null&&me!==void 0?me:[],Ue=(Re=Array.from(Oe).find(Qa=>Qa.startsWith(U)))!==null&&Re!==void 0?Re:"",rt=document.getElementsByClassName(Ue)[0],Dn=window.getComputedStyle(rt,"::before").getPropertyValue("content");this._config=Object.assign(Object.assign({},this._config),{sidebarBreakpoint:Number(Dn.replace(/[^\d.-]/g,""))}),window.innerWidth<=this._config.sidebarBreakpoint?this.collapse():(document.body.classList.contains(T)||this.expand(),document.body.classList.contains(T)&&document.body.classList.contains(I)&&this.collapse())}toggle(){document.body.classList.contains(I)?this.expand():this.collapse()}init(){this.addSidebarBreakPoint()}}t(()=>{var ge;const oe=document==null?void 0:document.querySelector(Z);if(oe){const Oe=new P(oe,C);Oe.init(),window.addEventListener("resize",()=>{Oe.init()})}const me=document.createElement("div");me.className=M,(ge=document.querySelector(Te))===null||ge===void 0||ge.append(me),me.addEventListener("touchstart",Oe=>{Oe.preventDefault();const Ue=Oe.currentTarget;new P(Ue,C).collapse()},{passive:!0}),me.addEventListener("click",Oe=>{Oe.preventDefault();const Ue=Oe.currentTarget;new P(Ue,C).collapse()}),document.querySelectorAll(R).forEach(Oe=>{Oe.addEventListener("click",Ue=>{Ue.preventDefault();let rt=Ue.currentTarget;(rt==null?void 0:rt.dataset.lteToggle)!=="sidebar"&&(rt=rt==null?void 0:rt.closest(R)),rt&&(Ue==null||Ue.preventDefault(),new P(rt,C).toggle())})})});/**
 * --------------------------------------------
 * @file AdminLTE treeview.ts
 * @description Treeview plugin for AdminLTE.
 * @license MIT
 * --------------------------------------------
 */const z=".lte.treeview",N=`expanded${z}`,ye=`collapsed${z}`,_e="menu-open",Q=".nav-item",re=".nav-link",he=".nav-treeview",se='[data-lte-toggle="treeview"]',O={animationSpeed:300,accordion:!0};class J{constructor(oe,me){this._element=oe,this._config=Object.assign(Object.assign({},O),me)}open(){var oe,me;const Re=new Event(N);if(this._config.accordion){const Ue=(oe=this._element.parentElement)===null||oe===void 0?void 0:oe.querySelectorAll(`${Q}.${_e}`);Ue==null||Ue.forEach(rt=>{if(rt!==this._element.parentElement){rt.classList.remove(_e);const Dn=rt==null?void 0:rt.querySelector(he);Dn&&r(Dn,this._config.animationSpeed)}})}this._element.classList.add(_e);const Oe=(me=this._element)===null||me===void 0?void 0:me.querySelector(he);Oe&&o(Oe,this._config.animationSpeed),this._element.dispatchEvent(Re)}close(){var oe;const me=new Event(ye);this._element.classList.remove(_e);const Re=(oe=this._element)===null||oe===void 0?void 0:oe.querySelector(he);Re&&r(Re,this._config.animationSpeed),this._element.dispatchEvent(me)}toggle(){this._element.classList.contains(_e)?this.close():this.open()}}t(()=>{document.querySelectorAll(se).forEach(oe=>{oe.addEventListener("click",me=>{const Re=me.target,Oe=Re.closest(Q),Ue=Re.closest(re);((Re==null?void 0:Re.getAttribute("href"))==="#"||(Ue==null?void 0:Ue.getAttribute("href"))==="#")&&me.preventDefault(),Oe&&new J(Oe,O).toggle()})})});/**
 * --------------------------------------------
 * @file AdminLTE direct-chat.ts
 * @description Direct chat for AdminLTE.
 * @license MIT
 * --------------------------------------------
 */const ie=".lte.direct-chat",pe=`expanded${ie}`,ke=`collapsed${ie}`,we='[data-lte-toggle="chat-pane"]',wt=".direct-chat",Je="direct-chat-contacts-open";class dn{constructor(oe){this._element=oe}toggle(){if(this._element.classList.contains(Je)){const oe=new Event(ke);this._element.classList.remove(Je),this._element.dispatchEvent(oe)}else{const oe=new Event(pe);this._element.classList.add(Je),this._element.dispatchEvent(oe)}}}t(()=>{document.querySelectorAll(we).forEach(oe=>{oe.addEventListener("click",me=>{me.preventDefault();const Oe=me.target.closest(wt);Oe&&new dn(Oe).toggle()})})});/**
 * --------------------------------------------
 * @file AdminLTE card-widget.ts
 * @description Card widget for AdminLTE.
 * @license MIT
 * --------------------------------------------
 */const jt=".lte.card-widget",hn=`collapsed${jt}`,ni=`expanded${jt}`,ii=`remove${jt}`,zi=`maximized${jt}`,ha=`minimized${jt}`,Rt="card",ai="collapsed-card",Fn="collapsing-card",Rn="expanding-card",qn="was-collapsed",wi="maximized-card",Ti='[data-lte-toggle="card-remove"]',fe='[data-lte-toggle="card-collapse"]',Se='[data-lte-toggle="card-maximize"]',Le=`.${Rt}`,Ce=".card-body",it=".card-footer",ht={animationSpeed:500,collapseTrigger:fe,removeTrigger:Ti,maximizeTrigger:Se};class fn{constructor(oe,me){this._element=oe,this._parent=oe.closest(Le),oe.classList.contains(Rt)&&(this._parent=oe),this._config=Object.assign(Object.assign({},ht),me)}collapse(){var oe,me;const Re=new Event(hn);this._parent&&(this._parent.classList.add(Fn),((oe=this._parent)===null||oe===void 0?void 0:oe.querySelectorAll(`${Ce}, ${it}`)).forEach(Ue=>{Ue instanceof HTMLElement&&r(Ue,this._config.animationSpeed)}),setTimeout(()=>{this._parent&&(this._parent.classList.add(ai),this._parent.classList.remove(Fn))},this._config.animationSpeed)),(me=this._element)===null||me===void 0||me.dispatchEvent(Re)}expand(){var oe,me;const Re=new Event(ni);this._parent&&(this._parent.classList.add(Rn),((oe=this._parent)===null||oe===void 0?void 0:oe.querySelectorAll(`${Ce}, ${it}`)).forEach(Ue=>{Ue instanceof HTMLElement&&o(Ue,this._config.animationSpeed)}),setTimeout(()=>{this._parent&&(this._parent.classList.remove(ai),this._parent.classList.remove(Rn))},this._config.animationSpeed)),(me=this._element)===null||me===void 0||me.dispatchEvent(Re)}remove(){var oe;const me=new Event(ii);this._parent&&r(this._parent,this._config.animationSpeed),(oe=this._element)===null||oe===void 0||oe.dispatchEvent(me)}toggle(){var oe;if(!((oe=this._parent)===null||oe===void 0)&&oe.classList.contains(ai)){this.expand();return}this.collapse()}maximize(){var oe;const me=new Event(zi);this._parent&&(this._parent.style.height=`${this._parent.offsetHeight}px`,this._parent.style.width=`${this._parent.offsetWidth}px`,this._parent.style.transition="all .15s",setTimeout(()=>{const Re=document.querySelector("html");Re&&Re.classList.add(wi),this._parent&&(this._parent.classList.add(wi),this._parent.classList.contains(ai)&&this._parent.classList.add(qn))},150)),(oe=this._element)===null||oe===void 0||oe.dispatchEvent(me)}minimize(){var oe;const me=new Event(ha);this._parent&&(this._parent.style.height="auto",this._parent.style.width="auto",this._parent.style.transition="all .15s",setTimeout(()=>{var Re;const Oe=document.querySelector("html");Oe&&Oe.classList.remove(wi),this._parent&&(this._parent.classList.remove(wi),!((Re=this._parent)===null||Re===void 0)&&Re.classList.contains(qn)&&this._parent.classList.remove(qn))},10)),(oe=this._element)===null||oe===void 0||oe.dispatchEvent(me)}toggleMaximize(){var oe;if(!((oe=this._parent)===null||oe===void 0)&&oe.classList.contains(wi)){this.minimize();return}this.maximize()}}t(()=>{document.querySelectorAll(fe).forEach(Re=>{Re.addEventListener("click",Oe=>{Oe.preventDefault();const Ue=Oe.target;new fn(Ue,ht).toggle()})}),document.querySelectorAll(Ti).forEach(Re=>{Re.addEventListener("click",Oe=>{Oe.preventDefault();const Ue=Oe.target;new fn(Ue,ht).remove()})}),document.querySelectorAll(Se).forEach(Re=>{Re.addEventListener("click",Oe=>{Oe.preventDefault();const Ue=Oe.target;new fn(Ue,ht).toggleMaximize()})})});/**
 * --------------------------------------------
 * @file AdminLTE fullscreen.ts
 * @description Fullscreen plugin for AdminLTE.
 * @license MIT
 * --------------------------------------------
 */const In=".lte.fullscreen",Hn=`maximized${In}`,Cn=`minimized${In}`,Yt='[data-lte-toggle="fullscreen"]',Gn='[data-lte-icon="maximize"]',Nn='[data-lte-icon="minimize"]';class ri{constructor(oe,me){this._element=oe,this._config=me}inFullScreen(){const oe=new Event(Hn),me=document.querySelector(Gn),Re=document.querySelector(Nn);document.documentElement.requestFullscreen(),me&&(me.style.display="none"),Re&&(Re.style.display="block"),this._element.dispatchEvent(oe)}outFullscreen(){const oe=new Event(Cn),me=document.querySelector(Gn),Re=document.querySelector(Nn);document.exitFullscreen(),me&&(me.style.display="block"),Re&&(Re.style.display="none"),this._element.dispatchEvent(oe)}toggleFullScreen(){document.fullscreenEnabled&&(document.fullscreenElement?this.outFullscreen():this.inFullScreen())}}t(()=>{document.querySelectorAll(Yt).forEach(oe=>{oe.addEventListener("click",me=>{me.preventDefault();const Oe=me.target.closest(Yt);Oe&&new ri(Oe,void 0).toggleFullScreen()})})}),i.CardWidget=fn,i.DirectChat=dn,i.FullScreen=ri,i.Layout=p,i.PushMenu=P,i.Treeview=J});var nL=Object.defineProperty,uh=Object.getOwnPropertySymbols,lA=Object.prototype.hasOwnProperty,cA=Object.prototype.propertyIsEnumerable,j0=(i,e,t)=>e in i?nL(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,Gm=(i,e)=>{for(var t in e||(e={}))lA.call(e,t)&&j0(i,t,e[t]);if(uh)for(var t of uh(e))cA.call(e,t)&&j0(i,t,e[t]);return i},$m=(i,e)=>{var t={};for(var r in i)lA.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&uh)for(var r of uh(i))e.indexOf(r)<0&&cA.call(i,r)&&(t[r]=i[r]);return t};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Ds;(i=>{const e=class $e{constructor(f,m,y,b){if(this.version=f,this.errorCorrectionLevel=m,this.modules=[],this.isFunction=[],f<$e.MIN_VERSION||f>$e.MAX_VERSION)throw new RangeError("Version value out of range");if(b<-1||b>7)throw new RangeError("Mask value out of range");this.size=f*4+17;let T=[];for(let S=0;S<this.size;S++)T.push(!1);for(let S=0;S<this.size;S++)this.modules.push(T.slice()),this.isFunction.push(T.slice());this.drawFunctionPatterns();const I=this.addEccAndInterleave(y);if(this.drawCodewords(I),b==-1){let S=1e9;for(let U=0;U<8;U++){this.applyMask(U),this.drawFormatBits(U);const M=this.getPenaltyScore();M<S&&(b=U,S=M),this.applyMask(U)}}o(0<=b&&b<=7),this.mask=b,this.applyMask(b),this.drawFormatBits(b),this.isFunction=[]}static encodeText(f,m){const y=i.QrSegment.makeSegments(f);return $e.encodeSegments(y,m)}static encodeBinary(f,m){const y=i.QrSegment.makeBytes(f);return $e.encodeSegments([y],m)}static encodeSegments(f,m,y=1,b=40,T=-1,I=!0){if(!($e.MIN_VERSION<=y&&y<=b&&b<=$e.MAX_VERSION)||T<-1||T>7)throw new RangeError("Invalid value");let S,U;for(S=y;;S++){const G=$e.getNumDataCodewords(S,m)*8,ce=d.getTotalBits(f,S);if(ce<=G){U=ce;break}if(S>=b)throw new RangeError("Data too long")}for(const G of[$e.Ecc.MEDIUM,$e.Ecc.QUARTILE,$e.Ecc.HIGH])I&&U<=$e.getNumDataCodewords(S,G)*8&&(m=G);let M=[];for(const G of f){t(G.mode.modeBits,4,M),t(G.numChars,G.mode.numCharCountBits(S),M);for(const ce of G.getData())M.push(ce)}o(M.length==U);const F=$e.getNumDataCodewords(S,m)*8;o(M.length<=F),t(0,Math.min(4,F-M.length),M),t(0,(8-M.length%8)%8,M),o(M.length%8==0);for(let G=236;M.length<F;G^=253)t(G,8,M);let Z=[];for(;Z.length*8<M.length;)Z.push(0);return M.forEach((G,ce)=>Z[ce>>>3]|=G<<7-(ce&7)),new $e(S,m,Z,T)}getModule(f,m){return 0<=f&&f<this.size&&0<=m&&m<this.size&&this.modules[m][f]}getModules(){return this.modules}drawFunctionPatterns(){for(let y=0;y<this.size;y++)this.setFunctionModule(6,y,y%2==0),this.setFunctionModule(y,6,y%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const f=this.getAlignmentPatternPositions(),m=f.length;for(let y=0;y<m;y++)for(let b=0;b<m;b++)y==0&&b==0||y==0&&b==m-1||y==m-1&&b==0||this.drawAlignmentPattern(f[y],f[b]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(f){const m=this.errorCorrectionLevel.formatBits<<3|f;let y=m;for(let T=0;T<10;T++)y=y<<1^(y>>>9)*1335;const b=(m<<10|y)^21522;o(b>>>15==0);for(let T=0;T<=5;T++)this.setFunctionModule(8,T,r(b,T));this.setFunctionModule(8,7,r(b,6)),this.setFunctionModule(8,8,r(b,7)),this.setFunctionModule(7,8,r(b,8));for(let T=9;T<15;T++)this.setFunctionModule(14-T,8,r(b,T));for(let T=0;T<8;T++)this.setFunctionModule(this.size-1-T,8,r(b,T));for(let T=8;T<15;T++)this.setFunctionModule(8,this.size-15+T,r(b,T));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let f=this.version;for(let y=0;y<12;y++)f=f<<1^(f>>>11)*7973;const m=this.version<<12|f;o(m>>>18==0);for(let y=0;y<18;y++){const b=r(m,y),T=this.size-11+y%3,I=Math.floor(y/3);this.setFunctionModule(T,I,b),this.setFunctionModule(I,T,b)}}drawFinderPattern(f,m){for(let y=-4;y<=4;y++)for(let b=-4;b<=4;b++){const T=Math.max(Math.abs(b),Math.abs(y)),I=f+b,S=m+y;0<=I&&I<this.size&&0<=S&&S<this.size&&this.setFunctionModule(I,S,T!=2&&T!=4)}}drawAlignmentPattern(f,m){for(let y=-2;y<=2;y++)for(let b=-2;b<=2;b++)this.setFunctionModule(f+b,m+y,Math.max(Math.abs(b),Math.abs(y))!=1)}setFunctionModule(f,m,y){this.modules[m][f]=y,this.isFunction[m][f]=!0}addEccAndInterleave(f){const m=this.version,y=this.errorCorrectionLevel;if(f.length!=$e.getNumDataCodewords(m,y))throw new RangeError("Invalid argument");const b=$e.NUM_ERROR_CORRECTION_BLOCKS[y.ordinal][m],T=$e.ECC_CODEWORDS_PER_BLOCK[y.ordinal][m],I=Math.floor($e.getNumRawDataModules(m)/8),S=b-I%b,U=Math.floor(I/b);let M=[];const F=$e.reedSolomonComputeDivisor(T);for(let G=0,ce=0;G<b;G++){let ue=f.slice(ce,ce+U-T+(G<S?0:1));ce+=ue.length;const Te=$e.reedSolomonComputeRemainder(ue,F);G<S&&ue.push(0),M.push(ue.concat(Te))}let Z=[];for(let G=0;G<M[0].length;G++)M.forEach((ce,ue)=>{(G!=U-T||ue>=S)&&Z.push(ce[G])});return o(Z.length==I),Z}drawCodewords(f){if(f.length!=Math.floor($e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let m=0;for(let y=this.size-1;y>=1;y-=2){y==6&&(y=5);for(let b=0;b<this.size;b++)for(let T=0;T<2;T++){const I=y-T,U=(y+1&2)==0?this.size-1-b:b;!this.isFunction[U][I]&&m<f.length*8&&(this.modules[U][I]=r(f[m>>>3],7-(m&7)),m++)}}o(m==f.length*8)}applyMask(f){if(f<0||f>7)throw new RangeError("Mask value out of range");for(let m=0;m<this.size;m++)for(let y=0;y<this.size;y++){let b;switch(f){case 0:b=(y+m)%2==0;break;case 1:b=m%2==0;break;case 2:b=y%3==0;break;case 3:b=(y+m)%3==0;break;case 4:b=(Math.floor(y/3)+Math.floor(m/2))%2==0;break;case 5:b=y*m%2+y*m%3==0;break;case 6:b=(y*m%2+y*m%3)%2==0;break;case 7:b=((y+m)%2+y*m%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[m][y]&&b&&(this.modules[m][y]=!this.modules[m][y])}}getPenaltyScore(){let f=0;for(let T=0;T<this.size;T++){let I=!1,S=0,U=[0,0,0,0,0,0,0];for(let M=0;M<this.size;M++)this.modules[T][M]==I?(S++,S==5?f+=$e.PENALTY_N1:S>5&&f++):(this.finderPenaltyAddHistory(S,U),I||(f+=this.finderPenaltyCountPatterns(U)*$e.PENALTY_N3),I=this.modules[T][M],S=1);f+=this.finderPenaltyTerminateAndCount(I,S,U)*$e.PENALTY_N3}for(let T=0;T<this.size;T++){let I=!1,S=0,U=[0,0,0,0,0,0,0];for(let M=0;M<this.size;M++)this.modules[M][T]==I?(S++,S==5?f+=$e.PENALTY_N1:S>5&&f++):(this.finderPenaltyAddHistory(S,U),I||(f+=this.finderPenaltyCountPatterns(U)*$e.PENALTY_N3),I=this.modules[M][T],S=1);f+=this.finderPenaltyTerminateAndCount(I,S,U)*$e.PENALTY_N3}for(let T=0;T<this.size-1;T++)for(let I=0;I<this.size-1;I++){const S=this.modules[T][I];S==this.modules[T][I+1]&&S==this.modules[T+1][I]&&S==this.modules[T+1][I+1]&&(f+=$e.PENALTY_N2)}let m=0;for(const T of this.modules)m=T.reduce((I,S)=>I+(S?1:0),m);const y=this.size*this.size,b=Math.ceil(Math.abs(m*20-y*10)/y)-1;return o(0<=b&&b<=9),f+=b*$e.PENALTY_N4,o(0<=f&&f<=2568888),f}getAlignmentPatternPositions(){if(this.version==1)return[];{const f=Math.floor(this.version/7)+2,m=this.version==32?26:Math.ceil((this.version*4+4)/(f*2-2))*2;let y=[6];for(let b=this.size-7;y.length<f;b-=m)y.splice(1,0,b);return y}}static getNumRawDataModules(f){if(f<$e.MIN_VERSION||f>$e.MAX_VERSION)throw new RangeError("Version number out of range");let m=(16*f+128)*f+64;if(f>=2){const y=Math.floor(f/7)+2;m-=(25*y-10)*y-55,f>=7&&(m-=36)}return o(208<=m&&m<=29648),m}static getNumDataCodewords(f,m){return Math.floor($e.getNumRawDataModules(f)/8)-$e.ECC_CODEWORDS_PER_BLOCK[m.ordinal][f]*$e.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][f]}static reedSolomonComputeDivisor(f){if(f<1||f>255)throw new RangeError("Degree out of range");let m=[];for(let b=0;b<f-1;b++)m.push(0);m.push(1);let y=1;for(let b=0;b<f;b++){for(let T=0;T<m.length;T++)m[T]=$e.reedSolomonMultiply(m[T],y),T+1<m.length&&(m[T]^=m[T+1]);y=$e.reedSolomonMultiply(y,2)}return m}static reedSolomonComputeRemainder(f,m){let y=m.map(b=>0);for(const b of f){const T=b^y.shift();y.push(0),m.forEach((I,S)=>y[S]^=$e.reedSolomonMultiply(I,T))}return y}static reedSolomonMultiply(f,m){if(f>>>8||m>>>8)throw new RangeError("Byte out of range");let y=0;for(let b=7;b>=0;b--)y=y<<1^(y>>>7)*285,y^=(m>>>b&1)*f;return o(y>>>8==0),y}finderPenaltyCountPatterns(f){const m=f[1];o(m<=this.size*3);const y=m>0&&f[2]==m&&f[3]==m*3&&f[4]==m&&f[5]==m;return(y&&f[0]>=m*4&&f[6]>=m?1:0)+(y&&f[6]>=m*4&&f[0]>=m?1:0)}finderPenaltyTerminateAndCount(f,m,y){return f&&(this.finderPenaltyAddHistory(m,y),m=0),m+=this.size,this.finderPenaltyAddHistory(m,y),this.finderPenaltyCountPatterns(y)}finderPenaltyAddHistory(f,m){m[0]==0&&(f+=this.size),m.pop(),m.unshift(f)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],i.QrCode=e;function t(p,f,m){if(f<0||f>31||p>>>f)throw new RangeError("Value out of range");for(let y=f-1;y>=0;y--)m.push(p>>>y&1)}function r(p,f){return(p>>>f&1)!=0}function o(p){if(!p)throw new Error("Assertion error")}const l=class Nt{constructor(f,m,y){if(this.mode=f,this.numChars=m,this.bitData=y,m<0)throw new RangeError("Invalid argument");this.bitData=y.slice()}static makeBytes(f){let m=[];for(const y of f)t(y,8,m);return new Nt(Nt.Mode.BYTE,f.length,m)}static makeNumeric(f){if(!Nt.isNumeric(f))throw new RangeError("String contains non-numeric characters");let m=[];for(let y=0;y<f.length;){const b=Math.min(f.length-y,3);t(parseInt(f.substring(y,y+b),10),b*3+1,m),y+=b}return new Nt(Nt.Mode.NUMERIC,f.length,m)}static makeAlphanumeric(f){if(!Nt.isAlphanumeric(f))throw new RangeError("String contains unencodable characters in alphanumeric mode");let m=[],y;for(y=0;y+2<=f.length;y+=2){let b=Nt.ALPHANUMERIC_CHARSET.indexOf(f.charAt(y))*45;b+=Nt.ALPHANUMERIC_CHARSET.indexOf(f.charAt(y+1)),t(b,11,m)}return y<f.length&&t(Nt.ALPHANUMERIC_CHARSET.indexOf(f.charAt(y)),6,m),new Nt(Nt.Mode.ALPHANUMERIC,f.length,m)}static makeSegments(f){return f==""?[]:Nt.isNumeric(f)?[Nt.makeNumeric(f)]:Nt.isAlphanumeric(f)?[Nt.makeAlphanumeric(f)]:[Nt.makeBytes(Nt.toUtf8ByteArray(f))]}static makeEci(f){let m=[];if(f<0)throw new RangeError("ECI assignment value out of range");if(f<128)t(f,8,m);else if(f<16384)t(2,2,m),t(f,14,m);else if(f<1e6)t(6,3,m),t(f,21,m);else throw new RangeError("ECI assignment value out of range");return new Nt(Nt.Mode.ECI,0,m)}static isNumeric(f){return Nt.NUMERIC_REGEX.test(f)}static isAlphanumeric(f){return Nt.ALPHANUMERIC_REGEX.test(f)}getData(){return this.bitData.slice()}static getTotalBits(f,m){let y=0;for(const b of f){const T=b.mode.numCharCountBits(m);if(b.numChars>=1<<T)return 1/0;y+=4+T+b.bitData.length}return y}static toUtf8ByteArray(f){f=encodeURI(f);let m=[];for(let y=0;y<f.length;y++)f.charAt(y)!="%"?m.push(f.charCodeAt(y)):(m.push(parseInt(f.substring(y+1,y+3),16)),y+=2);return m}};l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let d=l;i.QrSegment=l})(Ds||(Ds={}));(i=>{(e=>{const t=class{constructor(o,l){this.ordinal=o,this.formatBits=l}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})(i.QrCode||(i.QrCode={}))})(Ds||(Ds={}));(i=>{(e=>{const t=class{constructor(o,l){this.modeBits=o,this.numBitsCharCount=l}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(i.QrSegment||(i.QrSegment={}))})(Ds||(Ds={}));var No=Ds;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var iL={L:No.QrCode.Ecc.LOW,M:No.QrCode.Ecc.MEDIUM,Q:No.QrCode.Ecc.QUARTILE,H:No.QrCode.Ecc.HIGH},uA=128,dA="L",hA="#FFFFFF",fA="#000000",pA=!1,mA=1,aL=4,rL=0,sL=.1;function gA(i,e=0){const t=[];return i.forEach(function(r,o){let l=null;r.forEach(function(d,p){if(!d&&l!==null){t.push(`M${l+e} ${o+e}h${p-l}v1H${l+e}z`),l=null;return}if(p===r.length-1){if(!d)return;l===null?t.push(`M${p+e},${o+e} h1v1H${p+e}z`):t.push(`M${l+e},${o+e} h${p+1-l}v1H${l+e}z`);return}d&&l===null&&(l=p)})}),t.join("")}function vA(i,e){return i.slice().map((t,r)=>r<e.y||r>=e.y+e.h?t:t.map((o,l)=>l<e.x||l>=e.x+e.w?o:!1))}function oL(i,e,t,r){if(r==null)return null;const o=i.length+t*2,l=Math.floor(e*sL),d=o/e,p=(r.width||l)*d,f=(r.height||l)*d,m=r.x==null?i.length/2-p/2:r.x*d,y=r.y==null?i.length/2-f/2:r.y*d,b=r.opacity==null?1:r.opacity;let T=null;if(r.excavate){let S=Math.floor(m),U=Math.floor(y),M=Math.ceil(p+m-S),F=Math.ceil(f+y-U);T={x:S,y:U,w:M,h:F}}const I=r.crossOrigin;return{x:m,y,h:f,w:p,excavation:T,opacity:b,crossOrigin:I}}function lL(i,e){return e!=null?Math.max(Math.floor(e),0):i?aL:rL}function yA({value:i,level:e,minVersion:t,includeMargin:r,marginSize:o,imageSettings:l,size:d,boostLevel:p}){let f=Dt.useMemo(()=>{const S=(Array.isArray(i)?i:[i]).reduce((U,M)=>(U.push(...No.QrSegment.makeSegments(M)),U),[]);return No.QrCode.encodeSegments(S,iL[e],t,void 0,void 0,p)},[i,e,t,p]);const{cells:m,margin:y,numCells:b,calculatedImageSettings:T}=Dt.useMemo(()=>{let I=f.getModules();const S=lL(r,o),U=I.length+S*2,M=oL(I,d,S,l);return{cells:I,margin:S,numCells:U,calculatedImageSettings:M}},[f,d,l,r,o]);return{qrcode:f,margin:y,cells:m,numCells:b,calculatedImageSettings:T}}var cL=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),_A=Dt.forwardRef(function(e,t){const r=e,{value:o,size:l=uA,level:d=dA,bgColor:p=hA,fgColor:f=fA,includeMargin:m=pA,minVersion:y=mA,boostLevel:b,marginSize:T,imageSettings:I}=r,U=$m(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:M}=U,F=$m(U,["style"]),Z=I==null?void 0:I.src,G=Dt.useRef(null),ce=Dt.useRef(null),ue=Dt.useCallback(ye=>{G.current=ye,typeof t=="function"?t(ye):t&&(t.current=ye)},[t]),[Te,j]=Dt.useState(!1),{margin:R,cells:C,numCells:P,calculatedImageSettings:L}=yA({value:o,level:d,minVersion:y,boostLevel:b,includeMargin:m,marginSize:T,imageSettings:I,size:l});Dt.useEffect(()=>{if(G.current!=null){const ye=G.current,_e=ye.getContext("2d");if(!_e)return;let Q=C;const re=ce.current,he=L!=null&&re!==null&&re.complete&&re.naturalHeight!==0&&re.naturalWidth!==0;he&&L.excavation!=null&&(Q=vA(C,L.excavation));const se=window.devicePixelRatio||1;ye.height=ye.width=l*se;const O=l/P*se;_e.scale(O,O),_e.fillStyle=p,_e.fillRect(0,0,P,P),_e.fillStyle=f,cL?_e.fill(new Path2D(gA(Q,R))):C.forEach(function(J,le){J.forEach(function(ie,pe){ie&&_e.fillRect(pe+R,le+R,1,1)})}),L&&(_e.globalAlpha=L.opacity),he&&_e.drawImage(re,L.x+R,L.y+R,L.w,L.h)}}),Dt.useEffect(()=>{j(!1)},[Z]);const z=Gm({height:l,width:l},M);let N=null;return Z!=null&&(N=Dt.createElement("img",{src:Z,key:Z,style:{display:"none"},onLoad:()=>{j(!0)},ref:ce,crossOrigin:L==null?void 0:L.crossOrigin})),Dt.createElement(Dt.Fragment,null,Dt.createElement("canvas",Gm({style:z,height:l,width:l,ref:ue,role:"img"},F)),N)});_A.displayName="QRCodeCanvas";var uL=Dt.forwardRef(function(e,t){const r=e,{value:o,size:l=uA,level:d=dA,bgColor:p=hA,fgColor:f=fA,includeMargin:m=pA,minVersion:y=mA,boostLevel:b,title:T,marginSize:I,imageSettings:S}=r,U=$m(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:M,cells:F,numCells:Z,calculatedImageSettings:G}=yA({value:o,level:d,minVersion:y,boostLevel:b,includeMargin:m,marginSize:I,imageSettings:S,size:l});let ce=F,ue=null;S!=null&&G!=null&&(G.excavation!=null&&(ce=vA(F,G.excavation)),ue=Dt.createElement("image",{href:S.src,height:G.h,width:G.w,x:G.x+M,y:G.y+M,preserveAspectRatio:"none",opacity:G.opacity,crossOrigin:G.crossOrigin}));const Te=gA(ce,M);return Dt.createElement("svg",Gm({height:l,width:l,viewBox:`0 0 ${Z} ${Z}`,ref:t,role:"img"},U),!!T&&Dt.createElement("title",null,T),Dt.createElement("path",{fill:p,d:`M0,0 h${Z}v${Z}H0z`,shapeRendering:"crispEdges"}),Dt.createElement("path",{fill:f,d:Te,shapeRendering:"crispEdges"}),ue)});uL.displayName="QRCodeSVG";function dL({stationURL:i}){D.useRef(null),D.useEffect(()=>{document.createElement("canvas")},[i]);const e=()=>{const r=document.querySelector("canvas").toDataURL("image/png"),o=document.createElement("a");o.href=r,o.download="station-qr.png",document.body.appendChild(o),o.click(),document.body.removeChild(o)};return v.jsxs(v.Fragment,{children:[v.jsx("div",{style:{display:"none"},children:v.jsx(_A,{value:i,size:200,includeMargin:!0})}),v.jsx("button",{className:"btn btn-primary my-2 mx-2",onClick:e,children:"Download QR Code"})]})}const hL=()=>{const[i,e]=D.useState(!1),[t,r]=D.useState(0),[o,l]=D.useState(0),[d,p]=D.useState(0),[f,m]=D.useState(0),[y,b]=D.useState([]),[T,I]=D.useState(null),[S,U]=D.useState(""),[M,F]=D.useState(""),[Z,G]=D.useState(""),[ce,ue]=D.useState(""),[Te,j]=D.useState(""),[R,C]=D.useState(!1),[P,L]=D.useState(!1);D.useEffect(()=>{(async()=>{const ie=An(Ci,"Station"),ke=(await mc(ie)).data().count;r(ke)})(),(async()=>{const ie=An(Ci,"Station"),pe=Ts(ie,Di("stationStatus","==","inactive")),we=(await mc(pe)).data().count;l(we)})(),(async()=>{const ie=An(Ci,"Station"),pe=Ts(ie,Di("stationStatus","==","active")),we=(await mc(pe)).data().count;p(we)})(),(async()=>{const ie=An(Ci,"Station"),pe=Ts(ie,Di("stationStatus","==","maintenance")),we=(await mc(pe)).data().count;m(we)})()},[]),D.useEffect(()=>{document.body.classList.toggle("sidebar-collapse",i)},[i]),D.useEffect(()=>{(async()=>{const O=An(Ci,"Station"),le=(await Ir(O)).docs.map(ie=>ie.data());b(le)})()},[]);const z=se=>{switch(se){case"inactive":return"badge bg-warning";case"active":return"badge bg-success";case"maintenance":return"badge bg-danger";default:return"badge bg-light text-dark"}};D.useEffect(()=>{T&&(G(T.stationName||""),ue(T.stationCoordinate||""),j(T.stationInstruction||""),U(T.stationStatus||""))},[T]);const N=async se=>{se.preventDefault();try{const O=ih(Ci,"Station",T.binID);await Hx(O,{stationName:Z,stationCoordinate:ce,stationInstruction:Te,stationStatus:S}),F("Station status updated successfully")}catch(O){console.error("Error updating station status: ",O),F("Error updating station status")}finally{window.location.reload()}},ye=se=>{se.preventDefault(),C(!0)},_e=async se=>{C(!1),await N(se)},Q=se=>{se.preventDefault(),L(!0)},re=async se=>{L(!1),await he(se)},he=async se=>{se.preventDefault();try{const O=ih(Ci,"Station",T.binID);await pM(O),F("Station deleted successfully"),I(null)}catch(O){console.error("Error deleting station: ",O),F("Error deleting station")}finally{window.location.reload()}};return v.jsx(v.Fragment,{children:v.jsxs("div",{className:"app-wrapper",children:[v.jsx(al,{toggleSidebar:()=>e(se=>!se)}),v.jsx(rl,{}),v.jsxs("div",{className:"app-main",children:[v.jsx("div",{className:"app-content-header",children:v.jsx("div",{className:"container-fluid",children:v.jsxs("div",{className:"row",children:[v.jsx("div",{className:"col-sm-6",children:v.jsx("h3",{className:"mb-0",children:"Station Dashboard"})}),v.jsx("div",{className:"col-sm-6",children:v.jsxs("ol",{className:"breadcrumb float-sm-end",children:[v.jsx("li",{className:"breadcrumb-item",children:"Dashboard"}),v.jsx("li",{className:"breadcrumb-item",children:"Station Dashboard"})]})})]})})}),v.jsx("div",{className:"app-content",children:v.jsxs("div",{className:"content",children:[v.jsxs("div",{className:"container-fluid",children:[v.jsxs("div",{className:"row",children:[v.jsx("div",{className:"col-12 col-sm-6 col-md-3",children:v.jsxs("div",{className:"info-box shadow-sm",children:[v.jsx("span",{className:"info-box-icon text-bg-primary shadow-sm",children:v.jsx("i",{className:"bi bi-trash"})}),v.jsxs("div",{className:"info-box-content",children:[v.jsx("span",{className:"info-box-text",children:"Total Station"}),v.jsx("span",{className:"info-box-number",children:t})]})]})}),v.jsx("div",{className:"col-12 col-sm-6 col-md-3",children:v.jsxs("div",{className:"info-box shadow-sm",children:[v.jsx("span",{className:"info-box-icon text-bg-success shadow-sm",children:v.jsx("i",{className:"bi bi-check"})}),v.jsxs("div",{className:"info-box-content",children:[v.jsx("span",{className:"info-box-text",children:"Total Active Station"}),v.jsx("span",{className:"info-box-number",children:d})]})]})}),v.jsx("div",{className:"col-12 col-sm-6 col-md-3",children:v.jsxs("div",{className:"info-box shadow-sm",children:[v.jsx("span",{className:"info-box-icon text-bg-warning shadow-sm",children:v.jsx("i",{className:"bi bi-x-lg"})}),v.jsxs("div",{className:"info-box-content",children:[v.jsx("span",{className:"info-box-text",children:"Total Inactive Station"}),v.jsx("span",{className:"info-box-number",children:o})]})]})}),v.jsx("div",{className:"col-12 col-sm-6 col-md-3",children:v.jsxs("div",{className:"info-box shadow-sm",children:[v.jsx("span",{className:"info-box-icon text-bg-danger shadow-sm",children:v.jsx("i",{className:"bi bi-gear-fill"})}),v.jsxs("div",{className:"info-box-content",children:[v.jsx("span",{className:"info-box-text",children:"Total Broken Station"}),v.jsx("span",{className:"info-box-number",children:f})]})]})})]}),v.jsx("div",{className:"row",children:v.jsx("div",{className:"col-12",children:v.jsxs("div",{className:"card",children:[v.jsxs("div",{className:"card-header",children:[v.jsx("h3",{className:"card-title",children:"Station List"}),v.jsx("div",{className:"card-tools",children:v.jsx("div",{className:"input-group input-group-sm",children:v.jsx("div",{className:"input-group-append",children:v.jsx("button",{type:"submit",className:"btn btn-default",children:v.jsx("i",{className:"fas fa-search"})})})})})]}),v.jsx("div",{className:"card-body table-responsive p-0",children:v.jsxs("table",{className:"table table-hover text-nowrap",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Station ID"}),v.jsx("th",{children:"Station Name"}),v.jsx("th",{children:"Date Created"}),v.jsx("th",{children:"Status"}),v.jsx("th",{children:"Actions"})]})}),v.jsxs("tbody",{children:[y.map(se=>v.jsxs("tr",{children:[v.jsx("td",{children:se.binID}),v.jsx("td",{children:se.stationName}),v.jsx("td",{children:new Date(se.createdAt.seconds*1e3).toLocaleString()}),v.jsx("td",{children:v.jsx("span",{className:z(se.stationStatus),children:se.stationStatus})}),v.jsx("td",{children:v.jsx("button",{className:"btn btn-primary mb-2 btn-sm",onClick:()=>I(se),children:"View"})})]},se.binID)),v.jsx("tr",{children:v.jsxs("td",{colSpan:5,className:"text-center",disabled:!0,children:["Showing ",y.length," record",y.length!==1?"s":""," from database"]})})]})]})})]})})}),v.jsx("div",{className:"row mt-4",children:v.jsx("div",{className:"col-md-12",children:v.jsxs("div",{className:"card card-outline card-info",children:[v.jsx("div",{className:"card-header",children:v.jsx("h3",{className:"card-title",children:"Add New Station"})}),v.jsx("div",{className:"card-body",children:"Prepare an empty NFC tag and make sure to use mobile with supported NFC to create a new station."}),v.jsx("div",{className:"card-footer",children:v.jsx(Et,{to:"/admin/dashboard/addStation",className:"btn btn-primary",children:"Add New Station"})})]})})}),T&&v.jsx("div",{className:"row mt-4",children:v.jsx("div",{className:"col-md-12",children:v.jsxs("div",{className:"card card-outline card-info",children:[v.jsx("div",{className:"card-header",children:v.jsx("h3",{className:"card-title",children:"Station Details"})}),v.jsxs("div",{className:"card-body",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Bin ID"}),v.jsx("input",{className:"form-control",disabled:!0,value:T.binID})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Tag UID"}),v.jsx("input",{className:"form-control",disabled:!0,value:T.tagUID})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Station URL"}),v.jsx("input",{className:"form-control",disabled:!0,value:T.stationURL})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Created At"}),v.jsx("input",{className:"form-control",disabled:!0,value:new Date(T.createdAt.seconds*1e3).toLocaleString()})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Station Name"}),v.jsx("input",{className:"form-control",value:Z,onChange:se=>G(se.target.value)})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Station Coordinate"}),v.jsx("input",{className:"form-control",value:ce,onChange:se=>ue(se.target.value)})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Station Specific Instruction"}),v.jsx("textarea",{className:"form-control",value:Te,onChange:se=>j(se.target.value)})]}),v.jsxs("div",{className:"btn-group my-4",role:"group","aria-label":"Basic radio toggle button group",children:[v.jsxs("label",{className:`btn btn-outline-primary ${S==="active"?"active":""}`,children:[v.jsx("input",{type:"radio",name:"status",value:"active",className:"btn-check",autoComplete:"off",checked:S==="active",onChange:se=>U(se.target.value)}),"Active"]}),v.jsxs("label",{className:`btn btn-outline-primary ${S==="inactive"?"active":""}`,children:[v.jsx("input",{type:"radio",name:"status",value:"inactive",className:"btn-check",autoComplete:"off",checked:S==="inactive",onChange:se=>U(se.target.value)}),"Inactive"]}),v.jsxs("label",{className:`btn btn-outline-primary ${S==="maintenance"?"active":""}`,children:[v.jsx("input",{type:"radio",name:"status",value:"maintenance",className:"btn-check",autoComplete:"off",checked:S==="maintenance",onChange:se=>U(se.target.value)}),"Maintenance"]})]})]}),v.jsxs("div",{className:"card-footer",children:[v.jsx(dL,{stationURL:T.stationURL}),v.jsx("button",{type:"button",className:"btn btn-warning my-2 mx-2",onClick:ye,children:"update"}),v.jsx("button",{type:"button",className:"btn btn-danger my-2 mx-2",onClick:Q,children:"Delete"})]})]})})})]}),R&&v.jsx("div",{className:"modal show",tabIndex:"-1",style:{display:"block",background:"rgba(0,0,0,0.5)"},children:v.jsx("div",{className:"modal-dialog",children:v.jsxs("div",{className:"modal-content",children:[v.jsxs("div",{className:"modal-header",children:[v.jsx("h5",{className:"modal-title",children:"Confirm Update"}),v.jsx("button",{type:"button",className:"btn-close",onClick:()=>C(!1),"aria-label":"Close"})]}),v.jsx("div",{className:"modal-body",children:v.jsx("p",{children:"Are you sure you want to update this station?"})}),v.jsxs("div",{className:"modal-footer",children:[v.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>C(!1),children:"Cancel"}),v.jsx("button",{type:"button",className:"btn btn-primary",onClick:_e,children:"Yes, Update"})]})]})})}),P&&v.jsx("div",{className:"modal show",tabIndex:"-1",style:{display:"block",background:"rgba(0,0,0,0.5)"},children:v.jsx("div",{className:"modal-dialog",children:v.jsxs("div",{className:"modal-content",children:[v.jsxs("div",{className:"modal-header bg-danger",children:[v.jsx("h5",{className:"modal-title",style:{color:"#fff"},children:"Confirm Delete"}),v.jsx("button",{type:"button",className:"btn-close",onClick:()=>setShowModal(!1),"aria-label":"Close"})]}),v.jsx("div",{className:"modal-body",children:v.jsx("p",{children:"Are you sure you want to delete this station?"})}),v.jsxs("div",{className:"modal-footer",children:[v.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>setShowModal(!1),children:"Cancel"}),v.jsx("button",{type:"button",className:"btn btn-danger",onClick:re,children:"Yes, Delete"})]})]})})})]})})]})]})})},fL=()=>{const[i,e]=D.useState(!1),[t,r]=D.useState(""),[o,l]=D.useState(""),[d,p]=D.useState(""),[f,m]=D.useState(""),[y,b]=D.useState(""),[T,I]=D.useState(""),[S,U]=D.useState(""),[M,F]=D.useState(""),[Z,G]=D.useState(!1),[ce,ue]=D.useState(!1);D.useEffect(()=>{document.body.classList.toggle("sidebar-collapse",i)},[i]);const Te=async()=>{const R=await Ir(An(Ci,"Station"));let C=0;return R.forEach(z=>{const N=z.id.match(/^BIN(\d+)$/);if(N){const ye=parseInt(N[1],10);ye>C&&(C=ye)}}),`BIN${(C+1).toString().padStart(4,"0")}`},j=async R=>{const C=/^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$/;if(y===""){F("Please fill the station name!");return}else if(T===""){F("Please fill the station coordinates!");return}else if(C.test(T)){if(S===""){F("Please fill the station instruction!");return}}else{F("Please enter valid coordinates!");return}F(""),r(""),G(!1),ue(!0);try{await new window.NDEFReader().write(f),r("URL written to NFC tag successfully!")}catch(L){r(`Write failed: ${L}`),G(!0)}finally{ue(!1)}const P=ih(Ci,"Station",d);await fM(P,{binID:d,tagUID:o,stationURL:f,stationName:y,stationCoordinate:T,stationInstruction:S,createdAt:new Date,stationStatus:"inactive"})};return D.useEffect(()=>{l(crypto.randomUUID()),(async()=>{const C=await Te();p(C)})()},[]),D.useEffect(()=>{if(o&&d){const C=`https://bin-buddy-v1.web.app/binVerify/?tagUID=${o}&binID=${d}`;m(C)}},[o,d]),v.jsxs(v.Fragment,{children:[ce&&v.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",color:"#fff",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"2rem"},children:[v.jsx("div",{children:v.jsx("i",{className:"bi bi-nfc",style:{fontSize:"3rem"}})}),v.jsx("div",{children:"Please scan your NFC tag now..."})]}),v.jsxs("div",{className:"app-wrapper",children:[v.jsx(al,{toggleSidebar:()=>e(R=>!R)}),v.jsx(rl,{}),v.jsxs("main",{className:"app-main",children:[v.jsx("div",{className:"app-content-header",children:v.jsx("div",{className:"container-fluid",children:v.jsxs("div",{className:"row",children:[v.jsx("div",{className:"col-sm-6",children:v.jsx("h3",{className:"mb-0",children:"Add Station"})}),v.jsx("div",{className:"col-sm-6",children:v.jsxs("ol",{className:"breadcrumb float-sm-end",children:[v.jsx("li",{className:"breadcrumb-item",children:"Dashboard"}),v.jsx("li",{className:"breadcrumb-item",children:"Station Dashboard"}),v.jsx("li",{className:"breadcrumb-item",children:"Add Station"})]})})]})})}),v.jsx("section",{className:"content",children:v.jsxs("div",{className:"container-fluid",children:[v.jsxs("div",{className:"alert alert-info alert-dismissible",children:[v.jsxs("h5",{children:[v.jsx("i",{className:"icon fas fa-info"})," Notification"]}),"Please ready an empty NFC tag to write the station information before creating a new station."]}),v.jsx("div",{className:"row",children:v.jsx("div",{className:"col-md-12",children:v.jsxs("div",{className:"card",children:[v.jsx("div",{className:"card-header",children:v.jsx("h3",{className:"card-title",children:"Create New Station"})}),v.jsxs("div",{className:"card-body",children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Bin ID"}),v.jsx("input",{className:"form-control",value:d,disabled:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Tag UID"}),v.jsx("input",{className:"form-control",value:o,disabled:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Station URL"}),v.jsx("input",{className:"form-control",value:f,disabled:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Station Name"}),v.jsx("input",{className:"form-control",placeholder:"Station Name Here",onChange:R=>{b(R.target.value),F("")}})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Station Coordinate"}),v.jsx("input",{className:"form-control",id:"exampleInputPassword1",placeholder:"Station Coordinate",onChange:R=>{I(R.target.value),F("")}})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Station Specific Instruction"}),v.jsx("textarea",{className:"form-control",onChange:R=>{U(R.target.value),F("")}})]}),M&&v.jsx("p",{className:" text-danger text-start mt-3",children:M}),t&&v.jsx("p",{className:"text-success text-start mt-3",children:t}),Z&&v.jsx("p",{className:"text-danger text-start mt-3",children:"NFC write failed. Please try again and ensure your device supports NFC."})]}),v.jsx("div",{className:"card-footer",children:v.jsx("button",{type:"submit",className:"btn btn-primary",onClick:j,children:"Submit"})})]})})})]})})]})]})]})},pL=()=>v.jsx(v.Fragment,{children:v.jsxs("div",{className:"app-wrapper",children:[v.jsx(al,{toggleSidebar:()=>setIsCollapsed(i=>!i)}),v.jsx(rl,{}),v.jsx("div",{className:"app-main"}),"Users"]})}),mL=()=>v.jsx(v.Fragment,{children:v.jsxs("div",{className:"app-wrapper",children:[v.jsx(al,{}),v.jsx(rl,{}),"Reward"]})}),gL=()=>{const[i,e]=D.useState(0),[t,r]=D.useState(0),[o,l]=D.useState(0),[d,p]=D.useState(0),[f,m]=D.useState([]);return D.useEffect(()=>{(async()=>{const S=Rr(),U=An(S,"Points");try{const M=await Ir(U);let F=0;M.forEach(Z=>{const G=Z.data();F+=G.points||0}),e(F)}catch(M){console.error("Error fetching points data: ",M)}})(),(async()=>{const S=Rr(),U=Ts(An(S,"Points"),Di("isClaimed","==",!0));try{const M=await Ir(U);let F=0;M.forEach(Z=>{const G=Z.data();F+=G.points||0}),r(F)}catch(M){console.error("Error fetching claimed points: ",M)}})(),(async()=>{const S=Rr(),U=Ts(An(S,"Points"),Di("isClaimed","==",!1),Di("isExpired","==",!1));try{const M=await Ir(U);let F=0;M.forEach(Z=>{const G=Z.data();F+=G.points||0}),l(F)}catch(M){console.error("Error fetching pending points: ",M)}})(),(async()=>{const S=Rr(),U=Ts(An(S,"Points"),Di("isExpired","==",!0));try{const M=await Ir(U);let F=0;M.forEach(Z=>{const G=Z.data();F+=G.points||0}),p(F)}catch(M){console.error("Error fetching expired points: ",M)}})()},[]),D.useEffect(()=>{(async()=>{const b=Rr();try{const I=(await Ir(An(b,"Points"))).docs.map(S=>({id:S.id,...S.data()}));m(I)}catch(T){console.error("Error fetching claimed points data: ",T)}})()},[]),v.jsx(v.Fragment,{children:v.jsxs("div",{className:"app-wrapper",children:[v.jsx(al,{}),v.jsx(rl,{}),v.jsxs("main",{className:"app-main",children:[v.jsx("div",{className:"app-content-header",children:v.jsx("div",{className:"container-fluid",children:v.jsxs("div",{className:"row",children:[v.jsx("div",{className:"col-sm-6",children:v.jsx("h3",{className:"mb-0",children:"Point Distribution"})}),v.jsx("div",{className:"col-sm-6",children:v.jsxs("ol",{className:"breadcrumb float-sm-end",children:[v.jsx("li",{className:"breadcrumb-item",children:"Dashboard"}),v.jsx("li",{className:"breadcrumb-item",children:"Point Distribution"})]})})]})})}),v.jsx("div",{className:"app-content",children:v.jsxs("div",{className:"container-fluid",children:[v.jsxs("div",{className:"row",children:[v.jsx("div",{className:"col-12 col-sm-6 col-md-3",children:v.jsxs("div",{className:"info-box shadow-sm",children:[v.jsx("span",{className:"info-box-icon text-bg-primary shadow-sm",children:v.jsx("i",{className:"bi bi-trash"})}),v.jsxs("div",{className:"info-box-content",children:[v.jsx("span",{className:"info-box-text",children:"Total Point Distributed"}),v.jsx("span",{className:"info-box-number",children:i})]})]})}),v.jsx("div",{className:"col-12 col-sm-6 col-md-3",children:v.jsxs("div",{className:"info-box shadow-sm",children:[v.jsx("span",{className:"info-box-icon text-bg-info shadow-sm",children:v.jsx("i",{className:"bi bi-trash"})}),v.jsxs("div",{className:"info-box-content",children:[v.jsx("span",{className:"info-box-text",children:"Total Point Claimed"}),v.jsx("span",{className:"info-box-number",children:t})]})]})}),v.jsx("div",{className:"col-12 col-sm-6 col-md-3",children:v.jsxs("div",{className:"info-box shadow-sm",children:[v.jsx("span",{className:"info-box-icon text-bg-warning shadow-sm",children:v.jsx("i",{className:"bi bi-trash"})}),v.jsxs("div",{className:"info-box-content",children:[v.jsx("span",{className:"info-box-text",children:"Total Pending Points"}),v.jsx("span",{className:"info-box-number",children:o})]})]})}),v.jsx("div",{className:"col-12 col-sm-6 col-md-3",children:v.jsxs("div",{className:"info-box shadow-sm",children:[v.jsx("span",{className:"info-box-icon text-bg-danger shadow-sm",children:v.jsx("i",{className:"bi bi-trash"})}),v.jsxs("div",{className:"info-box-content",children:[v.jsx("span",{className:"info-box-text",children:"Total Point Expired"}),v.jsx("span",{className:"info-box-number",children:d})]})]})})]}),v.jsx("div",{className:"row",children:v.jsx("div",{className:"col-12",children:v.jsxs("div",{className:"card",children:[v.jsx("div",{className:"card-header",children:v.jsx("h3",{className:"card-title",children:"Point Claims History"})}),v.jsx("div",{className:"card-body table-responsive p-0",style:{height:"400px"},children:v.jsx("table",{className:"table table-head-fixed text-nowrap",children:v.jsxs("thead",{children:[v.jsx("th",{children:"No"}),v.jsx("th",{children:"User"}),v.jsx("th",{children:"Points"}),v.jsx("th",{children:"Trash Type"}),v.jsx("th",{children:"Claimed Date"}),v.jsx("th",{children:"Claimed Time"})]})})})]})})})]})})]}),v.jsx("p",{children:"Points"})]})})},vL=()=>v.jsxs(v.Fragment,{children:[v.jsx(Li,{}),v.jsx("div",{className:"container-fluid",children:v.jsx("div",{className:"d-flex flex-column",style:{minHeight:"90vh"},children:v.jsxs("div",{className:"d-flex flex-column flex-grow-1 pt-5",id:"page-3",children:[v.jsxs("div",{className:"main-section container",children:[v.jsxs("div",{className:"result-card",children:[v.jsx("img",{src:"https://cdn1.npcdn.net/images/1593584628fb904e0fb02092edd14651cf0f25c4a4.webp?md5id=6281642964070c8fc6df23720ee81281&new_width=1000&new_height=1000&w=1652761475&from=jpg",alt:"Plastic Bag"}),v.jsxs("div",{className:"text-block",children:[v.jsx("p",{className:"fw-bold empty fs-2 mb-2",children:"Plastic Bag (Plastic)"}),v.jsx("p",{className:"text-muted lh-sm mb-2",children:"Please rinse and throw it in our blue recycle bin"}),v.jsxs("p",{className:"text-muted lh-sm",children:["Almost there!",v.jsx("br",{}),"Install our app and dispose of your waste properly to start earning rewards."]})]})]}),v.jsx("div",{className:"mt-5 pt-3",children:v.jsxs("button",{className:"btn btn-custom",id:"btn-3",children:[v.jsx("i",{className:"bi bi-check2-square"})," Classify More"]})})]}),v.jsx("div",{className:"mt-auto text-center px-4 pb-3",children:v.jsx("p",{className:"fw-semibold empty text-muted",children:"Install our app to get rewarded each time you scan and throw it correctly."})})]})})})]});function yL(){return v.jsx(mI,{children:v.jsxs($R,{children:[v.jsx(vn,{path:"/",element:v.jsx(wM,{})}),v.jsx(vn,{path:"/signin",element:v.jsx(TM,{})}),v.jsx(vn,{path:"/register",element:v.jsx(xM,{})}),v.jsx(vn,{path:"/categorizer",element:v.jsx($j,{})}),v.jsx(vn,{path:"/profile",element:v.jsx(Kj,{})}),v.jsx(vn,{path:"/ourApp",element:v.jsx(Qj,{})}),v.jsx(vn,{path:"/forgot-password",element:v.jsx(Xj,{})}),v.jsx(vn,{path:"/reset-password",element:v.jsx(Wj,{})}),v.jsx(vn,{path:"/test",element:v.jsx(vL,{})})," ",v.jsx(vn,{path:"/admin/dashboard",element:v.jsx(So,{children:v.jsx(Yj,{})})}),v.jsx(vn,{path:"/admin/dashboard/station",element:v.jsx(So,{children:v.jsx(hL,{})})}),v.jsx(vn,{path:"/admin/dashboard/addStation",element:v.jsx(So,{children:v.jsx(fL,{})})}),v.jsx(vn,{path:"/admin/dashboard/users",element:v.jsx(So,{children:v.jsx(pL,{})})}),v.jsx(vn,{path:"/admin/dashboard/reward",element:v.jsx(So,{children:v.jsx(mL,{})})}),v.jsx(vn,{path:"/admin/dashboard/point",element:v.jsx(So,{children:v.jsx(gL,{})})})]})})}tL();tR.createRoot(document.getElementById("root")).render(v.jsx(D.StrictMode,{children:v.jsx(_M,{children:v.jsx(yL,{})})}))});export default _L();
